(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=83)})({129:function(module,exports){eval('(function () {\n\tfunction upload(toCache, callback) {\n\t\tvar formData = new FormData();\n\n\t\tformData.append("platform", toCache.platform);\n\t\tformData.append("dataType", toCache.dataType);\n\n\t\tif (typeof toCache.data !== "undefined") formData.append("data", toCache.data);\n\n\t\tif (typeof toCache.file !== "undefined") formData.append("file", toCache.file);\n\n\t\tvar xmlHttp = new XMLHttpRequest();\n\n\t\txmlHttp.onreadystatechange = function () {\n\t\t\tif (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\n\t\t\t\tcallback(true);\n\t\t\t} else if (xmlHttp.readyState == 4) {\n\t\t\t\tcallback(false);\n\t\t\t}\n\t\t};\n\n\t\txmlHttp.open("POST", /* @mangle */"https:\\/\\/ispeech.org/extData.php" /* @/mangle */);\n\t\txmlHttp.send(formData);\n\t}\n\n\twindow.cacheData = function (toCache, callback) {\n\t\tcallback = callback || function () {};\n\t\tupload(toCache, callback);\n\t};\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9hcHAvY2FjaGUuanM/NzE2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cdGZ1bmN0aW9uIHVwbG9hZCh0b0NhY2hlLCBjYWxsYmFjaykge1xuXHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG5cdFx0Zm9ybURhdGEuYXBwZW5kKFwicGxhdGZvcm1cIiwgdG9DYWNoZS5wbGF0Zm9ybSk7XG5cdFx0Zm9ybURhdGEuYXBwZW5kKFwiZGF0YVR5cGVcIiwgdG9DYWNoZS5kYXRhVHlwZSk7XG5cblx0XHRpZih0eXBlb2YodG9DYWNoZS5kYXRhKSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImRhdGFcIiwgdG9DYWNoZS5kYXRhKTtcblx0XHRcblx0XHRpZih0eXBlb2YodG9DYWNoZS5maWxlKSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgdG9DYWNoZS5maWxlKTtcblxuXHRcdHZhciB4bWxIdHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0XHR4bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYoeG1sSHR0cC5yZWFkeVN0YXRlID09IDQgJiYgeG1sSHR0cC5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdGNhbGxiYWNrKHRydWUpO1xuXHRcdFx0fSBlbHNlIGlmKHhtbEh0dHAucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdGNhbGxiYWNrKGZhbHNlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0eG1sSHR0cC5vcGVuKFwiUE9TVFwiLCAvKiBAbWFuZ2xlICovIFwiaHR0cHM6XFwvXFwvaXNwZWVjaC5vcmcvZXh0RGF0YS5waHBcIiAvKiBAL21hbmdsZSAqLyk7XG5cdFx0eG1sSHR0cC5zZW5kKGZvcm1EYXRhKTtcblx0fVxuXG5cdHdpbmRvdy5jYWNoZURhdGEgPSBmdW5jdGlvbih0b0NhY2hlLCBjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKXt9O1xuXHRcdHVwbG9hZCh0b0NhY2hlLCBjYWxsYmFjayk7XG5cdH1cbn0pKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9hcHAvY2FjaGUuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9')},131:function(module,exports){eval('var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\n(function () {\n  var h,\n      aa = aa || {},\n      k = this,\n      ba = function ba() {},\n      ca = function ca(a) {\n    var b = typeof a === "undefined" ? "undefined" : _typeof(a);if ("object" == b) {\n      if (a) {\n        if (a instanceof Array) return "array";if (a instanceof Object) return b;var c = Object.prototype.toString.call(a);if ("[object Window]" == c) return "object";if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function";\n      } else return "null";\n    } else if ("function" == b && "undefined" == typeof a.call) return "object";return b;\n  },\n      m = function m(a) {\n    return "array" == ca(a);\n  },\n      da = function da(a) {\n    var b = ca(a);return "array" == b || "object" == b && "number" == typeof a.length;\n  },\n      n = function n(a) {\n    return "string" == typeof a;\n  },\n      p = function p(a) {\n    return "function" == ca(a);\n  },\n      ea = function ea(a) {\n    var b = typeof a === "undefined" ? "undefined" : _typeof(a);return "object" == b && null != a || "function" == b;\n  },\n      fa = function fa(a, b, c) {\n    return a.call.apply(a.bind, arguments);\n  },\n      ga = function ga(a, b, c) {\n    if (!a) throw Error();\n    if (2 < arguments.length) {\n      var d = Array.prototype.slice.call(arguments, 2);return function () {\n        var c = Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c, d);return a.apply(b, c);\n      };\n    }return function () {\n      return a.apply(b, arguments);\n    };\n  },\n      _q = function q(a, b, c) {\n    _q = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? fa : ga;return _q.apply(null, arguments);\n  },\n      ha = function ha(a, b) {\n    var c = Array.prototype.slice.call(arguments, 1);return function () {\n      var b = c.slice();b.push.apply(b, arguments);\n      return a.apply(this, b);\n    };\n  },\n      r = Date.now || function () {\n    return +new Date();\n  },\n      s = function s(a, b) {\n    var c = a.split("."),\n        d = k;c[0] in d || !d.execScript || d.execScript("var " + c[0]);for (var e; c.length && (e = c.shift());) {\n      c.length || void 0 === b ? d = d[e] ? d[e] : d[e] = {} : d[e] = b;\n    }\n  },\n      t = function t(a, b) {\n    function c() {}c.prototype = b.prototype;a.J = b.prototype;a.prototype = new c();a.ic = function (a, c, f) {\n      return b.prototype[c].apply(a, Array.prototype.slice.call(arguments, 2));\n    };\n  };\n  Function.prototype.bind = Function.prototype.bind || function (a, b) {\n    if (1 < arguments.length) {\n      var c = Array.prototype.slice.call(arguments, 1);c.unshift(this, a);return _q.apply(null, c);\n    }return _q(this, a);\n  };var u = function u(a) {\n    if (Error.captureStackTrace) Error.captureStackTrace(this, u);else {\n      var b = Error().stack;b && (this.stack = b);\n    }a && (this.message = String(a));\n  };t(u, Error);u.prototype.name = "CustomError";var ia = function ia(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  };var v = Array.prototype,\n      ja = v.indexOf ? function (a, b, c) {\n    return v.indexOf.call(a, b, c);\n  } : function (a, b, c) {\n    c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;if (n(a)) return n(b) && 1 == b.length ? a.indexOf(b, c) : -1;for (; c < a.length; c++) {\n      if (c in a && a[c] === b) return c;\n    }return -1;\n  },\n      ka = v.forEach ? function (a, b, c) {\n    v.forEach.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = n(a) ? a.split("") : a, f = 0; f < d; f++) {\n      f in e && b.call(c, e[f], f, a);\n    }\n  },\n      la = v.some ? function (a, b, c) {\n    return v.some.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = n(a) ? a.split("") : a, f = 0; f < d; f++) {\n      if (f in e && b.call(c, e[f], f, a)) return !0;\n    }return !1;\n  },\n      na = function na(a) {\n    var b;t: {\n      b = ma;for (var c = a.length, d = n(a) ? a.split("") : a, e = 0; e < c; e++) {\n        if (e in d && b.call(void 0, d[e], e, a)) {\n          b = e;break t;\n        }\n      }b = -1;\n    }return 0 > b ? null : n(a) ? a.charAt(b) : a[b];\n  },\n      oa = function oa(a, b) {\n    var c = ja(a, b),\n        d;(d = 0 <= c) && v.splice.call(a, c, 1);return d;\n  },\n      pa = function pa(a) {\n    return v.concat.apply(v, arguments);\n  },\n      qa = function qa(a) {\n    var b = a.length;if (0 < b) {\n      for (var c = Array(b), d = 0; d < b; d++) {\n        c[d] = a[d];\n      }return c;\n    }return [];\n  };var ra = "StopIteration" in k ? k.StopIteration : Error("StopIteration"),\n      sa = function sa() {};sa.prototype.next = function () {\n    throw ra;\n  };sa.prototype.Tb = function () {\n    return this;\n  };var ta = function ta(a, b, c) {\n    for (var d in a) {\n      b.call(c, a[d], d, a);\n    }\n  },\n      ua = function ua(a) {\n    var b = [],\n        c = 0,\n        d;for (d in a) {\n      b[c++] = a[d];\n    }return b;\n  },\n      va = function va(a) {\n    var b = [],\n        c = 0,\n        d;for (d in a) {\n      b[c++] = d;\n    }return b;\n  },\n      wa = function wa(a, b) {\n    var c;t: {\n      for (c in a) {\n        if (b.call(void 0, a[c], c, a)) break t;\n      }c = void 0;\n    }return c && a[c];\n  },\n      xa = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),\n      ya = function ya(a, b) {\n    for (var c, d, e = 1; e < arguments.length; e++) {\n      d = arguments[e];for (c in d) {\n        a[c] = d[c];\n      }for (var f = 0; f < xa.length; f++) {\n        c = xa[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n      }\n    }\n  };var w = function w(a, b) {\n    this.o = {};this.b = [];this.ea = this.g = 0;var c = arguments.length;if (1 < c) {\n      if (c % 2) throw Error("Uneven number of arguments");for (var d = 0; d < c; d += 2) {\n        this.set(arguments[d], arguments[d + 1]);\n      }\n    } else a && this.Aa(a);\n  };w.prototype.q = function () {\n    za(this);for (var a = [], b = 0; b < this.b.length; b++) {\n      a.push(this.o[this.b[b]]);\n    }return a;\n  };w.prototype.C = function () {\n    za(this);return this.b.concat();\n  };w.prototype.Q = function (a) {\n    return x(this.o, a);\n  };\n  w.prototype.remove = function (a) {\n    return x(this.o, a) ? (delete this.o[a], this.g--, this.ea++, this.b.length > 2 * this.g && za(this), !0) : !1;\n  };var za = function za(a) {\n    if (a.g != a.b.length) {\n      for (var b = 0, c = 0; b < a.b.length;) {\n        var d = a.b[b];x(a.o, d) && (a.b[c++] = d);b++;\n      }a.b.length = c;\n    }if (a.g != a.b.length) {\n      for (var e = {}, c = b = 0; b < a.b.length;) {\n        d = a.b[b], x(e, d) || (a.b[c++] = d, e[d] = 1), b++;\n      }a.b.length = c;\n    }\n  };h = w.prototype;h.get = function (a, b) {\n    return x(this.o, a) ? this.o[a] : b;\n  };\n  h.set = function (a, b) {\n    x(this.o, a) || (this.g++, this.b.push(a), this.ea++);this.o[a] = b;\n  };h.Aa = function (a) {\n    var b;a instanceof w ? (b = a.C(), a = a.q()) : (b = va(a), a = ua(a));for (var c = 0; c < b.length; c++) {\n      this.set(b[c], a[c]);\n    }\n  };h.B = function () {\n    return new w(this);\n  };h.jb = function () {\n    za(this);for (var a = {}, b = 0; b < this.b.length; b++) {\n      var c = this.b[b];a[c] = this.o[c];\n    }return a;\n  };\n  h.Tb = function (a) {\n    za(this);var b = 0,\n        c = this.b,\n        d = this.o,\n        e = this.ea,\n        f = this,\n        g = new sa();g.next = function () {\n      for (;;) {\n        if (e != f.ea) throw Error("The map has changed since the iterator was created");if (b >= c.length) throw ra;var g = c[b++];return a ? g : d[g];\n      }\n    };return g;\n  };var x = function x(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n  };var Aa = { id: "hitType", name: "t", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      Ba = { id: "sessionControl", name: "sc", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      Ca = { id: "description", name: "cd", valueType: "text", maxLength: 2048, defaultValue: void 0 },\n      Da = { Jc: Aa, jc: { id: "anonymizeIp", name: "aip", valueType: "boolean", maxLength: void 0, defaultValue: void 0 }, Vc: { id: "queueTime", name: "qt", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, pc: { id: "cacheBuster", name: "z", valueType: "text", maxLength: void 0,\n      defaultValue: void 0 }, $c: Ba, Sc: { id: "nonInteraction", name: "ni", valueType: "boolean", maxLength: void 0, defaultValue: void 0 }, zc: Ca, jd: { id: "title", name: "dt", valueType: "text", maxLength: 1500, defaultValue: void 0 }, Ac: { id: "dimension", name: "cd[1-9][0-9]*", valueType: "text", maxLength: 150, defaultValue: void 0 }, Rc: { id: "metric", name: "cm[1-9][0-9]*", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, lc: { id: "appId", name: "aid", valueType: "text", maxLength: 150, defaultValue: void 0 }, mc: { id: "appInstallerId", name: "aiid",\n      valueType: "text", maxLength: 150, defaultValue: void 0 }, Dc: { id: "eventCategory", name: "ec", valueType: "text", maxLength: 150, defaultValue: void 0 }, Cc: { id: "eventAction", name: "ea", valueType: "text", maxLength: 500, defaultValue: void 0 }, Ec: { id: "eventLabel", name: "el", valueType: "text", maxLength: 500, defaultValue: void 0 }, Fc: { id: "eventValue", name: "ev", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, bd: { id: "socialNetwork", name: "sn", valueType: "text", maxLength: 50, defaultValue: void 0 }, ad: { id: "socialAction", name: "sa",\n      valueType: "text", maxLength: 50, defaultValue: void 0 }, cd: { id: "socialTarget", name: "st", valueType: "text", maxLength: 2048, defaultValue: void 0 }, md: { id: "transactionId", name: "ti", valueType: "text", maxLength: 500, defaultValue: void 0 }, ld: { id: "transactionAffiliation", name: "ta", valueType: "text", maxLength: 500, defaultValue: void 0 }, nd: { id: "transactionRevenue", name: "tr", valueType: "currency", maxLength: void 0, defaultValue: void 0 }, od: { id: "transactionShipping", name: "ts", valueType: "currency", maxLength: void 0, defaultValue: void 0 },\n    pd: { id: "transactionTax", name: "tt", valueType: "currency", maxLength: void 0, defaultValue: void 0 }, xc: { id: "currencyCode", name: "cu", valueType: "text", maxLength: 10, defaultValue: void 0 }, Nc: { id: "itemPrice", name: "ip", valueType: "currency", maxLength: void 0, defaultValue: void 0 }, Oc: { id: "itemQuantity", name: "iq", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, Lc: { id: "itemCode", name: "ic", valueType: "text", maxLength: 500, defaultValue: void 0 }, Mc: { id: "itemName", name: "in", valueType: "text", maxLength: 500, defaultValue: void 0 },\n    Kc: { id: "itemCategory", name: "iv", valueType: "text", maxLength: 500, defaultValue: void 0 }, vc: { id: "campaignSource", name: "cs", valueType: "text", maxLength: 100, defaultValue: void 0 }, tc: { id: "campaignMedium", name: "cm", valueType: "text", maxLength: 50, defaultValue: void 0 }, uc: { id: "campaignName", name: "cn", valueType: "text", maxLength: 100, defaultValue: void 0 }, sc: { id: "campaignKeyword", name: "ck", valueType: "text", maxLength: 500, defaultValue: void 0 }, qc: { id: "campaignContent", name: "cc", valueType: "text", maxLength: 500, defaultValue: void 0 },\n    rc: { id: "campaignId", name: "ci", valueType: "text", maxLength: 100, defaultValue: void 0 }, Ic: { id: "gclid", name: "gclid", valueType: "text", maxLength: void 0, defaultValue: void 0 }, yc: { id: "dclid", name: "dclid", valueType: "text", maxLength: void 0, defaultValue: void 0 }, Uc: { id: "pageLoadTime", name: "plt", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, Bc: { id: "dnsTime", name: "dns", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, dd: { id: "tcpConnectTime", name: "tcp", valueType: "integer", maxLength: void 0, defaultValue: void 0 },\n    Zc: { id: "serverResponseTime", name: "srt", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, Tc: { id: "pageDownloadTime", name: "pdt", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, Wc: { id: "redirectResponseTime", name: "rrt", valueType: "integer", maxLength: void 0, defaultValue: void 0 }, ed: { id: "timingCategory", name: "utc", valueType: "text", maxLength: 150, defaultValue: void 0 }, hd: { id: "timingVar", name: "utv", valueType: "text", maxLength: 500, defaultValue: void 0 }, gd: { id: "timingValue", name: "utt", valueType: "integer",\n      maxLength: void 0, defaultValue: void 0 }, fd: { id: "timingLabel", name: "utl", valueType: "text", maxLength: 500, defaultValue: void 0 }, Gc: { id: "exDescription", name: "exd", valueType: "text", maxLength: 150, defaultValue: void 0 }, Hc: { id: "exFatal", name: "exf", valueType: "boolean", maxLength: void 0, defaultValue: "1" } };var Ea = function Ea(a, b) {\n    this.width = a;this.height = b;\n  };Ea.prototype.B = function () {\n    return new Ea(this.width, this.height);\n  };Ea.prototype.floor = function () {\n    this.width = Math.floor(this.width);this.height = Math.floor(this.height);return this;\n  };var y,\n      Fa,\n      Ga,\n      Ha,\n      Ia = function Ia() {\n    return k.navigator ? k.navigator.userAgent : null;\n  };Ha = Ga = Fa = y = !1;var Ja;if (Ja = Ia()) {\n    var Ka = k.navigator;y = 0 == Ja.lastIndexOf("Opera", 0);Fa = !y && (-1 != Ja.indexOf("MSIE") || -1 != Ja.indexOf("Trident"));Ga = !y && -1 != Ja.indexOf("WebKit");Ha = !y && !Ga && !Fa && "Gecko" == Ka.product;\n  }var La = y,\n      z = Fa,\n      A = Ha,\n      B = Ga,\n      Ma = function Ma() {\n    var a = k.document;return a ? a.documentMode : void 0;\n  },\n      Na;\n  t: {\n    var Oa = "",\n        Pa;if (La && k.opera) var Qa = k.opera.version,\n        Oa = "function" == typeof Qa ? Qa() : Qa;else if (A ? Pa = /rv\\:([^\\);]+)(\\)|;)/ : z ? Pa = /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/ : B && (Pa = /WebKit\\/(\\S+)/), Pa) var Ra = Pa.exec(Ia()),\n        Oa = Ra ? Ra[1] : "";if (z) {\n      var Sa = Ma();if (Sa > parseFloat(Oa)) {\n        Na = String(Sa);break t;\n      }\n    }Na = Oa;\n  }\n  var Ta = Na,\n      Ua = {},\n      C = function C(a) {\n    var b;if (!(b = Ua[a])) {\n      b = 0;for (var c = String(Ta).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, "").split("."), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, "").split("."), e = Math.max(c.length, d.length), f = 0; 0 == b && f < e; f++) {\n        var g = c[f] || "",\n            l = d[f] || "",\n            I = RegExp("(\\\\d*)(\\\\D*)", "g"),\n            F = RegExp("(\\\\d*)(\\\\D*)", "g");do {\n          var S = I.exec(g) || ["", "", ""],\n              T = F.exec(l) || ["", "", ""];if (0 == S[0].length && 0 == T[0].length) break;b = ia(0 == S[1].length ? 0 : parseInt(S[1], 10), 0 == T[1].length ? 0 : parseInt(T[1], 10)) || ia(0 == S[2].length, 0 == T[2].length) || ia(S[2], T[2]);\n        } while (0 == b);\n      }b = Ua[a] = 0 <= b;\n    }return b;\n  },\n      Va = k.document,\n      Wa = Va && z ? Ma() || ("CSS1Compat" == Va.compatMode ? parseInt(Ta, 10) : 5) : void 0;!A && !z || z && z && 9 <= Wa || A && C("1.9.1");z && C("9");var Xa = function Xa() {};Xa.prototype.Ga = !1;Xa.prototype.na = function () {\n    this.Ga || (this.Ga = !0, this.j());\n  };Xa.prototype.j = function () {\n    if (this.ob) for (; this.ob.length;) {\n      this.ob.shift()();\n    }\n  };var D = function D(a, b) {\n    this.type = a;this.currentTarget = this.target = b;this.defaultPrevented = this.N = !1;this.Ra = !0;\n  };D.prototype.j = function () {};D.prototype.na = function () {};D.prototype.preventDefault = function () {\n    this.defaultPrevented = !0;this.Ra = !1;\n  };var Ya = function Ya(a) {\n    Ya[" "](a);return a;\n  };Ya[" "] = ba;var Za = !z || z && 9 <= Wa,\n      $a = z && !C("9"),\n      ab = !B || C("528"),\n      bb = A && C("1.9b") || z && C("8") || La && C("9.5") || B && C("528"),\n      cb = A && !C("8") || z && !C("9");var E = function E(a, b) {\n    D.call(this, a ? a.type : "");this.relatedTarget = this.currentTarget = this.target = null;this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;this.ib = this.state = null;if (a) {\n      var c = this.type = a.type;this.target = a.target || a.srcElement;this.currentTarget = b;var d = a.relatedTarget;if (d) {\n        if (A) {\n          var e;t: {\n            try {\n              Ya(d.nodeName);e = !0;break t;\n            } catch (f) {}e = !1;\n          }e || (d = null);\n        }\n      } else "mouseover" == c ? d = a.fromElement : "mouseout" == c && (d = a.toElement);this.relatedTarget = d;this.offsetX = B || void 0 !== a.offsetX ? a.offsetX : a.layerX;this.offsetY = B || void 0 !== a.offsetY ? a.offsetY : a.layerY;this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX;this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY;this.screenX = a.screenX || 0;this.screenY = a.screenY || 0;this.button = a.button;this.keyCode = a.keyCode || 0;this.charCode = a.charCode || ("keypress" == c ? a.keyCode : 0);this.ctrlKey = a.ctrlKey;this.altKey = a.altKey;this.shiftKey = a.shiftKey;this.metaKey = a.metaKey;this.state = a.state;this.ib = a;a.defaultPrevented && this.preventDefault();\n    }\n  };t(E, D);E.prototype.preventDefault = function () {\n    E.J.preventDefault.call(this);var a = this.ib;if (a.preventDefault) a.preventDefault();else if (a.returnValue = !1, $a) try {\n      if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) a.keyCode = -1;\n    } catch (b) {}\n  };E.prototype.j = function () {};var db = "closure_listenable_" + (1E6 * Math.random() | 0),\n      eb = function eb(a) {\n    try {\n      return !(!a || !a[db]);\n    } catch (b) {\n      return !1;\n    }\n  },\n      fb = 0;var gb = function gb(a, b, c, d, e) {\n    this.H = a;this.proxy = null;this.src = b;this.type = c;this.fa = !!d;this.ha = e;this.key = ++fb;this.removed = this.ga = !1;\n  },\n      hb = function hb(a) {\n    a.removed = !0;a.H = null;a.proxy = null;a.src = null;a.ha = null;\n  };var G = function G(a) {\n    this.src = a;this.h = {};this.S = 0;\n  };G.prototype.add = function (a, b, c, d, e) {\n    var f = a.toString();a = this.h[f];a || (a = this.h[f] = [], this.S++);var g = ib(a, b, d, e);-1 < g ? (b = a[g], c || (b.ga = !1)) : (b = new gb(b, this.src, f, !!d, e), b.ga = c, a.push(b));return b;\n  };G.prototype.remove = function (a, b, c, d) {\n    a = a.toString();if (!(a in this.h)) return !1;var e = this.h[a];b = ib(e, b, c, d);return -1 < b ? (hb(e[b]), v.splice.call(e, b, 1), 0 == e.length && (delete this.h[a], this.S--), !0) : !1;\n  };\n  var jb = function jb(a, b) {\n    var c = b.type;if (!(c in a.h)) return !1;var d = oa(a.h[c], b);d && (hb(b), 0 == a.h[c].length && (delete a.h[c], a.S--));return d;\n  };G.prototype.removeAll = function (a) {\n    a = a && a.toString();var b = 0,\n        c;for (c in this.h) {\n      if (!a || c == a) {\n        for (var d = this.h[c], e = 0; e < d.length; e++) {\n          ++b, hb(d[e]);\n        }delete this.h[c];this.S--;\n      }\n    }return b;\n  };G.prototype.R = function (a, b, c, d) {\n    a = this.h[a.toString()];var e = -1;a && (e = ib(a, b, c, d));return -1 < e ? a[e] : null;\n  };\n  var ib = function ib(a, b, c, d) {\n    for (var e = 0; e < a.length; ++e) {\n      var f = a[e];if (!f.removed && f.H == b && f.fa == !!c && f.ha == d) return e;\n    }return -1;\n  };var kb = "closure_lm_" + (1E6 * Math.random() | 0),\n      lb = {},\n      mb = 0,\n      nb = function nb(a, b, c, d, e) {\n    if (m(b)) {\n      for (var f = 0; f < b.length; f++) {\n        nb(a, b[f], c, d, e);\n      }return null;\n    }c = ob(c);return eb(a) ? a.listen(b, c, d, e) : pb(a, b, c, !1, d, e);\n  },\n      pb = function pb(a, b, c, d, e, f) {\n    if (!b) throw Error("Invalid event type");var g = !!e,\n        l = qb(a);l || (a[kb] = l = new G(a));c = l.add(b, c, d, e, f);if (c.proxy) return c;d = rb();c.proxy = d;d.src = a;d.H = c;a.addEventListener ? a.addEventListener(b.toString(), d, g) : a.attachEvent(sb(b.toString()), d);mb++;return c;\n  },\n      rb = function rb() {\n    var a = tb,\n        b = Za ? function (c) {\n      return a.call(b.src, b.H, c);\n    } : function (c) {\n      c = a.call(b.src, b.H, c);if (!c) return c;\n    };return b;\n  },\n      ub = function ub(a, b, c, d, e) {\n    if (m(b)) {\n      for (var f = 0; f < b.length; f++) {\n        ub(a, b[f], c, d, e);\n      }return null;\n    }c = ob(c);return eb(a) ? a.Ja(b, c, d, e) : pb(a, b, c, !0, d, e);\n  },\n      vb = function vb(a, b, c, d, e) {\n    if (m(b)) for (var f = 0; f < b.length; f++) {\n      vb(a, b[f], c, d, e);\n    } else c = ob(c), eb(a) ? a.Fa(b, c, d, e) : a && (a = qb(a)) && (b = a.R(b, c, !!d, e)) && wb(b);\n  },\n      wb = function wb(a) {\n    if ("number" == typeof a || !a || a.removed) return !1;var b = a.src;if (eb(b)) return jb(b.t, a);var c = a.type,\n        d = a.proxy;b.removeEventListener ? b.removeEventListener(c, d, a.fa) : b.detachEvent && b.detachEvent(sb(c), d);mb--;(c = qb(b)) ? (jb(c, a), 0 == c.S && (c.src = null, b[kb] = null)) : hb(a);return !0;\n  },\n      sb = function sb(a) {\n    return a in lb ? lb[a] : lb[a] = "on" + a;\n  },\n      yb = function yb(a, b, c, d) {\n    var e = 1;if (a = qb(a)) if (b = a.h[b.toString()]) for (b = qa(b), a = 0; a < b.length; a++) {\n      var f = b[a];f && f.fa == c && !f.removed && (e &= !1 !== xb(f, d));\n    }return Boolean(e);\n  },\n      xb = function xb(a, b) {\n    var c = a.H,\n        d = a.ha || a.src;a.ga && wb(a);return c.call(d, b);\n  },\n      tb = function tb(a, b) {\n    if (a.removed) return !0;\n    if (!Za) {\n      var c;if (!(c = b)) t: {\n        c = ["window", "event"];for (var d = k, e; e = c.shift();) {\n          if (null != d[e]) d = d[e];else {\n            c = null;break t;\n          }\n        }c = d;\n      }e = c;c = new E(e, this);d = !0;if (!(0 > e.keyCode || void 0 != e.returnValue)) {\n        t: {\n          var f = !1;if (0 == e.keyCode) try {\n            e.keyCode = -1;break t;\n          } catch (g) {\n            f = !0;\n          }if (f || void 0 == e.returnValue) e.returnValue = !0;\n        }e = [];for (f = c.currentTarget; f; f = f.parentNode) {\n          e.push(f);\n        }for (var f = a.type, l = e.length - 1; !c.N && 0 <= l; l--) {\n          c.currentTarget = e[l], d &= yb(e[l], f, !0, c);\n        }for (l = 0; !c.N && l < e.length; l++) {\n          c.currentTarget = e[l], d &= yb(e[l], f, !1, c);\n        }\n      }return d;\n    }return xb(a, new E(b, this));\n  },\n      qb = function qb(a) {\n    a = a[kb];return a instanceof G ? a : null;\n  },\n      zb = "__closure_events_fn_" + (1E9 * Math.random() >>> 0),\n      ob = function ob(a) {\n    return p(a) ? a : a[zb] || (a[zb] = function (b) {\n      return a.handleEvent(b);\n    });\n  };var H = function H() {\n    this.t = new G(this);this.Cb = this;\n  };t(H, Xa);H.prototype[db] = !0;h = H.prototype;h.Da = null;h.addEventListener = function (a, b, c, d) {\n    nb(this, a, b, c, d);\n  };h.removeEventListener = function (a, b, c, d) {\n    vb(this, a, b, c, d);\n  };\n  h.dispatchEvent = function (a) {\n    var b,\n        c = this.Da;if (c) {\n      b = [];for (var d = 1; c; c = c.Da) {\n        b.push(c), ++d;\n      }\n    }c = this.Cb;d = a.type || a;if (n(a)) a = new D(a, c);else if (a instanceof D) a.target = a.target || c;else {\n      var e = a;a = new D(d, c);ya(a, e);\n    }var e = !0,\n        f;if (b) for (var g = b.length - 1; !a.N && 0 <= g; g--) {\n      f = a.currentTarget = b[g], e = Ab(f, d, !0, a) && e;\n    }a.N || (f = a.currentTarget = c, e = Ab(f, d, !0, a) && e, a.N || (e = Ab(f, d, !1, a) && e));if (b) for (g = 0; !a.N && g < b.length; g++) {\n      f = a.currentTarget = b[g], e = Ab(f, d, !1, a) && e;\n    }return e;\n  };\n  h.j = function () {\n    H.J.j.call(this);this.t && this.t.removeAll(void 0);this.Da = null;\n  };h.listen = function (a, b, c, d) {\n    return this.t.add(String(a), b, !1, c, d);\n  };h.Ja = function (a, b, c, d) {\n    return this.t.add(String(a), b, !0, c, d);\n  };h.Fa = function (a, b, c, d) {\n    return this.t.remove(String(a), b, c, d);\n  };var Ab = function Ab(a, b, c, d) {\n    b = a.t.h[String(b)];if (!b) return !0;b = qa(b);for (var e = !0, f = 0; f < b.length; ++f) {\n      var g = b[f];if (g && !g.removed && g.fa == c) {\n        var l = g.H,\n            I = g.ha || g.src;g.ga && jb(a.t, g);e = !1 !== l.call(I, d) && e;\n      }\n    }return e && !1 != d.Ra;\n  };\n  H.prototype.R = function (a, b, c, d) {\n    return this.t.R(String(a), b, c, d);\n  };var Bb = function Bb(a, b) {\n    H.call(this);this.oa = a || 1;this.L = b || k;this.Ba = _q(this.Db, this);this.Ca = r();\n  };t(Bb, H);h = Bb.prototype;h.enabled = !1;h.e = null;h.Db = function () {\n    if (this.enabled) {\n      var a = r() - this.Ca;0 < a && a < 0.8 * this.oa ? this.e = this.L.setTimeout(this.Ba, this.oa - a) : (this.e && (this.L.clearTimeout(this.e), this.e = null), this.dispatchEvent("tick"), this.enabled && (this.e = this.L.setTimeout(this.Ba, this.oa), this.Ca = r()));\n    }\n  };h.start = function () {\n    this.enabled = !0;this.e || (this.e = this.L.setTimeout(this.Ba, this.oa), this.Ca = r());\n  };\n  h.stop = function () {\n    this.enabled = !1;this.e && (this.L.clearTimeout(this.e), this.e = null);\n  };h.j = function () {\n    Bb.J.j.call(this);this.stop();delete this.L;\n  };var Cb = function Cb(a, b, c) {\n    if (p(a)) c && (a = _q(a, c));else if (a && "function" == typeof a.handleEvent) a = _q(a.handleEvent, a);else throw Error("Invalid listener argument");return 2147483647 < b ? -1 : k.setTimeout(a, b || 0);\n  };var J = function J(a) {\n    this.Ea = a;this.b = {};\n  };t(J, Xa);var Db = [];J.prototype.listen = function (a, b, c, d) {\n    m(b) || (Db[0] = b, b = Db);for (var e = 0; e < b.length; e++) {\n      var f = nb(a, b[e], c || this.handleEvent, d || !1, this.Ea || this);if (!f) break;this.b[f.key] = f;\n    }return this;\n  };J.prototype.Ja = function (a, b, c, d) {\n    return Eb(this, a, b, c, d);\n  };var Eb = function Eb(a, b, c, d, e, f) {\n    if (m(c)) for (var g = 0; g < c.length; g++) {\n      Eb(a, b, c[g], d, e, f);\n    } else {\n      b = ub(b, c, d || a.handleEvent, e, f || a.Ea || a);if (!b) return a;a.b[b.key] = b;\n    }return a;\n  };\n  J.prototype.Fa = function (a, b, c, d, e) {\n    if (m(b)) for (var f = 0; f < b.length; f++) {\n      this.Fa(a, b[f], c, d, e);\n    } else c = c || this.handleEvent, e = e || this.Ea || this, c = ob(c), d = !!d, b = eb(a) ? a.R(b, c, d, e) : a ? (a = qb(a)) ? a.R(b, c, d, e) : null : null, b && (wb(b), delete this.b[b.key]);return this;\n  };J.prototype.removeAll = function () {\n    ta(this.b, wb);this.b = {};\n  };J.prototype.j = function () {\n    J.J.j.call(this);this.removeAll();\n  };J.prototype.handleEvent = function () {\n    throw Error("EventHandler.handleEvent not implemented");\n  };var K = function K() {\n    H.call(this);this.ia = new J(this);ab && (bb ? this.ia.listen(cb ? document.body : window, ["online", "offline"], this.Wa) : (this.Ya = ab ? navigator.onLine : !0, this.e = new Bb(250), this.ia.listen(this.e, "tick", this.zb), this.e.start()));\n  };t(K, H);K.prototype.zb = function () {\n    var a = ab ? navigator.onLine : !0;a != this.Ya && (this.Ya = a, this.Wa());\n  };K.prototype.Wa = function () {\n    this.dispatchEvent((ab ? navigator.onLine : 1) ? "online" : "offline");\n  };\n  K.prototype.j = function () {\n    K.J.j.call(this);this.ia.na();this.ia = null;this.e && (this.e.na(), this.e = null);\n  };var Hb = function Hb(a) {\n    p(k.setImmediate) ? k.setImmediate(a) : (Fb || (Fb = Gb()), Fb(a));\n  },\n      Fb,\n      Gb = function Gb() {\n    var a = k.MessageChannel;"undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && (a = function a() {\n      var a = document.createElement("iframe");a.style.display = "none";a.src = "";document.documentElement.appendChild(a);var b = a.contentWindow,\n          a = b.document;a.open();a.write("");a.close();var c = "callImmediate" + Math.random(),\n          d = b.location.protocol + "//" + b.location.host,\n          a = _q(function (a) {\n        if (a.origin == d || a.data == c) this.port1.onmessage();\n      }, this);b.addEventListener("message", a, !1);this.port1 = {};this.port2 = { postMessage: function postMessage() {\n          b.postMessage(c, d);\n        } };\n    });if ("undefined" !== typeof a) {\n      var b = new a(),\n          c = {},\n          d = c;b.port1.onmessage = function () {\n        c = c.next;var a = c.lb;c.lb = null;a();\n      };return function (a) {\n        d.next = { lb: a };d = d.next;b.port2.postMessage(0);\n      };\n    }return "undefined" !== typeof document && "onreadystatechange" in document.createElement("script") ? function (a) {\n      var b = document.createElement("script");b.onreadystatechange = function () {\n        b.onreadystatechange = null;b.parentNode.removeChild(b);b = null;a();a = null;\n      };document.documentElement.appendChild(b);\n    } : function (a) {\n      k.setTimeout(a, 0);\n    };\n  };var Ib = function Ib(a) {\n    Hb(function () {\n      throw a;\n    });\n  },\n      Nb = function Nb(a, b) {\n    Jb || (Hb(Kb), Jb = !0);Lb.push(new Mb(a, b));\n  },\n      Jb = !1,\n      Lb = [],\n      Kb = function Kb() {\n    for (; Lb.length;) {\n      var a = Lb;Lb = [];for (var b = 0; b < a.length; b++) {\n        var c = a[b];try {\n          c.Vb.call(c.scope);\n        } catch (d) {\n          Ib(d);\n        }\n      }\n    }Jb = !1;\n  },\n      Mb = function Mb(a, b) {\n    this.Vb = a;this.scope = b;\n  };var Ob = function Ob(a) {\n    a.prototype.then = a.prototype.then;a.prototype.$goog_Thenable = !0;\n  },\n      Pb = function Pb(a) {\n    if (!a) return !1;try {\n      return !!a.$goog_Thenable;\n    } catch (b) {\n      return !1;\n    }\n  };var M = function M(a, b) {\n    this.k = 0;this.r = void 0;this.l = this.m = null;this.ja = this.ya = !1;try {\n      var c = this;a.call(b, function (a) {\n        L(c, 2, a);\n      }, function (a) {\n        L(c, 3, a);\n      });\n    } catch (d) {\n      L(this, 3, d);\n    }\n  };M.prototype.then = function (a, b, c) {\n    return Qb(this, p(a) ? a : null, p(b) ? b : null, c);\n  };Ob(M);M.prototype.cancel = function (a) {\n    0 == this.k && Nb(function () {\n      var b = new Rb(a);Sb(this, b);\n    }, this);\n  };\n  var Sb = function Sb(a, b) {\n    if (0 == a.k) if (a.m) {\n      var c = a.m;if (c.l) {\n        for (var d = 0, e = -1, f = 0, g; g = c.l[f]; f++) {\n          if (g = g.la) if (d++, g == a && (e = f), 0 <= e && 1 < d) break;\n        }0 <= e && (0 == c.k && 1 == d ? Sb(c, b) : (d = c.l.splice(e, 1)[0], Tb(c), d.za(b)));\n      }\n    } else L(a, 3, b);\n  },\n      Vb = function Vb(a, b) {\n    a.l && a.l.length || 2 != a.k && 3 != a.k || Ub(a);a.l || (a.l = []);a.l.push(b);\n  },\n      Qb = function Qb(a, b, c, d) {\n    var e = { la: null, Qa: null, za: null };e.la = new M(function (a, g) {\n      e.Qa = b ? function (c) {\n        try {\n          var e = b.call(d, c);a(e);\n        } catch (F) {\n          g(F);\n        }\n      } : a;e.za = c ? function (b) {\n        try {\n          var e = c.call(d, b);void 0 === e && b instanceof Rb ? g(b) : a(e);\n        } catch (F) {\n          g(F);\n        }\n      } : g;\n    });e.la.m = a;Vb(a, e);return e.la;\n  };M.prototype.Za = function (a) {\n    this.k = 0;L(this, 2, a);\n  };M.prototype.$a = function (a) {\n    this.k = 0;L(this, 3, a);\n  };\n  var L = function L(a, b, c) {\n    if (0 == a.k) {\n      if (a == c) b = 3, c = new TypeError("Promise cannot resolve to itself");else {\n        if (Pb(c)) {\n          a.k = 1;c.then(a.Za, a.$a, a);return;\n        }if (ea(c)) try {\n          var d = c.then;if (p(d)) {\n            Wb(a, c, d);return;\n          }\n        } catch (e) {\n          b = 3, c = e;\n        }\n      }a.r = c;a.k = b;Ub(a);3 != b || c instanceof Rb || Yb(a, c);\n    }\n  },\n      Wb = function Wb(a, b, c) {\n    a.k = 1;var d = !1,\n        e = function e(b) {\n      d || (d = !0, a.Za(b));\n    },\n        f = function f(b) {\n      d || (d = !0, a.$a(b));\n    };try {\n      c.call(b, e, f);\n    } catch (g) {\n      f(g);\n    }\n  },\n      Ub = function Ub(a) {\n    a.ya || (a.ya = !0, Nb(a.Rb, a));\n  };\n  M.prototype.Rb = function () {\n    for (; this.l && this.l.length;) {\n      var a = this.l;this.l = [];for (var b = 0; b < a.length; b++) {\n        var c = a[b],\n            d = this.r;2 == this.k ? c.Qa(d) : (Tb(this), c.za(d));\n      }\n    }this.ya = !1;\n  };var Tb = function Tb(a) {\n    for (; a && a.ja; a = a.m) {\n      a.ja = !1;\n    }\n  },\n      Yb = function Yb(a, b) {\n    a.ja = !0;Nb(function () {\n      a.ja && Zb.call(null, b);\n    });\n  },\n      Zb = Ib,\n      Rb = function Rb(a) {\n    u.call(this, a);\n  };t(Rb, u);Rb.prototype.name = "cancel"; /*\n                                           Portions of this code are from MochiKit, received by\n                                           The Closure Authors under the MIT license. All other code is Copyright\n                                           2005-2009 The Closure Authors. All Rights Reserved.\n                                           */\n  var N = function N(a, b) {\n    this.ba = [];this.Oa = a;this.Na = b || null;this.O = this.K = !1;this.r = void 0;this.wa = this.qb = this.va = !1;this.ca = 0;this.m = null;this.ua = 0;\n  };N.prototype.cancel = function (a) {\n    if (this.K) this.r instanceof N && this.r.cancel();else {\n      if (this.m) {\n        var b = this.m;delete this.m;a ? b.cancel(a) : (b.ua--, 0 >= b.ua && b.cancel());\n      }this.Oa ? this.Oa.call(this.Na, this) : this.wa = !0;this.K || this.A(new $b());\n    }\n  };N.prototype.Pa = function (a, b) {\n    this.va = !1;ac(this, a, b);\n  };\n  var ac = function ac(a, b, c) {\n    a.K = !0;a.r = c;a.O = !b;bc(a);\n  },\n      dc = function dc(a) {\n    if (a.K) {\n      if (!a.wa) throw new cc();a.wa = !1;\n    }\n  };N.prototype.G = function (a) {\n    dc(this);ac(this, !0, a);\n  };N.prototype.A = function (a) {\n    dc(this);ac(this, !1, a);\n  };N.prototype.Ub = function (a, b) {\n    return O(this, a, null, b);\n  };var ec = function ec(a, b, c) {\n    O(a, b, b, c);\n  },\n      O = function O(a, b, c, d) {\n    a.ba.push([b, c, d]);a.K && bc(a);return a;\n  };N.prototype.then = function (a, b, c) {\n    var d,\n        e,\n        f = new M(function (a, b) {\n      d = a;e = b;\n    });O(this, d, function (a) {\n      a instanceof $b ? f.cancel() : e(a);\n    });return f.then(a, b, c);\n  };\n  Ob(N);\n  var fc = function fc(a) {\n    var b = new N();O(a, b.G, b.A, b);return b;\n  },\n      gc = function gc(a) {\n    return la(a.ba, function (a) {\n      return p(a[1]);\n    });\n  },\n      bc = function bc(a) {\n    if (a.ca && a.K && gc(a)) {\n      var b = a.ca,\n          c = hc[b];c && (k.clearTimeout(c.da), delete hc[b]);a.ca = 0;\n    }a.m && (a.m.ua--, delete a.m);for (var b = a.r, d = c = !1; a.ba.length && !a.va;) {\n      var e = a.ba.shift(),\n          f = e[0],\n          g = e[1],\n          e = e[2];if (f = a.O ? g : f) try {\n        var l = f.call(e || a.Na, b);void 0 !== l && (a.O = a.O && (l == b || l instanceof Error), a.r = b = l);Pb(b) && (d = !0, a.va = !0);\n      } catch (I) {\n        b = I, a.O = !0, gc(a) || (c = !0);\n      }\n    }a.r = b;d && (l = _q(a.Pa, a, !0), d = _q(a.Pa, a, !1), b instanceof N ? (O(b, l, d), b.qb = !0) : b.then(l, d));c && (b = new ic(b), hc[b.da] = b, a.ca = b.da);\n  },\n      jc = function jc(a) {\n    var b = new N();b.G(a);return b;\n  },\n      lc = function lc() {\n    var a = kc,\n        b = new N();b.A(a);return b;\n  },\n      cc = function cc() {\n    u.call(this);\n  };t(cc, u);cc.prototype.message = "Deferred has already fired";cc.prototype.name = "AlreadyCalledError";var $b = function $b() {\n    u.call(this);\n  };t($b, u);$b.prototype.message = "Deferred was canceled";$b.prototype.name = "CanceledError";\n  var ic = function ic(a) {\n    this.da = k.setTimeout(_q(this.Nb, this), 0);this.$ = a;\n  };ic.prototype.Nb = function () {\n    delete hc[this.da];throw this.$;\n  };var hc = {};var mc = function mc(a, b) {\n    var c = Array.prototype.slice.call(arguments),\n        d = c.shift();if ("undefined" == typeof d) throw Error("[goog.string.format] Template required");return d.replace(/%([0\\-\\ \\+]*)(\\d+)?(\\.(\\d+))?([%sfdiu])/g, function (a, b, d, l, I, F, S, T) {\n      if ("%" == F) return "%";var Xb = c.shift();if ("undefined" == typeof Xb) throw Error("[goog.string.format] Not enough arguments");arguments[0] = Xb;return P[F].apply(null, arguments);\n    });\n  },\n      P = { s: function s(a, b, c) {\n      return isNaN(c) || "" == c || a.length >= c ? a : a = -1 < b.indexOf("-", 0) ? a + Array(c - a.length + 1).join(" ") : Array(c - a.length + 1).join(" ") + a;\n    }, f: function f(a, b, c, d, e) {\n      d = a.toString();isNaN(e) || "" == e || (d = a.toFixed(e));var f;f = 0 > a ? "-" : 0 <= b.indexOf("+") ? "+" : 0 <= b.indexOf(" ") ? " " : "";0 <= a && (d = f + d);if (isNaN(c) || d.length >= c) return d;d = isNaN(e) ? Math.abs(a).toString() : Math.abs(a).toFixed(e);a = c - d.length - f.length;return d = 0 <= b.indexOf("-", 0) ? f + d + Array(a + 1).join(" ") : f + Array(a + 1).join(0 <= b.indexOf("0", 0) ? "0" : " ") + d;\n    }, d: function d(a, b, c, _d, e, f, g, l) {\n      return P.f(parseInt(a, 10), b, c, _d, 0, f, g, l);\n    } };P.i = P.d;\n  P.u = P.d;var nc = function nc(a) {\n    if ("function" == typeof a.q) return a.q();if (n(a)) return a.split("");if (da(a)) {\n      for (var b = [], c = a.length, d = 0; d < c; d++) {\n        b.push(a[d]);\n      }return b;\n    }return ua(a);\n  },\n      oc = function oc(a, b, c) {\n    if ("function" == typeof a.forEach) a.forEach(b, c);else if (da(a) || n(a)) ka(a, b, c);else {\n      var d;if ("function" == typeof a.C) d = a.C();else if ("function" != typeof a.q) {\n        if (da(a) || n(a)) {\n          d = [];for (var e = a.length, f = 0; f < e; f++) {\n            d.push(f);\n          }\n        } else d = va(a);\n      } else d = void 0;for (var e = nc(a), f = e.length, g = 0; g < f; g++) {\n        b.call(c, e[g], d && d[g], a);\n      }\n    }\n  };var Q = function Q(a) {\n    this.M = new w();this.Aa(arguments);\n  };Q.prototype.set = function (a, b) {\n    this.M.set(a.name, { key: a, value: b });\n  };Q.prototype.remove = function (a) {\n    this.M.remove(a.name);\n  };Q.prototype.get = function (a) {\n    a = this.M.get(a.name, null);return null === a ? null : a.value;\n  };Q.prototype.Aa = function (a) {\n    for (var b = 0; b < a.length; b += 2) {\n      this.set(a[b], a[b + 1]);\n    }\n  };var pc = function pc(a, b) {\n    ka(a.M.q(), function (a) {\n      b(a.key, a.value);\n    });\n  };Q.prototype.jb = function () {\n    var a = {};pc(this, function (b, c) {\n      a[b.id] = c;\n    });return a;\n  };\n  Q.prototype.B = function () {\n    var a = new Q();a.M = this.M.B();return a;\n  };Q.prototype.toString = function () {\n    var a = {};pc(this, function (b, c) {\n      a[b.id] = c;\n    });return JSON.stringify(a);\n  };var qc = { id: "apiVersion", name: "v", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      rc = { id: "appName", name: "an", valueType: "text", maxLength: 100, defaultValue: void 0 },\n      sc = { id: "appVersion", name: "av", valueType: "text", maxLength: 100, defaultValue: void 0 },\n      tc = { id: "clientId", name: "cid", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      uc = { id: "language", name: "ul", valueType: "text", maxLength: 20, defaultValue: void 0 },\n      vc = { id: "libVersion", name: "_v", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      wc = { id: "screenColors",\n    name: "sd", valueType: "text", maxLength: 20, defaultValue: void 0 },\n      xc = { id: "screenResolution", name: "sr", valueType: "text", maxLength: 20, defaultValue: void 0 },\n      yc = { id: "trackingId", name: "tid", valueType: "text", maxLength: void 0, defaultValue: void 0 },\n      zc = { id: "viewportSize", name: "vp", valueType: "text", maxLength: 20, defaultValue: void 0 },\n      Ac = { kc: qc, nc: rc, oc: sc, wc: tc, Pc: uc, Qc: vc, Xc: wc, Yc: xc, kd: yc, qd: zc },\n      Cc = function Cc(a) {\n    if (!n(a)) return a;var b = Bc(a, Da);if (ea(b)) return b;b = Bc(a, Ac);if (ea(b)) return b;b = /^dimension(\\d+)$/.exec(a);\n    if (null !== b) return { id: a, name: "cd" + b[1], valueType: "text", maxLength: 150, defaultValue: void 0 };b = /^metric(\\d+)$/.exec(a);if (null !== b) return { id: a, name: "cm" + b[1], valueType: "integer", maxLength: void 0, defaultValue: void 0 };throw Error(a + " is not a valid parameter name.");\n  },\n      Bc = function Bc(a, b) {\n    var c = wa(b, function (b) {\n      return b.id == a && "metric" != a && "dimension" != a;\n    });return ea(c) ? c : null;\n  };var Dc = function Dc(a, b) {\n    this.n = a;this.v = b;\n  };Dc.prototype.send = function (a, b) {\n    b.set(tc, this.n.xa);return this.v.send(a, b);\n  };var R = function R() {};R.Lb = function () {\n    return R.nb ? R.nb : R.nb = new R();\n  };R.prototype.send = function () {\n    return jc();\n  };var U = function U(a, b) {\n    D.call(this, "a");this.Sb = a;this.Ob = b;\n  };t(U, D);U.prototype.$b = function () {\n    return this.Sb;\n  };U.prototype.Zb = function () {\n    return this.Ob.jb();\n  };var Ec = function Ec(a, b) {\n    this.Ha = a;this.v = b;\n  };Ec.prototype.send = function (a, b) {\n    this.Ha.dispatchEvent(new U(a, b));return this.v.send(a, b);\n  };var Fc = function Fc(a) {\n    this.v = a;\n  };Fc.prototype.send = function (a, b) {\n    Gc(b);Hc(b);return this.v.send(a, b);\n  };var Gc = function Gc(a) {\n    pc(a, function (b, c) {\n      void 0 !== b.maxLength && "text" == b.valueType && 0 < b.maxLength && c.length > b.maxLength && a.set(b, c.substring(0, b.maxLength));\n    });\n  },\n      Hc = function Hc(a) {\n    pc(a, function (b, c) {\n      void 0 !== b.defaultValue && c == b.defaultValue && a.remove(b);\n    });\n  };var kc = { status: "device-offline", pa: void 0 },\n      Ic = { status: "rate-limited", pa: void 0 },\n      Jc = { status: "sampled-out", pa: void 0 },\n      Kc = { status: "sent", pa: void 0 };var Lc = function Lc(a, b) {\n    this.yb = a;this.v = b;\n  };Lc.prototype.send = function (a, b) {\n    var c;c = this.yb;var d = c.Ua(),\n        e = Math.floor((d - c.Ta) * c.vb);0 < e && (c.T = Math.min(c.T + e, c.wb), c.Ta = d);1 > c.T ? c = !1 : (c.T -= 1, c = !0);return c || "item" == a || "transaction" == a ? this.v.send(a, b) : jc(Ic);\n  };var Mc = function Mc(a) {\n    this.Pb = a;\n  };Mc.prototype.send = function (a, b) {\n    this.Pb.push({ tb: a, ub: b });return jc();\n  };var Nc = function Nc(a, b, c) {\n    this.n = a;this.ka = [];this.I = { enabled: new Mc(this.ka), disabled: c };this.P = this.I.enabled;O(fc(this.n.aa), ha(this.sb, b), this.rb, this);\n  };Nc.prototype.sb = function (a) {\n    this.I.enabled = a(this.n);Oc(this);ka(this.ka, function (a) {\n      this.send(a.tb, a.ub);\n    }, this);this.ka = null;Pc(this.n, _q(this.xb, this));\n  };Nc.prototype.rb = function () {\n    this.P = this.I.enabled = this.I.disabled;this.ka = null;\n  };Nc.prototype.send = function (a, b) {\n    return this.P.send(a, b);\n  };var Oc = function Oc(a) {\n    a.P = a.n.ab() ? a.I.enabled : a.I.disabled;\n  };\n  Nc.prototype.xb = function (a) {\n    switch (a) {case "analytics.tracking-permitted":\n        Oc(this);}\n  };var V = function V(a, b) {\n    this.P = a;this.Ha = b;this.cb = new Q();this.Ia = !1;\n  };h = V.prototype;h.set = function (a, b) {\n    var c = Cc(a);this.cb.set(c, b);\n  };h.send = function (a, b) {\n    var c = this.cb.B();b && ta(b, function (a, b) {\n      null != a && c.set(Cc(b), a);\n    }, this);this.Ia && (this.Ia = !1, c.set(Ba, "start"));return this.P.send(a, c);\n  };h.bc = function (a) {\n    var b = { description: a };this.set(Ca, a);return this.send("appview", b);\n  };h.cc = function (a, b, c, d) {\n    return this.send("event", { eventCategory: a, eventAction: b, eventLabel: c, eventValue: d });\n  };\n  h.ec = function (a, b, c) {\n    return this.send("social", { socialNetwork: a, socialAction: b, socialTarget: c });\n  };h.dc = function (a, b) {\n    return this.send("exception", { exDescription: a, exFatal: b });\n  };h.hb = function (a, b, c, d) {\n    return this.send("timing", { timingCategory: a, timingVar: b, timingLabel: d, timingValue: c });\n  };h.Wb = function () {\n    this.Ia = !0;\n  };h.hc = function (a, b, c) {\n    return new Qc(this, a, b, c);\n  };h.Yb = function () {\n    return this.Ha;\n  };var Qc = function Qc(a, b, c, d) {\n    this.eb = a;this.Gb = b;this.Kb = c;this.Hb = d;this.Jb = r();\n  };\n  Qc.prototype.send = function () {\n    var a = this.eb.hb(this.Gb, this.Kb, r() - this.Jb, this.Hb);this.eb = null;return a;\n  };var Rc = function Rc() {\n    this.T = 60;this.wb = 500;this.vb = 5E-4;this.Ua = function () {\n      return new Date().getTime();\n    };this.Ta = this.Ua();\n  };var Sc = function Sc(a, b) {\n    this.n = a;this.v = b;\n  };Sc.prototype.send = function (a, b) {\n    var c = b.get(tc);return parseInt(c.split("-")[1], 16) < 655.36 * this.n.Sa ? this.v.send(a, b) : jc(Jc);\n  };var Tc = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$"),\n      Uc = B,\n      Vc = function Vc(a, b) {\n    if (Uc) {\n      Uc = !1;var c = k.location;if (c) {\n        var d = c.href;if (d && (d = (d = Vc(3, d)) && decodeURIComponent(d)) && d != c.hostname) throw Uc = !0, Error();\n      }\n    }return b.match(Tc)[a] || null;\n  };var Wc = function Wc() {};Wc.prototype.kb = null;var Yc = function Yc(a) {\n    var b;(b = a.kb) || (b = {}, Xc(a) && (b[0] = !0, b[1] = !0), b = a.kb = b);return b;\n  };var Zc,\n      $c = function $c() {};t($c, Wc);var ad = function ad(a) {\n    return (a = Xc(a)) ? new ActiveXObject(a) : new XMLHttpRequest();\n  },\n      Xc = function Xc(a) {\n    if (!a.mb && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {\n      for (var b = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], c = 0; c < b.length; c++) {\n        var d = b[c];try {\n          return new ActiveXObject(d), a.mb = d;\n        } catch (e) {}\n      }throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");\n    }return a.mb;\n  };Zc = new $c();var W = function W(a) {\n    H.call(this);this.headers = new w();this.Z = a || null;this.w = !1;this.W = this.a = null;this.V = this.ra = "";this.D = this.qa = this.U = this.ta = !1;this.Y = 0;this.X = null;this.Ka = "";this.sa = this.pb = !1;\n  };t(W, H);var bd = /^https?$/i,\n      cd = ["POST", "PUT"],\n      dd = [],\n      ed = function ed(a, b, c) {\n    var d = new W();dd.push(d);b && d.listen("complete", b);d.Ja("ready", d.Qb);d.send(a, "POST", c, void 0);\n  };W.prototype.Qb = function () {\n    this.na();oa(dd, this);\n  };\n  W.prototype.send = function (a, b, c, d) {\n    if (this.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.ra + "; newUri=" + a);b = b ? b.toUpperCase() : "GET";this.ra = a;this.V = "";this.ta = !1;this.w = !0;this.a = this.Z ? ad(this.Z) : ad(Zc);this.W = this.Z ? Yc(this.Z) : Yc(Zc);this.a.onreadystatechange = _q(this.La, this);try {\n      this.qa = !0, this.a.open(b, String(a), !0), this.qa = !1;\n    } catch (e) {\n      this.$(5, e);return;\n    }a = c || "";var f = this.headers.B();d && oc(d, function (a, b) {\n      f.set(b, a);\n    });d = na(f.C());c = k.FormData && a instanceof k.FormData;\n    !(0 <= ja(cd, b)) || d || c || f.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");oc(f, function (a, b) {\n      this.a.setRequestHeader(b, a);\n    }, this);this.Ka && (this.a.responseType = this.Ka);"withCredentials" in this.a && (this.a.withCredentials = this.pb);try {\n      fd(this), 0 < this.Y && ((this.sa = gd(this.a)) ? (this.a.timeout = this.Y, this.a.ontimeout = _q(this.Ma, this)) : this.X = Cb(this.Ma, this.Y, this)), this.U = !0, this.a.send(a), this.U = !1;\n    } catch (g) {\n      this.$(5, g);\n    }\n  };\n  var gd = function gd(a) {\n    return z && C(9) && "number" == typeof a.timeout && void 0 !== a.ontimeout;\n  },\n      ma = function ma(a) {\n    return "content-type" == a.toLowerCase();\n  };W.prototype.Ma = function () {\n    "undefined" != typeof aa && this.a && (this.V = "Timed out after " + this.Y + "ms, aborting", this.dispatchEvent("timeout"), this.abort(8));\n  };W.prototype.$ = function (a, b) {\n    this.w = !1;this.a && (this.D = !0, this.a.abort(), this.D = !1);this.V = b;hd(this);id(this);\n  };var hd = function hd(a) {\n    a.ta || (a.ta = !0, a.dispatchEvent("complete"), a.dispatchEvent("error"));\n  };\n  W.prototype.abort = function () {\n    this.a && this.w && (this.w = !1, this.D = !0, this.a.abort(), this.D = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), id(this));\n  };W.prototype.j = function () {\n    this.a && (this.w && (this.w = !1, this.D = !0, this.a.abort(), this.D = !1), id(this, !0));W.J.j.call(this);\n  };W.prototype.La = function () {\n    this.Ga || (this.qa || this.U || this.D ? jd(this) : this.Bb());\n  };W.prototype.Bb = function () {\n    jd(this);\n  };\n  var jd = function jd(a) {\n    if (a.w && "undefined" != typeof aa && (!a.W[1] || 4 != kd(a) || 2 != ld(a))) if (a.U && 4 == kd(a)) Cb(a.La, 0, a);else if (a.dispatchEvent("readystatechange"), 4 == kd(a)) {\n      a.w = !1;try {\n        var b = ld(a),\n            c,\n            d;t: switch (b) {case 200:case 201:case 202:case 204:case 206:case 304:case 1223:\n            d = !0;break t;default:\n            d = !1;}if (!(c = d)) {\n          var e;if (e = 0 === b) {\n            var f = Vc(1, String(a.ra));if (!f && self.location) var g = self.location.protocol,\n                f = g.substr(0, g.length - 1);e = !bd.test(f ? f.toLowerCase() : "");\n          }c = e;\n        }if (c) a.dispatchEvent("complete"), a.dispatchEvent("success");else {\n          var l;try {\n            l = 2 < kd(a) ? a.a.statusText : "";\n          } catch (I) {\n            l = "";\n          }a.V = l + " [" + ld(a) + "]";hd(a);\n        }\n      } finally {\n        id(a);\n      }\n    }\n  },\n      id = function id(a, b) {\n    if (a.a) {\n      fd(a);var c = a.a,\n          d = a.W[0] ? ba : null;a.a = null;a.W = null;b || a.dispatchEvent("ready");try {\n        c.onreadystatechange = d;\n      } catch (e) {}\n    }\n  },\n      fd = function fd(a) {\n    a.a && a.sa && (a.a.ontimeout = null);"number" == typeof a.X && (k.clearTimeout(a.X), a.X = null);\n  },\n      kd = function kd(a) {\n    return a.a ? a.a.readyState : 0;\n  },\n      ld = function ld(a) {\n    try {\n      return 2 < kd(a) ? a.a.status : -1;\n    } catch (b) {\n      return -1;\n    }\n  };var md = function md(a, b, c) {\n    this.p = a || null;this.Mb = !!c;\n  },\n      Y = function Y(a) {\n    if (!a.c && (a.c = new w(), a.g = 0, a.p)) for (var b = a.p.split("&"), c = 0; c < b.length; c++) {\n      var d = b[c].indexOf("="),\n          e = null,\n          f = null;0 <= d ? (e = b[c].substring(0, d), f = b[c].substring(d + 1)) : e = b[c];e = decodeURIComponent(e.replace(/\\+/g, " "));e = X(a, e);a.add(e, f ? decodeURIComponent(f.replace(/\\+/g, " ")) : "");\n    }\n  };h = md.prototype;h.c = null;h.g = null;h.add = function (a, b) {\n    Y(this);this.p = null;a = X(this, a);var c = this.c.get(a);c || this.c.set(a, c = []);c.push(b);this.g++;return this;\n  };\n  h.remove = function (a) {\n    Y(this);a = X(this, a);return this.c.Q(a) ? (this.p = null, this.g -= this.c.get(a).length, this.c.remove(a)) : !1;\n  };h.Q = function (a) {\n    Y(this);a = X(this, a);return this.c.Q(a);\n  };h.C = function () {\n    Y(this);for (var a = this.c.q(), b = this.c.C(), c = [], d = 0; d < b.length; d++) {\n      for (var e = a[d], f = 0; f < e.length; f++) {\n        c.push(b[d]);\n      }\n    }return c;\n  };h.q = function (a) {\n    Y(this);var b = [];if (n(a)) this.Q(a) && (b = pa(b, this.c.get(X(this, a))));else {\n      a = this.c.q();for (var c = 0; c < a.length; c++) {\n        b = pa(b, a[c]);\n      }\n    }return b;\n  };\n  h.set = function (a, b) {\n    Y(this);this.p = null;a = X(this, a);this.Q(a) && (this.g -= this.c.get(a).length);this.c.set(a, [b]);this.g++;return this;\n  };h.get = function (a, b) {\n    var c = a ? this.q(a) : [];return 0 < c.length ? String(c[0]) : b;\n  };h.toString = function () {\n    if (this.p) return this.p;if (!this.c) return "";for (var a = [], b = this.c.C(), c = 0; c < b.length; c++) {\n      for (var d = b[c], e = encodeURIComponent(String(d)), d = this.q(d), f = 0; f < d.length; f++) {\n        var g = e;"" !== d[f] && (g += "=" + encodeURIComponent(String(d[f])));a.push(g);\n      }\n    }return this.p = a.join("&");\n  };\n  h.B = function () {\n    var a = new md();a.p = this.p;this.c && (a.c = this.c.B(), a.g = this.g);return a;\n  };var X = function X(a, b) {\n    var c = String(b);a.Mb && (c = c.toLowerCase());return c;\n  };var nd = function nd(a, b) {\n    this.Ab = a;this.bb = b;\n  };nd.prototype.send = function (a, b) {\n    if (ab && !navigator.onLine) return lc();var c = new N(),\n        d = od(a, b);d.length > this.bb ? c.A({ status: "payload-too-big", pa: mc("Encoded hit length == %s, but should be <= %s.", d.length, this.bb) }) : ed(this.Ab, function () {\n      c.G(Kc);\n    }, d);return c;\n  };var od = function od(a, b) {\n    var c = new md();c.add(Aa.name, a);pc(b, function (a, b) {\n      c.add(a.name, b.toString());\n    });return c.toString();\n  };var Z = function Z(a, b, c, d) {\n    this.Ib = a;this.Eb = b;this.Fb = c;this.n = d;\n  },\n      pd;Z.prototype.ac = function (a) {\n    var b = new H(),\n        b = new V(qd(this, b), b);b.set(vc, this.Ib);b.set(qc, 1);b.set(rc, this.Eb);b.set(sc, this.Fb);b.set(yc, a);a = window.navigator.language;b.set(uc, a);a = screen.colorDepth + "-bit";b.set(wc, a);a = [screen.width, screen.height].join("x");b.set(xc, a);a = window.document;a = "CSS1Compat" == a.compatMode ? a.documentElement : a.body;a = new Ea(a.clientWidth, a.clientHeight);a = [a.width, a.height].join("x");b.set(zc, a);return b;\n  };\n  var qd = function qd(a, b) {\n    return new Nc(a.n, function (a) {\n      if (!pd) {\n        new K();var d = new Fc(new nd("https://www.google-analytics.com/collect", 8192)),\n            e = new Rc();pd = new Dc(a, new Sc(a, new Lc(e, d)));\n      }return new Ec(b, pd);\n    }, R.Lb());\n  };Z.prototype.Xb = function () {\n    return fc(this.n.aa);\n  };var $ = function $(a) {\n    this.F = a;this.Sa = 100;this.Va = [];this.aa = new N();this.ma = this.xa = null;rd(this);\n  },\n      rd = function rd(a) {\n    O(a.F.get("analytics.tracking-permitted"), function (a) {\n      this.ma = void 0 !== a ? a : !0;this.fb();\n    }, a.gb, a);O(sd(a), a.fb, a.gb, a);\n  };$.prototype.gb = function (a) {\n    this.aa.A(a);\n  };$.prototype.fb = function () {\n    null === this.ma || null === this.xa || this.aa.G(this);\n  };var Pc = function Pc(a, b) {\n    a.Va.push(b);\n  };\n  $.prototype.gc = function (a) {\n    ec(this.F.set("analytics.tracking-permitted", a), function () {\n      this.ma = a;ka(this.Va, function (a) {\n        a("analytics.tracking-permitted");\n      });\n    }, this);\n  };$.prototype.ab = function () {\n    var a;if (a = this.ma) a = k._gaUserPrefs, a = !(a && a.ioo && a.ioo());return a;\n  };$.prototype.fc = function (a) {\n    this.Sa = a;\n  };\n  var sd = function sd(a) {\n    var b = new N();O(a.F.get("analytics.user-id"), function (a) {\n      if (!a) {\n        a = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for (var d = 0, e = a.length; d < e; d++) {\n          switch (a[d]) {case "x":\n              a[d] = Math.floor(16 * Math.random()).toString(16);break;case "y":\n              a[d] = (Math.floor(4 * Math.random()) + 8).toString(16);}\n        }a = a.join("");this.F.set("analytics.user-id", a);\n      }this.xa = a;b.G();\n    }, function (a) {\n      b.A(a);\n    }, a);return b;\n  };var td = function td(a, b) {\n    if (!ea(a)) throw Error("\'storage\' argument must be defined and not null.");this.F = a;this.Xa = b || "";\n  };td.prototype.get = function (a) {\n    var b = new N(),\n        c = this.Xa + "." + a;this.F.get(c, function (a) {\n      var e = chrome.runtime.lastError;e ? b.A(e) : b.G(a[c]);\n    });return b;\n  };td.prototype.set = function (a, b) {\n    var c = new N(),\n        d = {};d[this.Xa + "." + a] = b;this.F.set(d, function () {\n      var a = chrome.runtime.lastError;a ? c.A(a) : c.G();\n    });return c;\n  };var ud = new w();s("goog.async.Deferred", N);s("goog.async.Deferred.prototype.addCallback", N.prototype.Ub);s("goog.events.EventTarget", H);s("goog.events.EventTarget.prototype.listen", H.prototype.listen);s("analytics.getService", function (a) {\n    var b = ud.get(a, null);if (null === b) {\n      var b = chrome.runtime.getManifest().version,\n          c;c = new td(chrome.storage.local, "google-analytics");c = new $(c);b = new Z("ca3", a, b, c);ud.set(a, b);\n    }return b;\n  });s("analytics.internal.GoogleAnalyticsService", Z);\n  s("analytics.internal.GoogleAnalyticsService.prototype.getTracker", Z.prototype.ac);s("analytics.internal.GoogleAnalyticsService.prototype.getConfig", Z.prototype.Xb);s("analytics.internal.ServiceSettings", $);s("analytics.internal.ServiceSettings.prototype.setTrackingPermitted", $.prototype.gc);s("analytics.internal.ServiceSettings.prototype.isTrackingPermitted", $.prototype.ab);s("analytics.internal.ServiceSettings.prototype.setSampleRate", $.prototype.fc);s("analytics.internal.ServiceTracker", V);\n  s("analytics.internal.ServiceTracker.prototype.send", V.prototype.send);s("analytics.internal.ServiceTracker.prototype.sendAppView", V.prototype.bc);s("analytics.internal.ServiceTracker.prototype.sendEvent", V.prototype.cc);s("analytics.internal.ServiceTracker.prototype.sendSocial", V.prototype.ec);s("analytics.internal.ServiceTracker.prototype.sendException", V.prototype.dc);s("analytics.internal.ServiceTracker.prototype.sendTiming", V.prototype.hb);\n  s("analytics.internal.ServiceTracker.prototype.startTiming", V.prototype.hc);s("analytics.internal.ServiceTracker.Timing", Qc);s("analytics.internal.ServiceTracker.Timing.prototype.send", Qc.prototype.send);s("analytics.internal.ServiceTracker.prototype.forceSessionStart", V.prototype.Wb);s("analytics.internal.ServiceTracker.prototype.getEventTarget", V.prototype.Yb);s("analytics.HitTypes.APPVIEW", "appview");s("analytics.HitTypes.EVENT", "event");s("analytics.HitTypes.SOCIAL", "social");\n  s("analytics.HitTypes.TRANSACTION", "transaction");s("analytics.HitTypes.ITEM", "item");s("analytics.HitTypes.TIMING", "timing");s("analytics.HitTypes.EXCEPTION", "exception");s("analytics.Tracker.HitEvent", U);s("analytics.Tracker.HitEvent.EVENT_TYPE", "a");s("analytics.Tracker.HitEvent.prototype.getHitType", U.prototype.$b);s("analytics.Tracker.HitEvent.prototype.getHit", U.prototype.Zb);ta(Da, function (a) {\n    var b = a.id.replace(/[A-Z]/, "_$&").toUpperCase();s("analytics.Parameters." + b, a);\n  });\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9nYS9nb29nbGUtYW5hbHl0aWNzLWJ1bmRsZS5qcz9mYmM1Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHsgdmFyIGgsYWE9YWF8fHt9LGs9dGhpcyxiYT1mdW5jdGlvbigpe30sY2E9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJlxuIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LG09ZnVuY3Rpb24oYSl7cmV0dXJuXCJhcnJheVwiPT1jYShhKX0sZGE9ZnVuY3Rpb24oYSl7dmFyIGI9Y2EoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9LG49ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LHA9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT1jYShhKX0sZWE9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifSxmYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX0sZ2E9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7XG5pZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0scT1mdW5jdGlvbihhLGIsYyl7cT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2ZhOmdhO3JldHVybiBxLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Yy5zbGljZSgpO2IucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7XG5yZXR1cm4gYS5hcHBseSh0aGlzLGIpfX0scj1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNwbGl0KFwiLlwiKSxkPWs7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdChcInZhciBcIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2Q9ZFtlXT9kW2VdOmRbZV09e306ZFtlXT1ifSx0PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLko9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5pYz1mdW5jdGlvbihhLGMsZil7cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX19O1xuRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fGZ1bmN0aW9uKGEsYil7aWYoMTxhcmd1bWVudHMubGVuZ3RoKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Yy51bnNoaWZ0KHRoaXMsYSk7cmV0dXJuIHEuYXBwbHkobnVsbCxjKX1yZXR1cm4gcSh0aGlzLGEpfTt2YXIgdT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHUpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3QodSxFcnJvcik7dS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGlhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfTt2YXIgdj1BcnJheS5wcm90b3R5cGUsamE9di5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihuKGEpKXJldHVybiBuKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LGthPXYuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7di5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9bihhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LGxhPXYuc29tZT9mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHYuc29tZS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPW4oYSk/YS5zcGxpdChcIlwiKTpcbmEsZj0wO2Y8ZDtmKyspaWYoZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuITA7cmV0dXJuITF9LG5hPWZ1bmN0aW9uKGEpe3ZhciBiO3Q6e2I9bWE7Zm9yKHZhciBjPWEubGVuZ3RoLGQ9bihhKT9hLnNwbGl0KFwiXCIpOmEsZT0wO2U8YztlKyspaWYoZSBpbiBkJiZiLmNhbGwodm9pZCAwLGRbZV0sZSxhKSl7Yj1lO2JyZWFrIHR9Yj0tMX1yZXR1cm4gMD5iP251bGw6bihhKT9hLmNoYXJBdChiKTphW2JdfSxvYT1mdW5jdGlvbihhLGIpe3ZhciBjPWphKGEsYiksZDsoZD0wPD1jKSYmdi5zcGxpY2UuY2FsbChhLGMsMSk7cmV0dXJuIGR9LHBhPWZ1bmN0aW9uKGEpe3JldHVybiB2LmNvbmNhdC5hcHBseSh2LGFyZ3VtZW50cyl9LHFhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoO2lmKDA8Yil7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7ZCsrKWNbZF09YVtkXTtyZXR1cm4gY31yZXR1cm5bXX07dmFyIHJhPVwiU3RvcEl0ZXJhdGlvblwiaW4gaz9rLlN0b3BJdGVyYXRpb246RXJyb3IoXCJTdG9wSXRlcmF0aW9uXCIpLHNhPWZ1bmN0aW9uKCl7fTtzYS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3Rocm93IHJhO307c2EucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciB0YT1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkIGluIGEpYi5jYWxsKGMsYVtkXSxkLGEpfSx1YT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifSx2YT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifSx3YT1mdW5jdGlvbihhLGIpe3ZhciBjO3Q6e2ZvcihjIGluIGEpaWYoYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSkpYnJlYWsgdDtjPXZvaWQgMH1yZXR1cm4gYyYmYVtjXX0seGE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIikseWE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7ZD1hcmd1bWVudHNbZV07Zm9yKGMgaW4gZClhW2NdPWRbY107Zm9yKHZhciBmPTA7Zjx4YS5sZW5ndGg7ZisrKWM9XG54YVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTt2YXIgdz1mdW5jdGlvbihhLGIpe3RoaXMubz17fTt0aGlzLmI9W107dGhpcy5lYT10aGlzLmc9MDt2YXIgYz1hcmd1bWVudHMubGVuZ3RoO2lmKDE8Yyl7aWYoYyUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciBkPTA7ZDxjO2QrPTIpdGhpcy5zZXQoYXJndW1lbnRzW2RdLGFyZ3VtZW50c1tkKzFdKX1lbHNlIGEmJnRoaXMuQWEoYSl9O3cucHJvdG90eXBlLnE9ZnVuY3Rpb24oKXt6YSh0aGlzKTtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy5iLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMub1t0aGlzLmJbYl1dKTtyZXR1cm4gYX07dy5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3phKHRoaXMpO3JldHVybiB0aGlzLmIuY29uY2F0KCl9O3cucHJvdG90eXBlLlE9ZnVuY3Rpb24oYSl7cmV0dXJuIHgodGhpcy5vLGEpfTtcbncucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4geCh0aGlzLm8sYSk/KGRlbGV0ZSB0aGlzLm9bYV0sdGhpcy5nLS0sdGhpcy5lYSsrLHRoaXMuYi5sZW5ndGg+Mip0aGlzLmcmJnphKHRoaXMpLCEwKTohMX07dmFyIHphPWZ1bmN0aW9uKGEpe2lmKGEuZyE9YS5iLmxlbmd0aCl7Zm9yKHZhciBiPTAsYz0wO2I8YS5iLmxlbmd0aDspe3ZhciBkPWEuYltiXTt4KGEubyxkKSYmKGEuYltjKytdPWQpO2IrK31hLmIubGVuZ3RoPWN9aWYoYS5nIT1hLmIubGVuZ3RoKXtmb3IodmFyIGU9e30sYz1iPTA7YjxhLmIubGVuZ3RoOylkPWEuYltiXSx4KGUsZCl8fChhLmJbYysrXT1kLGVbZF09MSksYisrO2EuYi5sZW5ndGg9Y319O2g9dy5wcm90b3R5cGU7aC5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4geCh0aGlzLm8sYSk/dGhpcy5vW2FdOmJ9O1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXt4KHRoaXMubyxhKXx8KHRoaXMuZysrLHRoaXMuYi5wdXNoKGEpLHRoaXMuZWErKyk7dGhpcy5vW2FdPWJ9O2guQWE9ZnVuY3Rpb24oYSl7dmFyIGI7YSBpbnN0YW5jZW9mIHc/KGI9YS5DKCksYT1hLnEoKSk6KGI9dmEoYSksYT11YShhKSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5zZXQoYltjXSxhW2NdKX07aC5CPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KHRoaXMpfTtoLmpiPWZ1bmN0aW9uKCl7emEodGhpcyk7Zm9yKHZhciBhPXt9LGI9MDtiPHRoaXMuYi5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmJbYl07YVtjXT10aGlzLm9bY119cmV0dXJuIGF9O1xuaC5UYj1mdW5jdGlvbihhKXt6YSh0aGlzKTt2YXIgYj0wLGM9dGhpcy5iLGQ9dGhpcy5vLGU9dGhpcy5lYSxmPXRoaXMsZz1uZXcgc2E7Zy5uZXh0PWZ1bmN0aW9uKCl7Zm9yKDs7KXtpZihlIT1mLmVhKXRocm93IEVycm9yKFwiVGhlIG1hcCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgaXRlcmF0b3Igd2FzIGNyZWF0ZWRcIik7aWYoYj49Yy5sZW5ndGgpdGhyb3cgcmE7dmFyIGc9Y1tiKytdO3JldHVybiBhP2c6ZFtnXX19O3JldHVybiBnfTt2YXIgeD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07dmFyIEFhPXtpZDpcImhpdFR5cGVcIixuYW1lOlwidFwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LEJhPXtpZDpcInNlc3Npb25Db250cm9sXCIsbmFtZTpcInNjXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sQ2E9e2lkOlwiZGVzY3JpcHRpb25cIixuYW1lOlwiY2RcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjIwNDgsZGVmYXVsdFZhbHVlOnZvaWQgMH0sRGE9e0pjOkFhLGpjOntpZDpcImFub255bWl6ZUlwXCIsbmFtZTpcImFpcFwiLHZhbHVlVHlwZTpcImJvb2xlYW5cIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFZjOntpZDpcInF1ZXVlVGltZVwiLG5hbWU6XCJxdFwiLHZhbHVlVHlwZTpcImludGVnZXJcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LHBjOntpZDpcImNhY2hlQnVzdGVyXCIsbmFtZTpcInpcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOnZvaWQgMCxcbmRlZmF1bHRWYWx1ZTp2b2lkIDB9LCRjOkJhLFNjOntpZDpcIm5vbkludGVyYWN0aW9uXCIsbmFtZTpcIm5pXCIsdmFsdWVUeXBlOlwiYm9vbGVhblwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0semM6Q2EsamQ6e2lkOlwidGl0bGVcIixuYW1lOlwiZHRcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjE1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sQWM6e2lkOlwiZGltZW5zaW9uXCIsbmFtZTpcImNkWzEtOV1bMC05XSpcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjE1MCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxSYzp7aWQ6XCJtZXRyaWNcIixuYW1lOlwiY21bMS05XVswLTldKlwiLHZhbHVlVHlwZTpcImludGVnZXJcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LGxjOntpZDpcImFwcElkXCIsbmFtZTpcImFpZFwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6MTUwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LG1jOntpZDpcImFwcEluc3RhbGxlcklkXCIsbmFtZTpcImFpaWRcIixcbnZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6MTUwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LERjOntpZDpcImV2ZW50Q2F0ZWdvcnlcIixuYW1lOlwiZWNcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjE1MCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxDYzp7aWQ6XCJldmVudEFjdGlvblwiLG5hbWU6XCJlYVwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LEVjOntpZDpcImV2ZW50TGFiZWxcIixuYW1lOlwiZWxcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjUwMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxGYzp7aWQ6XCJldmVudFZhbHVlXCIsbmFtZTpcImV2XCIsdmFsdWVUeXBlOlwiaW50ZWdlclwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sYmQ6e2lkOlwic29jaWFsTmV0d29ya1wiLG5hbWU6XCJzblwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sYWQ6e2lkOlwic29jaWFsQWN0aW9uXCIsbmFtZTpcInNhXCIsXG52YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjUwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LGNkOntpZDpcInNvY2lhbFRhcmdldFwiLG5hbWU6XCJzdFwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6MjA0OCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxtZDp7aWQ6XCJ0cmFuc2FjdGlvbklkXCIsbmFtZTpcInRpXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDo1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sbGQ6e2lkOlwidHJhbnNhY3Rpb25BZmZpbGlhdGlvblwiLG5hbWU6XCJ0YVwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LG5kOntpZDpcInRyYW5zYWN0aW9uUmV2ZW51ZVwiLG5hbWU6XCJ0clwiLHZhbHVlVHlwZTpcImN1cnJlbmN5XCIsbWF4TGVuZ3RoOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxvZDp7aWQ6XCJ0cmFuc2FjdGlvblNoaXBwaW5nXCIsbmFtZTpcInRzXCIsdmFsdWVUeXBlOlwiY3VycmVuY3lcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFxucGQ6e2lkOlwidHJhbnNhY3Rpb25UYXhcIixuYW1lOlwidHRcIix2YWx1ZVR5cGU6XCJjdXJyZW5jeVwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0seGM6e2lkOlwiY3VycmVuY3lDb2RlXCIsbmFtZTpcImN1XCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoxMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxOYzp7aWQ6XCJpdGVtUHJpY2VcIixuYW1lOlwiaXBcIix2YWx1ZVR5cGU6XCJjdXJyZW5jeVwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sT2M6e2lkOlwiaXRlbVF1YW50aXR5XCIsbmFtZTpcImlxXCIsdmFsdWVUeXBlOlwiaW50ZWdlclwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sTGM6e2lkOlwiaXRlbUNvZGVcIixuYW1lOlwiaWNcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjUwMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxNYzp7aWQ6XCJpdGVtTmFtZVwiLG5hbWU6XCJpblwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFxuS2M6e2lkOlwiaXRlbUNhdGVnb3J5XCIsbmFtZTpcIml2XCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDo1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sdmM6e2lkOlwiY2FtcGFpZ25Tb3VyY2VcIixuYW1lOlwiY3NcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjEwMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSx0Yzp7aWQ6XCJjYW1wYWlnbk1lZGl1bVwiLG5hbWU6XCJjbVwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sdWM6e2lkOlwiY2FtcGFpZ25OYW1lXCIsbmFtZTpcImNuXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoxMDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sc2M6e2lkOlwiY2FtcGFpZ25LZXl3b3JkXCIsbmFtZTpcImNrXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDo1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0scWM6e2lkOlwiY2FtcGFpZ25Db250ZW50XCIsbmFtZTpcImNjXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDo1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sXG5yYzp7aWQ6XCJjYW1wYWlnbklkXCIsbmFtZTpcImNpXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoxMDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sSWM6e2lkOlwiZ2NsaWRcIixuYW1lOlwiZ2NsaWRcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSx5Yzp7aWQ6XCJkY2xpZFwiLG5hbWU6XCJkY2xpZFwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFVjOntpZDpcInBhZ2VMb2FkVGltZVwiLG5hbWU6XCJwbHRcIix2YWx1ZVR5cGU6XCJpbnRlZ2VyXCIsbWF4TGVuZ3RoOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxCYzp7aWQ6XCJkbnNUaW1lXCIsbmFtZTpcImRuc1wiLHZhbHVlVHlwZTpcImludGVnZXJcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LGRkOntpZDpcInRjcENvbm5lY3RUaW1lXCIsbmFtZTpcInRjcFwiLHZhbHVlVHlwZTpcImludGVnZXJcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFxuWmM6e2lkOlwic2VydmVyUmVzcG9uc2VUaW1lXCIsbmFtZTpcInNydFwiLHZhbHVlVHlwZTpcImludGVnZXJcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LFRjOntpZDpcInBhZ2VEb3dubG9hZFRpbWVcIixuYW1lOlwicGR0XCIsdmFsdWVUeXBlOlwiaW50ZWdlclwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sV2M6e2lkOlwicmVkaXJlY3RSZXNwb25zZVRpbWVcIixuYW1lOlwicnJ0XCIsdmFsdWVUeXBlOlwiaW50ZWdlclwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sZWQ6e2lkOlwidGltaW5nQ2F0ZWdvcnlcIixuYW1lOlwidXRjXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoxNTAsZGVmYXVsdFZhbHVlOnZvaWQgMH0saGQ6e2lkOlwidGltaW5nVmFyXCIsbmFtZTpcInV0dlwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6NTAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LGdkOntpZDpcInRpbWluZ1ZhbHVlXCIsbmFtZTpcInV0dFwiLHZhbHVlVHlwZTpcImludGVnZXJcIixcbm1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sZmQ6e2lkOlwidGltaW5nTGFiZWxcIixuYW1lOlwidXRsXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDo1MDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sR2M6e2lkOlwiZXhEZXNjcmlwdGlvblwiLG5hbWU6XCJleGRcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjE1MCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxIYzp7aWQ6XCJleEZhdGFsXCIsbmFtZTpcImV4ZlwiLHZhbHVlVHlwZTpcImJvb2xlYW5cIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTpcIjFcIn19O3ZhciBFYT1mdW5jdGlvbihhLGIpe3RoaXMud2lkdGg9YTt0aGlzLmhlaWdodD1ifTtFYS5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiBuZXcgRWEodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9O0VhLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3RoaXMud2lkdGg9TWF0aC5mbG9vcih0aGlzLndpZHRoKTt0aGlzLmhlaWdodD1NYXRoLmZsb29yKHRoaXMuaGVpZ2h0KTtyZXR1cm4gdGhpc307dmFyIHksRmEsR2EsSGEsSWE9ZnVuY3Rpb24oKXtyZXR1cm4gay5uYXZpZ2F0b3I/ay5uYXZpZ2F0b3IudXNlckFnZW50Om51bGx9O0hhPUdhPUZhPXk9ITE7dmFyIEphO2lmKEphPUlhKCkpe3ZhciBLYT1rLm5hdmlnYXRvcjt5PTA9PUphLmxhc3RJbmRleE9mKFwiT3BlcmFcIiwwKTtGYT0heSYmKC0xIT1KYS5pbmRleE9mKFwiTVNJRVwiKXx8LTEhPUphLmluZGV4T2YoXCJUcmlkZW50XCIpKTtHYT0heSYmLTEhPUphLmluZGV4T2YoXCJXZWJLaXRcIik7SGE9IXkmJiFHYSYmIUZhJiZcIkdlY2tvXCI9PUthLnByb2R1Y3R9dmFyIExhPXksej1GYSxBPUhhLEI9R2EsTWE9ZnVuY3Rpb24oKXt2YXIgYT1rLmRvY3VtZW50O3JldHVybiBhP2EuZG9jdW1lbnRNb2RlOnZvaWQgMH0sTmE7XG50Ont2YXIgT2E9XCJcIixQYTtpZihMYSYmay5vcGVyYSl2YXIgUWE9ay5vcGVyYS52ZXJzaW9uLE9hPVwiZnVuY3Rpb25cIj09dHlwZW9mIFFhP1FhKCk6UWE7ZWxzZSBpZihBP1BhPS9ydlxcOihbXlxcKTtdKykoXFwpfDspLzp6P1BhPS9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS86QiYmKFBhPS9XZWJLaXRcXC8oXFxTKykvKSxQYSl2YXIgUmE9UGEuZXhlYyhJYSgpKSxPYT1SYT9SYVsxXTpcIlwiO2lmKHope3ZhciBTYT1NYSgpO2lmKFNhPnBhcnNlRmxvYXQoT2EpKXtOYT1TdHJpbmcoU2EpO2JyZWFrIHR9fU5hPU9hfVxudmFyIFRhPU5hLFVhPXt9LEM9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoIShiPVVhW2FdKSl7Yj0wO2Zvcih2YXIgYz1TdHJpbmcoVGEpLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKS5zcGxpdChcIi5cIiksZD1TdHJpbmcoYSkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixsPWRbZl18fFwiXCIsST1SZWdFeHAoXCIoXFxcXGQqKShcXFxcRCopXCIsXCJnXCIpLEY9UmVnRXhwKFwiKFxcXFxkKikoXFxcXEQqKVwiLFwiZ1wiKTtkb3t2YXIgUz1JLmV4ZWMoZyl8fFtcIlwiLFwiXCIsXCJcIl0sVD1GLmV4ZWMobCl8fFtcIlwiLFwiXCIsXCJcIl07aWYoMD09U1swXS5sZW5ndGgmJjA9PVRbMF0ubGVuZ3RoKWJyZWFrO2I9aWEoMD09U1sxXS5sZW5ndGg/MDpwYXJzZUludChTWzFdLDEwKSwwPT1UWzFdLmxlbmd0aD8wOnBhcnNlSW50KFRbMV0sMTApKXx8aWEoMD09U1syXS5sZW5ndGgsXG4wPT1UWzJdLmxlbmd0aCl8fGlhKFNbMl0sVFsyXSl9d2hpbGUoMD09Yil9Yj1VYVthXT0wPD1ifXJldHVybiBifSxWYT1rLmRvY3VtZW50LFdhPVZhJiZ6P01hKCl8fChcIkNTUzFDb21wYXRcIj09VmEuY29tcGF0TW9kZT9wYXJzZUludChUYSwxMCk6NSk6dm9pZCAwOyFBJiYhenx8eiYmeiYmOTw9V2F8fEEmJkMoXCIxLjkuMVwiKTt6JiZDKFwiOVwiKTt2YXIgWGE9ZnVuY3Rpb24oKXt9O1hhLnByb3RvdHlwZS5HYT0hMTtYYS5wcm90b3R5cGUubmE9ZnVuY3Rpb24oKXt0aGlzLkdhfHwodGhpcy5HYT0hMCx0aGlzLmooKSl9O1hhLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7aWYodGhpcy5vYilmb3IoO3RoaXMub2IubGVuZ3RoOyl0aGlzLm9iLnNoaWZ0KCkoKX07dmFyIEQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnR5cGU9YTt0aGlzLmN1cnJlbnRUYXJnZXQ9dGhpcy50YXJnZXQ9Yjt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9dGhpcy5OPSExO3RoaXMuUmE9ITB9O0QucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXt9O0QucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7fTtELnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt0aGlzLlJhPSExfTt2YXIgWWE9ZnVuY3Rpb24oYSl7WWFbXCIgXCJdKGEpO3JldHVybiBhfTtZYVtcIiBcIl09YmE7dmFyIFphPSF6fHx6JiY5PD1XYSwkYT16JiYhQyhcIjlcIiksYWI9IUJ8fEMoXCI1MjhcIiksYmI9QSYmQyhcIjEuOWJcIil8fHomJkMoXCI4XCIpfHxMYSYmQyhcIjkuNVwiKXx8QiYmQyhcIjUyOFwiKSxjYj1BJiYhQyhcIjhcIil8fHomJiFDKFwiOVwiKTt2YXIgRT1mdW5jdGlvbihhLGIpe0QuY2FsbCh0aGlzLGE/YS50eXBlOlwiXCIpO3RoaXMucmVsYXRlZFRhcmdldD10aGlzLmN1cnJlbnRUYXJnZXQ9dGhpcy50YXJnZXQ9bnVsbDt0aGlzLmNoYXJDb2RlPXRoaXMua2V5Q29kZT10aGlzLmJ1dHRvbj10aGlzLnNjcmVlblk9dGhpcy5zY3JlZW5YPXRoaXMuY2xpZW50WT10aGlzLmNsaWVudFg9dGhpcy5vZmZzZXRZPXRoaXMub2Zmc2V0WD0wO3RoaXMubWV0YUtleT10aGlzLnNoaWZ0S2V5PXRoaXMuYWx0S2V5PXRoaXMuY3RybEtleT0hMTt0aGlzLmliPXRoaXMuc3RhdGU9bnVsbDtpZihhKXt2YXIgYz10aGlzLnR5cGU9YS50eXBlO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5jdXJyZW50VGFyZ2V0PWI7dmFyIGQ9YS5yZWxhdGVkVGFyZ2V0O2lmKGQpe2lmKEEpe3ZhciBlO3Q6e3RyeXtZYShkLm5vZGVOYW1lKTtlPSEwO2JyZWFrIHR9Y2F0Y2goZil7fWU9ITF9ZXx8KGQ9bnVsbCl9fWVsc2VcIm1vdXNlb3ZlclwiPT1cbmM/ZD1hLmZyb21FbGVtZW50OlwibW91c2VvdXRcIj09YyYmKGQ9YS50b0VsZW1lbnQpO3RoaXMucmVsYXRlZFRhcmdldD1kO3RoaXMub2Zmc2V0WD1CfHx2b2lkIDAhPT1hLm9mZnNldFg/YS5vZmZzZXRYOmEubGF5ZXJYO3RoaXMub2Zmc2V0WT1CfHx2b2lkIDAhPT1hLm9mZnNldFk/YS5vZmZzZXRZOmEubGF5ZXJZO3RoaXMuY2xpZW50WD12b2lkIDAhPT1hLmNsaWVudFg/YS5jbGllbnRYOmEucGFnZVg7dGhpcy5jbGllbnRZPXZvaWQgMCE9PWEuY2xpZW50WT9hLmNsaWVudFk6YS5wYWdlWTt0aGlzLnNjcmVlblg9YS5zY3JlZW5YfHwwO3RoaXMuc2NyZWVuWT1hLnNjcmVlbll8fDA7dGhpcy5idXR0b249YS5idXR0b247dGhpcy5rZXlDb2RlPWEua2V5Q29kZXx8MDt0aGlzLmNoYXJDb2RlPWEuY2hhckNvZGV8fChcImtleXByZXNzXCI9PWM/YS5rZXlDb2RlOjApO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1hLnNoaWZ0S2V5O3RoaXMubWV0YUtleT1cbmEubWV0YUtleTt0aGlzLnN0YXRlPWEuc3RhdGU7dGhpcy5pYj1hO2EuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5wcmV2ZW50RGVmYXVsdCgpfX07dChFLEQpO0UucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7RS5KLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7dmFyIGE9dGhpcy5pYjtpZihhLnByZXZlbnREZWZhdWx0KWEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGEucmV0dXJuVmFsdWU9ITEsJGEpdHJ5e2lmKGEuY3RybEtleXx8MTEyPD1hLmtleUNvZGUmJjEyMz49YS5rZXlDb2RlKWEua2V5Q29kZT0tMX1jYXRjaChiKXt9fTtFLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7fTt2YXIgZGI9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApLGViPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4hKCFhfHwhYVtkYl0pfWNhdGNoKGIpe3JldHVybiExfX0sZmI9MDt2YXIgZ2I9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLkg9YTt0aGlzLnByb3h5PW51bGw7dGhpcy5zcmM9Yjt0aGlzLnR5cGU9Yzt0aGlzLmZhPSEhZDt0aGlzLmhhPWU7dGhpcy5rZXk9KytmYjt0aGlzLnJlbW92ZWQ9dGhpcy5nYT0hMX0saGI9ZnVuY3Rpb24oYSl7YS5yZW1vdmVkPSEwO2EuSD1udWxsO2EucHJveHk9bnVsbDthLnNyYz1udWxsO2EuaGE9bnVsbH07dmFyIEc9ZnVuY3Rpb24oYSl7dGhpcy5zcmM9YTt0aGlzLmg9e307dGhpcy5TPTB9O0cucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMuaFtmXTthfHwoYT10aGlzLmhbZl09W10sdGhpcy5TKyspO3ZhciBnPWliKGEsYixkLGUpOy0xPGc/KGI9YVtnXSxjfHwoYi5nYT0hMSkpOihiPW5ldyBnYihiLHRoaXMuc3JjLGYsISFkLGUpLGIuZ2E9YyxhLnB1c2goYikpO3JldHVybiBifTtHLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnRvU3RyaW5nKCk7aWYoIShhIGluIHRoaXMuaCkpcmV0dXJuITE7dmFyIGU9dGhpcy5oW2FdO2I9aWIoZSxiLGMsZCk7cmV0dXJuLTE8Yj8oaGIoZVtiXSksdi5zcGxpY2UuY2FsbChlLGIsMSksMD09ZS5sZW5ndGgmJihkZWxldGUgdGhpcy5oW2FdLHRoaXMuUy0tKSwhMCk6ITF9O1xudmFyIGpiPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi50eXBlO2lmKCEoYyBpbiBhLmgpKXJldHVybiExO3ZhciBkPW9hKGEuaFtjXSxiKTtkJiYoaGIoYiksMD09YS5oW2NdLmxlbmd0aCYmKGRlbGV0ZSBhLmhbY10sYS5TLS0pKTtyZXR1cm4gZH07Ry5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKGEpe2E9YSYmYS50b1N0cmluZygpO3ZhciBiPTAsYztmb3IoYyBpbiB0aGlzLmgpaWYoIWF8fGM9PWEpe2Zvcih2YXIgZD10aGlzLmhbY10sZT0wO2U8ZC5sZW5ndGg7ZSsrKSsrYixoYihkW2VdKTtkZWxldGUgdGhpcy5oW2NdO3RoaXMuUy0tfXJldHVybiBifTtHLnByb3RvdHlwZS5SPWZ1bmN0aW9uKGEsYixjLGQpe2E9dGhpcy5oW2EudG9TdHJpbmcoKV07dmFyIGU9LTE7YSYmKGU9aWIoYSxiLGMsZCkpO3JldHVybi0xPGU/YVtlXTpudWxsfTtcbnZhciBpYj1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZighZi5yZW1vdmVkJiZmLkg9PWImJmYuZmE9PSEhYyYmZi5oYT09ZClyZXR1cm4gZX1yZXR1cm4tMX07dmFyIGtiPVwiY2xvc3VyZV9sbV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksbGI9e30sbWI9MCxuYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG0oYikpe2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKW5iKGEsYltmXSxjLGQsZSk7cmV0dXJuIG51bGx9Yz1vYihjKTtyZXR1cm4gZWIoYSk/YS5saXN0ZW4oYixjLGQsZSk6cGIoYSxiLGMsITEsZCxlKX0scGI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCFiKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBnPSEhZSxsPXFiKGEpO2x8fChhW2tiXT1sPW5ldyBHKGEpKTtjPWwuYWRkKGIsYyxkLGUsZik7aWYoYy5wcm94eSlyZXR1cm4gYztkPXJiKCk7Yy5wcm94eT1kO2Quc3JjPWE7ZC5IPWM7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksZCxnKTphLmF0dGFjaEV2ZW50KHNiKGIudG9TdHJpbmcoKSksZCk7bWIrKztyZXR1cm4gY30scmI9ZnVuY3Rpb24oKXt2YXIgYT10YixcbmI9WmE/ZnVuY3Rpb24oYyl7cmV0dXJuIGEuY2FsbChiLnNyYyxiLkgsYyl9OmZ1bmN0aW9uKGMpe2M9YS5jYWxsKGIuc3JjLGIuSCxjKTtpZighYylyZXR1cm4gY307cmV0dXJuIGJ9LHViPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYobShiKSl7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspdWIoYSxiW2ZdLGMsZCxlKTtyZXR1cm4gbnVsbH1jPW9iKGMpO3JldHVybiBlYihhKT9hLkphKGIsYyxkLGUpOnBiKGEsYixjLCEwLGQsZSl9LHZiPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYobShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKyl2YihhLGJbZl0sYyxkLGUpO2Vsc2UgYz1vYihjKSxlYihhKT9hLkZhKGIsYyxkLGUpOmEmJihhPXFiKGEpKSYmKGI9YS5SKGIsYywhIWQsZSkpJiZ3YihiKX0sd2I9ZnVuY3Rpb24oYSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGF8fCFhfHxhLnJlbW92ZWQpcmV0dXJuITE7dmFyIGI9YS5zcmM7aWYoZWIoYikpcmV0dXJuIGpiKGIudCxhKTt2YXIgYz1hLnR5cGUsXG5kPWEucHJveHk7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsYS5mYSk6Yi5kZXRhY2hFdmVudCYmYi5kZXRhY2hFdmVudChzYihjKSxkKTttYi0tOyhjPXFiKGIpKT8oamIoYyxhKSwwPT1jLlMmJihjLnNyYz1udWxsLGJba2JdPW51bGwpKTpoYihhKTtyZXR1cm4hMH0sc2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gbGI/bGJbYV06bGJbYV09XCJvblwiK2F9LHliPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPTE7aWYoYT1xYihhKSlpZihiPWEuaFtiLnRvU3RyaW5nKCldKWZvcihiPXFhKGIpLGE9MDthPGIubGVuZ3RoO2ErKyl7dmFyIGY9YlthXTtmJiZmLmZhPT1jJiYhZi5yZW1vdmVkJiYoZSY9ITEhPT14YihmLGQpKX1yZXR1cm4gQm9vbGVhbihlKX0seGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLkgsZD1hLmhhfHxhLnNyYzthLmdhJiZ3YihhKTtyZXR1cm4gYy5jYWxsKGQsYil9LHRiPWZ1bmN0aW9uKGEsYil7aWYoYS5yZW1vdmVkKXJldHVybiEwO1xuaWYoIVphKXt2YXIgYztpZighKGM9YikpdDp7Yz1bXCJ3aW5kb3dcIixcImV2ZW50XCJdO2Zvcih2YXIgZD1rLGU7ZT1jLnNoaWZ0KCk7KWlmKG51bGwhPWRbZV0pZD1kW2VdO2Vsc2V7Yz1udWxsO2JyZWFrIHR9Yz1kfWU9YztjPW5ldyBFKGUsdGhpcyk7ZD0hMDtpZighKDA+ZS5rZXlDb2RlfHx2b2lkIDAhPWUucmV0dXJuVmFsdWUpKXt0Ont2YXIgZj0hMTtpZigwPT1lLmtleUNvZGUpdHJ5e2Uua2V5Q29kZT0tMTticmVhayB0fWNhdGNoKGcpe2Y9ITB9aWYoZnx8dm9pZCAwPT1lLnJldHVyblZhbHVlKWUucmV0dXJuVmFsdWU9ITB9ZT1bXTtmb3IoZj1jLmN1cnJlbnRUYXJnZXQ7ZjtmPWYucGFyZW50Tm9kZSllLnB1c2goZik7Zm9yKHZhciBmPWEudHlwZSxsPWUubGVuZ3RoLTE7IWMuTiYmMDw9bDtsLS0pYy5jdXJyZW50VGFyZ2V0PWVbbF0sZCY9eWIoZVtsXSxmLCEwLGMpO2ZvcihsPTA7IWMuTiYmbDxlLmxlbmd0aDtsKyspYy5jdXJyZW50VGFyZ2V0PWVbbF0sZCY9eWIoZVtsXSxmLFxuITEsYyl9cmV0dXJuIGR9cmV0dXJuIHhiKGEsbmV3IEUoYix0aGlzKSl9LHFiPWZ1bmN0aW9uKGEpe2E9YVtrYl07cmV0dXJuIGEgaW5zdGFuY2VvZiBHP2E6bnVsbH0semI9XCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PjApLG9iPWZ1bmN0aW9uKGEpe3JldHVybiBwKGEpP2E6YVt6Yl18fChhW3piXT1mdW5jdGlvbihiKXtyZXR1cm4gYS5oYW5kbGVFdmVudChiKX0pfTt2YXIgSD1mdW5jdGlvbigpe3RoaXMudD1uZXcgRyh0aGlzKTt0aGlzLkNiPXRoaXN9O3QoSCxYYSk7SC5wcm90b3R5cGVbZGJdPSEwO2g9SC5wcm90b3R5cGU7aC5EYT1udWxsO2guYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyxkKXtuYih0aGlzLGEsYixjLGQpfTtoLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7dmIodGhpcyxhLGIsYyxkKX07XG5oLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLkRhO2lmKGMpe2I9W107Zm9yKHZhciBkPTE7YztjPWMuRGEpYi5wdXNoKGMpLCsrZH1jPXRoaXMuQ2I7ZD1hLnR5cGV8fGE7aWYobihhKSlhPW5ldyBEKGEsYyk7ZWxzZSBpZihhIGluc3RhbmNlb2YgRClhLnRhcmdldD1hLnRhcmdldHx8YztlbHNle3ZhciBlPWE7YT1uZXcgRChkLGMpO3lhKGEsZSl9dmFyIGU9ITAsZjtpZihiKWZvcih2YXIgZz1iLmxlbmd0aC0xOyFhLk4mJjA8PWc7Zy0tKWY9YS5jdXJyZW50VGFyZ2V0PWJbZ10sZT1BYihmLGQsITAsYSkmJmU7YS5OfHwoZj1hLmN1cnJlbnRUYXJnZXQ9YyxlPUFiKGYsZCwhMCxhKSYmZSxhLk58fChlPUFiKGYsZCwhMSxhKSYmZSkpO2lmKGIpZm9yKGc9MDshYS5OJiZnPGIubGVuZ3RoO2crKylmPWEuY3VycmVudFRhcmdldD1iW2ddLGU9QWIoZixkLCExLGEpJiZlO3JldHVybiBlfTtcbmguaj1mdW5jdGlvbigpe0guSi5qLmNhbGwodGhpcyk7dGhpcy50JiZ0aGlzLnQucmVtb3ZlQWxsKHZvaWQgMCk7dGhpcy5EYT1udWxsfTtoLmxpc3Rlbj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy50LmFkZChTdHJpbmcoYSksYiwhMSxjLGQpfTtoLkphPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLnQuYWRkKFN0cmluZyhhKSxiLCEwLGMsZCl9O2guRmE9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMudC5yZW1vdmUoU3RyaW5nKGEpLGIsYyxkKX07dmFyIEFiPWZ1bmN0aW9uKGEsYixjLGQpe2I9YS50LmhbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPXFhKGIpO2Zvcih2YXIgZT0hMCxmPTA7ZjxiLmxlbmd0aDsrK2Ype3ZhciBnPWJbZl07aWYoZyYmIWcucmVtb3ZlZCYmZy5mYT09Yyl7dmFyIGw9Zy5ILEk9Zy5oYXx8Zy5zcmM7Zy5nYSYmamIoYS50LGcpO2U9ITEhPT1sLmNhbGwoSSxkKSYmZX19cmV0dXJuIGUmJiExIT1kLlJhfTtcbkgucHJvdG90eXBlLlI9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMudC5SKFN0cmluZyhhKSxiLGMsZCl9O3ZhciBCYj1mdW5jdGlvbihhLGIpe0guY2FsbCh0aGlzKTt0aGlzLm9hPWF8fDE7dGhpcy5MPWJ8fGs7dGhpcy5CYT1xKHRoaXMuRGIsdGhpcyk7dGhpcy5DYT1yKCl9O3QoQmIsSCk7aD1CYi5wcm90b3R5cGU7aC5lbmFibGVkPSExO2guZT1udWxsO2guRGI9ZnVuY3Rpb24oKXtpZih0aGlzLmVuYWJsZWQpe3ZhciBhPXIoKS10aGlzLkNhOzA8YSYmYTwwLjgqdGhpcy5vYT90aGlzLmU9dGhpcy5MLnNldFRpbWVvdXQodGhpcy5CYSx0aGlzLm9hLWEpOih0aGlzLmUmJih0aGlzLkwuY2xlYXJUaW1lb3V0KHRoaXMuZSksdGhpcy5lPW51bGwpLHRoaXMuZGlzcGF0Y2hFdmVudChcInRpY2tcIiksdGhpcy5lbmFibGVkJiYodGhpcy5lPXRoaXMuTC5zZXRUaW1lb3V0KHRoaXMuQmEsdGhpcy5vYSksdGhpcy5DYT1yKCkpKX19O2guc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5lfHwodGhpcy5lPXRoaXMuTC5zZXRUaW1lb3V0KHRoaXMuQmEsdGhpcy5vYSksdGhpcy5DYT1yKCkpfTtcbmguc3RvcD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMTt0aGlzLmUmJih0aGlzLkwuY2xlYXJUaW1lb3V0KHRoaXMuZSksdGhpcy5lPW51bGwpfTtoLmo9ZnVuY3Rpb24oKXtCYi5KLmouY2FsbCh0aGlzKTt0aGlzLnN0b3AoKTtkZWxldGUgdGhpcy5MfTt2YXIgQ2I9ZnVuY3Rpb24oYSxiLGMpe2lmKHAoYSkpYyYmKGE9cShhLGMpKTtlbHNlIGlmKGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGFuZGxlRXZlbnQpYT1xKGEuaGFuZGxlRXZlbnQsYSk7ZWxzZSB0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7cmV0dXJuIDIxNDc0ODM2NDc8Yj8tMTprLnNldFRpbWVvdXQoYSxifHwwKX07dmFyIEo9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hO3RoaXMuYj17fX07dChKLFhhKTt2YXIgRGI9W107Si5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGEsYixjLGQpe20oYil8fChEYlswXT1iLGI9RGIpO2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1uYihhLGJbZV0sY3x8dGhpcy5oYW5kbGVFdmVudCxkfHwhMSx0aGlzLkVhfHx0aGlzKTtpZighZilicmVhazt0aGlzLmJbZi5rZXldPWZ9cmV0dXJuIHRoaXN9O0oucHJvdG90eXBlLkphPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBFYih0aGlzLGEsYixjLGQpfTt2YXIgRWI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG0oYykpZm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspRWIoYSxiLGNbZ10sZCxlLGYpO2Vsc2V7Yj11YihiLGMsZHx8YS5oYW5kbGVFdmVudCxlLGZ8fGEuRWF8fGEpO2lmKCFiKXJldHVybiBhO2EuYltiLmtleV09Yn1yZXR1cm4gYX07XG5KLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG0oYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspdGhpcy5GYShhLGJbZl0sYyxkLGUpO2Vsc2UgYz1jfHx0aGlzLmhhbmRsZUV2ZW50LGU9ZXx8dGhpcy5FYXx8dGhpcyxjPW9iKGMpLGQ9ISFkLGI9ZWIoYSk/YS5SKGIsYyxkLGUpOmE/KGE9cWIoYSkpP2EuUihiLGMsZCxlKTpudWxsOm51bGwsYiYmKHdiKGIpLGRlbGV0ZSB0aGlzLmJbYi5rZXldKTtyZXR1cm4gdGhpc307Si5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dGEodGhpcy5iLHdiKTt0aGlzLmI9e319O0oucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXtKLkouai5jYWxsKHRoaXMpO3RoaXMucmVtb3ZlQWxsKCl9O0oucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpO307dmFyIEs9ZnVuY3Rpb24oKXtILmNhbGwodGhpcyk7dGhpcy5pYT1uZXcgSih0aGlzKTthYiYmKGJiP3RoaXMuaWEubGlzdGVuKGNiP2RvY3VtZW50LmJvZHk6d2luZG93LFtcIm9ubGluZVwiLFwib2ZmbGluZVwiXSx0aGlzLldhKToodGhpcy5ZYT1hYj9uYXZpZ2F0b3Iub25MaW5lOiEwLHRoaXMuZT1uZXcgQmIoMjUwKSx0aGlzLmlhLmxpc3Rlbih0aGlzLmUsXCJ0aWNrXCIsdGhpcy56YiksdGhpcy5lLnN0YXJ0KCkpKX07dChLLEgpO0sucHJvdG90eXBlLnpiPWZ1bmN0aW9uKCl7dmFyIGE9YWI/bmF2aWdhdG9yLm9uTGluZTohMDthIT10aGlzLllhJiYodGhpcy5ZYT1hLHRoaXMuV2EoKSl9O0sucHJvdG90eXBlLldhPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KChhYj9uYXZpZ2F0b3Iub25MaW5lOjEpP1wib25saW5lXCI6XCJvZmZsaW5lXCIpfTtcbksucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXtLLkouai5jYWxsKHRoaXMpO3RoaXMuaWEubmEoKTt0aGlzLmlhPW51bGw7dGhpcy5lJiYodGhpcy5lLm5hKCksdGhpcy5lPW51bGwpfTt2YXIgSGI9ZnVuY3Rpb24oYSl7cChrLnNldEltbWVkaWF0ZSk/ay5zZXRJbW1lZGlhdGUoYSk6KEZifHwoRmI9R2IoKSksRmIoYSkpfSxGYixHYj1mdW5jdGlvbigpe3ZhciBhPWsuTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1iLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3QsYT1xKGZ1bmN0aW9uKGEpe2lmKGEub3JpZ2luPT1cbmR8fGEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2M9Yy5uZXh0O3ZhciBhPWMubGI7Yy5sYj1udWxsO2EoKX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17bGI6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPVxubnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7ay5zZXRUaW1lb3V0KGEsMCl9fTt2YXIgSWI9ZnVuY3Rpb24oYSl7SGIoZnVuY3Rpb24oKXt0aHJvdyBhO30pfSxOYj1mdW5jdGlvbihhLGIpe0pifHwoSGIoS2IpLEpiPSEwKTtMYi5wdXNoKG5ldyBNYihhLGIpKX0sSmI9ITEsTGI9W10sS2I9ZnVuY3Rpb24oKXtmb3IoO0xiLmxlbmd0aDspe3ZhciBhPUxiO0xiPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3RyeXtjLlZiLmNhbGwoYy5zY29wZSl9Y2F0Y2goZCl7SWIoZCl9fX1KYj0hMX0sTWI9ZnVuY3Rpb24oYSxiKXt0aGlzLlZiPWE7dGhpcy5zY29wZT1ifTt2YXIgT2I9ZnVuY3Rpb24oYSl7YS5wcm90b3R5cGUudGhlbj1hLnByb3RvdHlwZS50aGVuO2EucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwfSxQYj1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTt0cnl7cmV0dXJuISFhLiRnb29nX1RoZW5hYmxlfWNhdGNoKGIpe3JldHVybiExfX07dmFyIE09ZnVuY3Rpb24oYSxiKXt0aGlzLms9MDt0aGlzLnI9dm9pZCAwO3RoaXMubD10aGlzLm09bnVsbDt0aGlzLmphPXRoaXMueWE9ITE7dHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7TChjLDIsYSl9LGZ1bmN0aW9uKGEpe0woYywzLGEpfSl9Y2F0Y2goZCl7TCh0aGlzLDMsZCl9fTtNLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUWIodGhpcyxwKGEpP2E6bnVsbCxwKGIpP2I6bnVsbCxjKX07T2IoTSk7TS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpezA9PXRoaXMuayYmTmIoZnVuY3Rpb24oKXt2YXIgYj1uZXcgUmIoYSk7U2IodGhpcyxiKX0sdGhpcyl9O1xudmFyIFNiPWZ1bmN0aW9uKGEsYil7aWYoMD09YS5rKWlmKGEubSl7dmFyIGM9YS5tO2lmKGMubCl7Zm9yKHZhciBkPTAsZT0tMSxmPTAsZztnPWMubFtmXTtmKyspaWYoZz1nLmxhKWlmKGQrKyxnPT1hJiYoZT1mKSwwPD1lJiYxPGQpYnJlYWs7MDw9ZSYmKDA9PWMuayYmMT09ZD9TYihjLGIpOihkPWMubC5zcGxpY2UoZSwxKVswXSxUYihjKSxkLnphKGIpKSl9fWVsc2UgTChhLDMsYil9LFZiPWZ1bmN0aW9uKGEsYil7YS5sJiZhLmwubGVuZ3RofHwyIT1hLmsmJjMhPWEua3x8VWIoYSk7YS5sfHwoYS5sPVtdKTthLmwucHVzaChiKX0sUWI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e2xhOm51bGwsUWE6bnVsbCx6YTpudWxsfTtlLmxhPW5ldyBNKGZ1bmN0aW9uKGEsZyl7ZS5RYT1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKEYpe2coRil9fTphO2UuemE9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7dm9pZCAwPT09ZSYmYiBpbnN0YW5jZW9mXG5SYj9nKGIpOmEoZSl9Y2F0Y2goRil7ZyhGKX19Omd9KTtlLmxhLm09YTtWYihhLGUpO3JldHVybiBlLmxhfTtNLnByb3RvdHlwZS5aYT1mdW5jdGlvbihhKXt0aGlzLms9MDtMKHRoaXMsMixhKX07TS5wcm90b3R5cGUuJGE9ZnVuY3Rpb24oYSl7dGhpcy5rPTA7TCh0aGlzLDMsYSl9O1xudmFyIEw9ZnVuY3Rpb24oYSxiLGMpe2lmKDA9PWEuayl7aWYoYT09YyliPTMsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIik7ZWxzZXtpZihQYihjKSl7YS5rPTE7Yy50aGVuKGEuWmEsYS4kYSxhKTtyZXR1cm59aWYoZWEoYykpdHJ5e3ZhciBkPWMudGhlbjtpZihwKGQpKXtXYihhLGMsZCk7cmV0dXJufX1jYXRjaChlKXtiPTMsYz1lfX1hLnI9YzthLms9YjtVYihhKTszIT1ifHxjIGluc3RhbmNlb2YgUmJ8fFliKGEsYyl9fSxXYj1mdW5jdGlvbihhLGIsYyl7YS5rPTE7dmFyIGQ9ITEsZT1mdW5jdGlvbihiKXtkfHwoZD0hMCxhLlphKGIpKX0sZj1mdW5jdGlvbihiKXtkfHwoZD0hMCxhLiRhKGIpKX07dHJ5e2MuY2FsbChiLGUsZil9Y2F0Y2goZyl7ZihnKX19LFViPWZ1bmN0aW9uKGEpe2EueWF8fChhLnlhPSEwLE5iKGEuUmIsYSkpfTtcbk0ucHJvdG90eXBlLlJiPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmwmJnRoaXMubC5sZW5ndGg7KXt2YXIgYT10aGlzLmw7dGhpcy5sPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdLGQ9dGhpcy5yOzI9PXRoaXMuaz9jLlFhKGQpOihUYih0aGlzKSxjLnphKGQpKX19dGhpcy55YT0hMX07dmFyIFRiPWZ1bmN0aW9uKGEpe2Zvcig7YSYmYS5qYTthPWEubSlhLmphPSExfSxZYj1mdW5jdGlvbihhLGIpe2EuamE9ITA7TmIoZnVuY3Rpb24oKXthLmphJiZaYi5jYWxsKG51bGwsYil9KX0sWmI9SWIsUmI9ZnVuY3Rpb24oYSl7dS5jYWxsKHRoaXMsYSl9O3QoUmIsdSk7UmIucHJvdG90eXBlLm5hbWU9XCJjYW5jZWxcIjsvKlxuIFBvcnRpb25zIG9mIHRoaXMgY29kZSBhcmUgZnJvbSBNb2NoaUtpdCwgcmVjZWl2ZWQgYnlcbiBUaGUgQ2xvc3VyZSBBdXRob3JzIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gQWxsIG90aGVyIGNvZGUgaXMgQ29weXJpZ2h0XG4gMjAwNS0yMDA5IFRoZSBDbG9zdXJlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qL1xudmFyIE49ZnVuY3Rpb24oYSxiKXt0aGlzLmJhPVtdO3RoaXMuT2E9YTt0aGlzLk5hPWJ8fG51bGw7dGhpcy5PPXRoaXMuSz0hMTt0aGlzLnI9dm9pZCAwO3RoaXMud2E9dGhpcy5xYj10aGlzLnZhPSExO3RoaXMuY2E9MDt0aGlzLm09bnVsbDt0aGlzLnVhPTB9O04ucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtpZih0aGlzLkspdGhpcy5yIGluc3RhbmNlb2YgTiYmdGhpcy5yLmNhbmNlbCgpO2Vsc2V7aWYodGhpcy5tKXt2YXIgYj10aGlzLm07ZGVsZXRlIHRoaXMubTthP2IuY2FuY2VsKGEpOihiLnVhLS0sMD49Yi51YSYmYi5jYW5jZWwoKSl9dGhpcy5PYT90aGlzLk9hLmNhbGwodGhpcy5OYSx0aGlzKTp0aGlzLndhPSEwO3RoaXMuS3x8dGhpcy5BKG5ldyAkYil9fTtOLnByb3RvdHlwZS5QYT1mdW5jdGlvbihhLGIpe3RoaXMudmE9ITE7YWModGhpcyxhLGIpfTtcbnZhciBhYz1mdW5jdGlvbihhLGIsYyl7YS5LPSEwO2Eucj1jO2EuTz0hYjtiYyhhKX0sZGM9ZnVuY3Rpb24oYSl7aWYoYS5LKXtpZighYS53YSl0aHJvdyBuZXcgY2M7YS53YT0hMX19O04ucHJvdG90eXBlLkc9ZnVuY3Rpb24oYSl7ZGModGhpcyk7YWModGhpcywhMCxhKX07Ti5wcm90b3R5cGUuQT1mdW5jdGlvbihhKXtkYyh0aGlzKTthYyh0aGlzLCExLGEpfTtOLnByb3RvdHlwZS5VYj1mdW5jdGlvbihhLGIpe3JldHVybiBPKHRoaXMsYSxudWxsLGIpfTt2YXIgZWM9ZnVuY3Rpb24oYSxiLGMpe08oYSxiLGIsYyl9LE89ZnVuY3Rpb24oYSxiLGMsZCl7YS5iYS5wdXNoKFtiLGMsZF0pO2EuSyYmYmMoYSk7cmV0dXJuIGF9O04ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1uZXcgTShmdW5jdGlvbihhLGIpe2Q9YTtlPWJ9KTtPKHRoaXMsZCxmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgJGI/Zi5jYW5jZWwoKTplKGEpfSk7cmV0dXJuIGYudGhlbihhLGIsYyl9O1xuT2IoTik7XG52YXIgZmM9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE47TyhhLGIuRyxiLkEsYik7cmV0dXJuIGJ9LGdjPWZ1bmN0aW9uKGEpe3JldHVybiBsYShhLmJhLGZ1bmN0aW9uKGEpe3JldHVybiBwKGFbMV0pfSl9LGJjPWZ1bmN0aW9uKGEpe2lmKGEuY2EmJmEuSyYmZ2MoYSkpe3ZhciBiPWEuY2EsYz1oY1tiXTtjJiYoay5jbGVhclRpbWVvdXQoYy5kYSksZGVsZXRlIGhjW2JdKTthLmNhPTB9YS5tJiYoYS5tLnVhLS0sZGVsZXRlIGEubSk7Zm9yKHZhciBiPWEucixkPWM9ITE7YS5iYS5sZW5ndGgmJiFhLnZhOyl7dmFyIGU9YS5iYS5zaGlmdCgpLGY9ZVswXSxnPWVbMV0sZT1lWzJdO2lmKGY9YS5PP2c6Zil0cnl7dmFyIGw9Zi5jYWxsKGV8fGEuTmEsYik7dm9pZCAwIT09bCYmKGEuTz1hLk8mJihsPT1ifHxsIGluc3RhbmNlb2YgRXJyb3IpLGEucj1iPWwpO1BiKGIpJiYoZD0hMCxhLnZhPSEwKX1jYXRjaChJKXtiPUksYS5PPSEwLGdjKGEpfHwoYz0hMCl9fWEucj1iO2QmJihsPXEoYS5QYSxhLFxuITApLGQ9cShhLlBhLGEsITEpLGIgaW5zdGFuY2VvZiBOPyhPKGIsbCxkKSxiLnFiPSEwKTpiLnRoZW4obCxkKSk7YyYmKGI9bmV3IGljKGIpLGhjW2IuZGFdPWIsYS5jYT1iLmRhKX0samM9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE47Yi5HKGEpO3JldHVybiBifSxsYz1mdW5jdGlvbigpe3ZhciBhPWtjLGI9bmV3IE47Yi5BKGEpO3JldHVybiBifSxjYz1mdW5jdGlvbigpe3UuY2FsbCh0aGlzKX07dChjYyx1KTtjYy5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIGhhcyBhbHJlYWR5IGZpcmVkXCI7Y2MucHJvdG90eXBlLm5hbWU9XCJBbHJlYWR5Q2FsbGVkRXJyb3JcIjt2YXIgJGI9ZnVuY3Rpb24oKXt1LmNhbGwodGhpcyl9O3QoJGIsdSk7JGIucHJvdG90eXBlLm1lc3NhZ2U9XCJEZWZlcnJlZCB3YXMgY2FuY2VsZWRcIjskYi5wcm90b3R5cGUubmFtZT1cIkNhbmNlbGVkRXJyb3JcIjtcbnZhciBpYz1mdW5jdGlvbihhKXt0aGlzLmRhPWsuc2V0VGltZW91dChxKHRoaXMuTmIsdGhpcyksMCk7dGhpcy4kPWF9O2ljLnByb3RvdHlwZS5OYj1mdW5jdGlvbigpe2RlbGV0ZSBoY1t0aGlzLmRhXTt0aHJvdyB0aGlzLiQ7fTt2YXIgaGM9e307dmFyIG1jPWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxkPWMuc2hpZnQoKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZCl0aHJvdyBFcnJvcihcIltnb29nLnN0cmluZy5mb3JtYXRdIFRlbXBsYXRlIHJlcXVpcmVkXCIpO3JldHVybiBkLnJlcGxhY2UoLyUoWzBcXC1cXCBcXCtdKikoXFxkKyk/KFxcLihcXGQrKSk/KFslc2ZkaXVdKS9nLGZ1bmN0aW9uKGEsYixkLGwsSSxGLFMsVCl7aWYoXCIlXCI9PUYpcmV0dXJuXCIlXCI7dmFyIFhiPWMuc2hpZnQoKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgWGIpdGhyb3cgRXJyb3IoXCJbZ29vZy5zdHJpbmcuZm9ybWF0XSBOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTthcmd1bWVudHNbMF09WGI7cmV0dXJuIFBbRl0uYXBwbHkobnVsbCxhcmd1bWVudHMpfSl9LFA9e3M6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBpc05hTihjKXx8XCJcIj09Y3x8YS5sZW5ndGg+PWM/YTphPS0xPGIuaW5kZXhPZihcIi1cIiwwKT9hK0FycmF5KGMtXG5hLmxlbmd0aCsxKS5qb2luKFwiIFwiKTpBcnJheShjLWEubGVuZ3RoKzEpLmpvaW4oXCIgXCIpK2F9LGY6ZnVuY3Rpb24oYSxiLGMsZCxlKXtkPWEudG9TdHJpbmcoKTtpc05hTihlKXx8XCJcIj09ZXx8KGQ9YS50b0ZpeGVkKGUpKTt2YXIgZjtmPTA+YT9cIi1cIjowPD1iLmluZGV4T2YoXCIrXCIpP1wiK1wiOjA8PWIuaW5kZXhPZihcIiBcIik/XCIgXCI6XCJcIjswPD1hJiYoZD1mK2QpO2lmKGlzTmFOKGMpfHxkLmxlbmd0aD49YylyZXR1cm4gZDtkPWlzTmFOKGUpP01hdGguYWJzKGEpLnRvU3RyaW5nKCk6TWF0aC5hYnMoYSkudG9GaXhlZChlKTthPWMtZC5sZW5ndGgtZi5sZW5ndGg7cmV0dXJuIGQ9MDw9Yi5pbmRleE9mKFwiLVwiLDApP2YrZCtBcnJheShhKzEpLmpvaW4oXCIgXCIpOmYrQXJyYXkoYSsxKS5qb2luKDA8PWIuaW5kZXhPZihcIjBcIiwwKT9cIjBcIjpcIiBcIikrZH0sZDpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGwpe3JldHVybiBQLmYocGFyc2VJbnQoYSwxMCksYixjLGQsMCxmLGcsbCl9fTtQLmk9UC5kO1xuUC51PVAuZDt2YXIgbmM9ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5xKXJldHVybiBhLnEoKTtpZihuKGEpKXJldHVybiBhLnNwbGl0KFwiXCIpO2lmKGRhKGEpKXtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXSk7cmV0dXJuIGJ9cmV0dXJuIHVhKGEpfSxvYz1mdW5jdGlvbihhLGIsYyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5mb3JFYWNoKWEuZm9yRWFjaChiLGMpO2Vsc2UgaWYoZGEoYSl8fG4oYSkpa2EoYSxiLGMpO2Vsc2V7dmFyIGQ7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5DKWQ9YS5DKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnEpaWYoZGEoYSl8fG4oYSkpe2Q9W107Zm9yKHZhciBlPWEubGVuZ3RoLGY9MDtmPGU7ZisrKWQucHVzaChmKX1lbHNlIGQ9dmEoYSk7ZWxzZSBkPXZvaWQgMDtmb3IodmFyIGU9bmMoYSksZj1lLmxlbmd0aCxnPTA7ZzxmO2crKyliLmNhbGwoYyxlW2ddLGQmJmRbZ10sYSl9fTt2YXIgUT1mdW5jdGlvbihhKXt0aGlzLk09bmV3IHc7dGhpcy5BYShhcmd1bWVudHMpfTtRLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLk0uc2V0KGEubmFtZSx7a2V5OmEsdmFsdWU6Yn0pfTtRLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy5NLnJlbW92ZShhLm5hbWUpfTtRLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7YT10aGlzLk0uZ2V0KGEubmFtZSxudWxsKTtyZXR1cm4gbnVsbD09PWE/bnVsbDphLnZhbHVlfTtRLnByb3RvdHlwZS5BYT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrPTIpdGhpcy5zZXQoYVtiXSxhW2IrMV0pfTt2YXIgcGM9ZnVuY3Rpb24oYSxiKXtrYShhLk0ucSgpLGZ1bmN0aW9uKGEpe2IoYS5rZXksYS52YWx1ZSl9KX07US5wcm90b3R5cGUuamI9ZnVuY3Rpb24oKXt2YXIgYT17fTtwYyh0aGlzLGZ1bmN0aW9uKGIsYyl7YVtiLmlkXT1jfSk7cmV0dXJuIGF9O1xuUS5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3ZhciBhPW5ldyBRO2EuTT10aGlzLk0uQigpO3JldHVybiBhfTtRLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPXt9O3BjKHRoaXMsZnVuY3Rpb24oYixjKXthW2IuaWRdPWN9KTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSl9O3ZhciBxYz17aWQ6XCJhcGlWZXJzaW9uXCIsbmFtZTpcInZcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxyYz17aWQ6XCJhcHBOYW1lXCIsbmFtZTpcImFuXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoxMDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sc2M9e2lkOlwiYXBwVmVyc2lvblwiLG5hbWU6XCJhdlwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6MTAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LHRjPXtpZDpcImNsaWVudElkXCIsbmFtZTpcImNpZFwiLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LHVjPXtpZDpcImxhbmd1YWdlXCIsbmFtZTpcInVsXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoyMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSx2Yz17aWQ6XCJsaWJWZXJzaW9uXCIsbmFtZTpcIl92XCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0sd2M9e2lkOlwic2NyZWVuQ29sb3JzXCIsXG5uYW1lOlwic2RcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjIwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LHhjPXtpZDpcInNjcmVlblJlc29sdXRpb25cIixuYW1lOlwic3JcIix2YWx1ZVR5cGU6XCJ0ZXh0XCIsbWF4TGVuZ3RoOjIwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9LHljPXtpZDpcInRyYWNraW5nSWRcIixuYW1lOlwidGlkXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH0semM9e2lkOlwidmlld3BvcnRTaXplXCIsbmFtZTpcInZwXCIsdmFsdWVUeXBlOlwidGV4dFwiLG1heExlbmd0aDoyMCxkZWZhdWx0VmFsdWU6dm9pZCAwfSxBYz17a2M6cWMsbmM6cmMsb2M6c2Msd2M6dGMsUGM6dWMsUWM6dmMsWGM6d2MsWWM6eGMsa2Q6eWMscWQ6emN9LENjPWZ1bmN0aW9uKGEpe2lmKCFuKGEpKXJldHVybiBhO3ZhciBiPUJjKGEsRGEpO2lmKGVhKGIpKXJldHVybiBiO2I9QmMoYSxBYyk7aWYoZWEoYikpcmV0dXJuIGI7Yj0vXmRpbWVuc2lvbihcXGQrKSQvLmV4ZWMoYSk7XG5pZihudWxsIT09YilyZXR1cm57aWQ6YSxuYW1lOlwiY2RcIitiWzFdLHZhbHVlVHlwZTpcInRleHRcIixtYXhMZW5ndGg6MTUwLGRlZmF1bHRWYWx1ZTp2b2lkIDB9O2I9L15tZXRyaWMoXFxkKykkLy5leGVjKGEpO2lmKG51bGwhPT1iKXJldHVybntpZDphLG5hbWU6XCJjbVwiK2JbMV0sdmFsdWVUeXBlOlwiaW50ZWdlclwiLG1heExlbmd0aDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMH07dGhyb3cgRXJyb3IoYStcIiBpcyBub3QgYSB2YWxpZCBwYXJhbWV0ZXIgbmFtZS5cIik7fSxCYz1mdW5jdGlvbihhLGIpe3ZhciBjPXdhKGIsZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQ9PWEmJlwibWV0cmljXCIhPWEmJlwiZGltZW5zaW9uXCIhPWF9KTtyZXR1cm4gZWEoYyk/YzpudWxsfTt2YXIgRGM9ZnVuY3Rpb24oYSxiKXt0aGlzLm49YTt0aGlzLnY9Yn07RGMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiKXtiLnNldCh0Yyx0aGlzLm4ueGEpO3JldHVybiB0aGlzLnYuc2VuZChhLGIpfTt2YXIgUj1mdW5jdGlvbigpe307Ui5MYj1mdW5jdGlvbigpe3JldHVybiBSLm5iP1IubmI6Ui5uYj1uZXcgUn07Ui5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3JldHVybiBqYygpfTt2YXIgVT1mdW5jdGlvbihhLGIpe0QuY2FsbCh0aGlzLFwiYVwiKTt0aGlzLlNiPWE7dGhpcy5PYj1ifTt0KFUsRCk7VS5wcm90b3R5cGUuJGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TYn07VS5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PYi5qYigpfTt2YXIgRWM9ZnVuY3Rpb24oYSxiKXt0aGlzLkhhPWE7dGhpcy52PWJ9O0VjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5IYS5kaXNwYXRjaEV2ZW50KG5ldyBVKGEsYikpO3JldHVybiB0aGlzLnYuc2VuZChhLGIpfTt2YXIgRmM9ZnVuY3Rpb24oYSl7dGhpcy52PWF9O0ZjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYil7R2MoYik7SGMoYik7cmV0dXJuIHRoaXMudi5zZW5kKGEsYil9O3ZhciBHYz1mdW5jdGlvbihhKXtwYyhhLGZ1bmN0aW9uKGIsYyl7dm9pZCAwIT09Yi5tYXhMZW5ndGgmJlwidGV4dFwiPT1iLnZhbHVlVHlwZSYmMDxiLm1heExlbmd0aCYmYy5sZW5ndGg+Yi5tYXhMZW5ndGgmJmEuc2V0KGIsYy5zdWJzdHJpbmcoMCxiLm1heExlbmd0aCkpfSl9LEhjPWZ1bmN0aW9uKGEpe3BjKGEsZnVuY3Rpb24oYixjKXt2b2lkIDAhPT1iLmRlZmF1bHRWYWx1ZSYmYz09Yi5kZWZhdWx0VmFsdWUmJmEucmVtb3ZlKGIpfSl9O3ZhciBrYz17c3RhdHVzOlwiZGV2aWNlLW9mZmxpbmVcIixwYTp2b2lkIDB9LEljPXtzdGF0dXM6XCJyYXRlLWxpbWl0ZWRcIixwYTp2b2lkIDB9LEpjPXtzdGF0dXM6XCJzYW1wbGVkLW91dFwiLHBhOnZvaWQgMH0sS2M9e3N0YXR1czpcInNlbnRcIixwYTp2b2lkIDB9O3ZhciBMYz1mdW5jdGlvbihhLGIpe3RoaXMueWI9YTt0aGlzLnY9Yn07TGMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYztjPXRoaXMueWI7dmFyIGQ9Yy5VYSgpLGU9TWF0aC5mbG9vcigoZC1jLlRhKSpjLnZiKTswPGUmJihjLlQ9TWF0aC5taW4oYy5UK2UsYy53YiksYy5UYT1kKTsxPmMuVD9jPSExOihjLlQtPTEsYz0hMCk7cmV0dXJuIGN8fFwiaXRlbVwiPT1hfHxcInRyYW5zYWN0aW9uXCI9PWE/dGhpcy52LnNlbmQoYSxiKTpqYyhJYyl9O3ZhciBNYz1mdW5jdGlvbihhKXt0aGlzLlBiPWF9O01jLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5QYi5wdXNoKHt0YjphLHViOmJ9KTtyZXR1cm4gamMoKX07dmFyIE5jPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm49YTt0aGlzLmthPVtdO3RoaXMuST17ZW5hYmxlZDpuZXcgTWModGhpcy5rYSksZGlzYWJsZWQ6Y307dGhpcy5QPXRoaXMuSS5lbmFibGVkO08oZmModGhpcy5uLmFhKSxoYSh0aGlzLnNiLGIpLHRoaXMucmIsdGhpcyl9O05jLnByb3RvdHlwZS5zYj1mdW5jdGlvbihhKXt0aGlzLkkuZW5hYmxlZD1hKHRoaXMubik7T2ModGhpcyk7a2EodGhpcy5rYSxmdW5jdGlvbihhKXt0aGlzLnNlbmQoYS50YixhLnViKX0sdGhpcyk7dGhpcy5rYT1udWxsO1BjKHRoaXMubixxKHRoaXMueGIsdGhpcykpfTtOYy5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXt0aGlzLlA9dGhpcy5JLmVuYWJsZWQ9dGhpcy5JLmRpc2FibGVkO3RoaXMua2E9bnVsbH07TmMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5QLnNlbmQoYSxiKX07dmFyIE9jPWZ1bmN0aW9uKGEpe2EuUD1hLm4uYWIoKT9hLkkuZW5hYmxlZDphLkkuZGlzYWJsZWR9O1xuTmMucHJvdG90eXBlLnhiPWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwiYW5hbHl0aWNzLnRyYWNraW5nLXBlcm1pdHRlZFwiOk9jKHRoaXMpfX07dmFyIFY9ZnVuY3Rpb24oYSxiKXt0aGlzLlA9YTt0aGlzLkhhPWI7dGhpcy5jYj1uZXcgUTt0aGlzLklhPSExfTtoPVYucHJvdG90eXBlO2guc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9Q2MoYSk7dGhpcy5jYi5zZXQoYyxiKX07aC5zZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYi5CKCk7YiYmdGEoYixmdW5jdGlvbihhLGIpe251bGwhPWEmJmMuc2V0KENjKGIpLGEpfSx0aGlzKTt0aGlzLklhJiYodGhpcy5JYT0hMSxjLnNldChCYSxcInN0YXJ0XCIpKTtyZXR1cm4gdGhpcy5QLnNlbmQoYSxjKX07aC5iYz1mdW5jdGlvbihhKXt2YXIgYj17ZGVzY3JpcHRpb246YX07dGhpcy5zZXQoQ2EsYSk7cmV0dXJuIHRoaXMuc2VuZChcImFwcHZpZXdcIixiKX07aC5jYz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5zZW5kKFwiZXZlbnRcIix7ZXZlbnRDYXRlZ29yeTphLGV2ZW50QWN0aW9uOmIsZXZlbnRMYWJlbDpjLGV2ZW50VmFsdWU6ZH0pfTtcbmguZWM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLnNlbmQoXCJzb2NpYWxcIix7c29jaWFsTmV0d29yazphLHNvY2lhbEFjdGlvbjpiLHNvY2lhbFRhcmdldDpjfSl9O2guZGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5zZW5kKFwiZXhjZXB0aW9uXCIse2V4RGVzY3JpcHRpb246YSxleEZhdGFsOmJ9KX07aC5oYj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5zZW5kKFwidGltaW5nXCIse3RpbWluZ0NhdGVnb3J5OmEsdGltaW5nVmFyOmIsdGltaW5nTGFiZWw6ZCx0aW1pbmdWYWx1ZTpjfSl9O2guV2I9ZnVuY3Rpb24oKXt0aGlzLklhPSEwfTtoLmhjPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFFjKHRoaXMsYSxiLGMpfTtoLlliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGF9O3ZhciBRYz1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmViPWE7dGhpcy5HYj1iO3RoaXMuS2I9Yzt0aGlzLkhiPWQ7dGhpcy5KYj1yKCl9O1xuUWMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmViLmhiKHRoaXMuR2IsdGhpcy5LYixyKCktdGhpcy5KYix0aGlzLkhiKTt0aGlzLmViPW51bGw7cmV0dXJuIGF9O3ZhciBSYz1mdW5jdGlvbigpe3RoaXMuVD02MDt0aGlzLndiPTUwMDt0aGlzLnZiPTVFLTQ7dGhpcy5VYT1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt0aGlzLlRhPXRoaXMuVWEoKX07dmFyIFNjPWZ1bmN0aW9uKGEsYil7dGhpcy5uPWE7dGhpcy52PWJ9O1NjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXQodGMpO3JldHVybiBwYXJzZUludChjLnNwbGl0KFwiLVwiKVsxXSwxNik8NjU1LjM2KnRoaXMubi5TYT90aGlzLnYuc2VuZChhLGIpOmpjKEpjKX07dmFyIFRjPVJlZ0V4cChcIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKD86KFteLz8jXSopQCk/KFteLyM/XSo/KSg/OjooWzAtOV0rKSk/KD89Wy8jP118JCkpPyhbXj8jXSspPyg/OlxcXFw/KFteI10qKSk/KD86IyguKikpPyRcIiksVWM9QixWYz1mdW5jdGlvbihhLGIpe2lmKFVjKXtVYz0hMTt2YXIgYz1rLmxvY2F0aW9uO2lmKGMpe3ZhciBkPWMuaHJlZjtpZihkJiYoZD0oZD1WYygzLGQpKSYmZGVjb2RlVVJJQ29tcG9uZW50KGQpKSYmZCE9Yy5ob3N0bmFtZSl0aHJvdyBVYz0hMCxFcnJvcigpO319cmV0dXJuIGIubWF0Y2goVGMpW2FdfHxudWxsfTt2YXIgV2M9ZnVuY3Rpb24oKXt9O1djLnByb3RvdHlwZS5rYj1udWxsO3ZhciBZYz1mdW5jdGlvbihhKXt2YXIgYjsoYj1hLmtiKXx8KGI9e30sWGMoYSkmJihiWzBdPSEwLGJbMV09ITApLGI9YS5rYj1iKTtyZXR1cm4gYn07dmFyIFpjLCRjPWZ1bmN0aW9uKCl7fTt0KCRjLFdjKTt2YXIgYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9WGMoYSkpP25ldyBBY3RpdmVYT2JqZWN0KGEpOm5ldyBYTUxIdHRwUmVxdWVzdH0sWGM9ZnVuY3Rpb24oYSl7aWYoIWEubWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFjdGl2ZVhPYmplY3Qpe2Zvcih2YXIgYj1bXCJNU1hNTDIuWE1MSFRUUC42LjBcIixcIk1TWE1MMi5YTUxIVFRQLjMuMFwiLFwiTVNYTUwyLlhNTEhUVFBcIixcIk1pY3Jvc29mdC5YTUxIVFRQXCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KGQpLGEubWI9ZH1jYXRjaChlKXt9fXRocm93IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBBY3RpdmVYT2JqZWN0LiBBY3RpdmVYIG1pZ2h0IGJlIGRpc2FibGVkLCBvciBNU1hNTCBtaWdodCBub3QgYmUgaW5zdGFsbGVkXCIpO31yZXR1cm4gYS5tYn07WmM9bmV3ICRjO3ZhciBXPWZ1bmN0aW9uKGEpe0guY2FsbCh0aGlzKTt0aGlzLmhlYWRlcnM9bmV3IHc7dGhpcy5aPWF8fG51bGw7dGhpcy53PSExO3RoaXMuVz10aGlzLmE9bnVsbDt0aGlzLlY9dGhpcy5yYT1cIlwiO3RoaXMuRD10aGlzLnFhPXRoaXMuVT10aGlzLnRhPSExO3RoaXMuWT0wO3RoaXMuWD1udWxsO3RoaXMuS2E9XCJcIjt0aGlzLnNhPXRoaXMucGI9ITF9O3QoVyxIKTt2YXIgYmQ9L15odHRwcz8kL2ksY2Q9W1wiUE9TVFwiLFwiUFVUXCJdLGRkPVtdLGVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgVztkZC5wdXNoKGQpO2ImJmQubGlzdGVuKFwiY29tcGxldGVcIixiKTtkLkphKFwicmVhZHlcIixkLlFiKTtkLnNlbmQoYSxcIlBPU1RcIixjLHZvaWQgMCl9O1cucHJvdG90eXBlLlFiPWZ1bmN0aW9uKCl7dGhpcy5uYSgpO29hKGRkLHRoaXMpfTtcblcucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5hKXRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiK3RoaXMucmErXCI7IG5ld1VyaT1cIithKTtiPWI/Yi50b1VwcGVyQ2FzZSgpOlwiR0VUXCI7dGhpcy5yYT1hO3RoaXMuVj1cIlwiO3RoaXMudGE9ITE7dGhpcy53PSEwO3RoaXMuYT10aGlzLlo/YWQodGhpcy5aKTphZChaYyk7dGhpcy5XPXRoaXMuWj9ZYyh0aGlzLlopOlljKFpjKTt0aGlzLmEub25yZWFkeXN0YXRlY2hhbmdlPXEodGhpcy5MYSx0aGlzKTt0cnl7dGhpcy5xYT0hMCx0aGlzLmEub3BlbihiLFN0cmluZyhhKSwhMCksdGhpcy5xYT0hMX1jYXRjaChlKXt0aGlzLiQoNSxlKTtyZXR1cm59YT1jfHxcIlwiO3ZhciBmPXRoaXMuaGVhZGVycy5CKCk7ZCYmb2MoZCxmdW5jdGlvbihhLGIpe2Yuc2V0KGIsYSl9KTtkPW5hKGYuQygpKTtjPWsuRm9ybURhdGEmJmEgaW5zdGFuY2VvZiBrLkZvcm1EYXRhO1xuISgwPD1qYShjZCxiKSl8fGR8fGN8fGYuc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKTtvYyhmLGZ1bmN0aW9uKGEsYil7dGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYixhKX0sdGhpcyk7dGhpcy5LYSYmKHRoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5LYSk7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYSYmKHRoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5wYik7dHJ5e2ZkKHRoaXMpLDA8dGhpcy5ZJiYoKHRoaXMuc2E9Z2QodGhpcy5hKSk/KHRoaXMuYS50aW1lb3V0PXRoaXMuWSx0aGlzLmEub250aW1lb3V0PXEodGhpcy5NYSx0aGlzKSk6dGhpcy5YPUNiKHRoaXMuTWEsdGhpcy5ZLHRoaXMpKSx0aGlzLlU9ITAsdGhpcy5hLnNlbmQoYSksdGhpcy5VPSExfWNhdGNoKGcpe3RoaXMuJCg1LGcpfX07XG52YXIgZ2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHomJkMoOSkmJlwibnVtYmVyXCI9PXR5cGVvZiBhLnRpbWVvdXQmJnZvaWQgMCE9PWEub250aW1lb3V0fSxtYT1mdW5jdGlvbihhKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT1hLnRvTG93ZXJDYXNlKCl9O1cucHJvdG90eXBlLk1hPWZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFhJiZ0aGlzLmEmJih0aGlzLlY9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5ZK1wibXMsIGFib3J0aW5nXCIsdGhpcy5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKSx0aGlzLmFib3J0KDgpKX07Vy5wcm90b3R5cGUuJD1mdW5jdGlvbihhLGIpe3RoaXMudz0hMTt0aGlzLmEmJih0aGlzLkQ9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5EPSExKTt0aGlzLlY9YjtoZCh0aGlzKTtpZCh0aGlzKX07dmFyIGhkPWZ1bmN0aW9uKGEpe2EudGF8fChhLnRhPSEwLGEuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLGEuZGlzcGF0Y2hFdmVudChcImVycm9yXCIpKX07XG5XLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy53JiYodGhpcy53PSExLHRoaXMuRD0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLkQ9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksdGhpcy5kaXNwYXRjaEV2ZW50KFwiYWJvcnRcIiksaWQodGhpcykpfTtXLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy53JiYodGhpcy53PSExLHRoaXMuRD0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLkQ9ITEpLGlkKHRoaXMsITApKTtXLkouai5jYWxsKHRoaXMpfTtXLnByb3RvdHlwZS5MYT1mdW5jdGlvbigpe3RoaXMuR2F8fCh0aGlzLnFhfHx0aGlzLlV8fHRoaXMuRD9qZCh0aGlzKTp0aGlzLkJiKCkpfTtXLnByb3RvdHlwZS5CYj1mdW5jdGlvbigpe2pkKHRoaXMpfTtcbnZhciBqZD1mdW5jdGlvbihhKXtpZihhLncmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhYSYmKCFhLldbMV18fDQhPWtkKGEpfHwyIT1sZChhKSkpaWYoYS5VJiY0PT1rZChhKSlDYihhLkxhLDAsYSk7ZWxzZSBpZihhLmRpc3BhdGNoRXZlbnQoXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PWtkKGEpKXthLnc9ITE7dHJ5e3ZhciBiPWxkKGEpLGMsZDt0OnN3aXRjaChiKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6ZD0hMDticmVhayB0O2RlZmF1bHQ6ZD0hMX1pZighKGM9ZCkpe3ZhciBlO2lmKGU9MD09PWIpe3ZhciBmPVZjKDEsU3RyaW5nKGEucmEpKTtpZighZiYmc2VsZi5sb2NhdGlvbil2YXIgZz1zZWxmLmxvY2F0aW9uLnByb3RvY29sLGY9Zy5zdWJzdHIoMCxnLmxlbmd0aC0xKTtlPSFiZC50ZXN0KGY/Zi50b0xvd2VyQ2FzZSgpOlwiXCIpfWM9ZX1pZihjKWEuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLGEuZGlzcGF0Y2hFdmVudChcInN1Y2Nlc3NcIik7XG5lbHNle3ZhciBsO3RyeXtsPTI8a2QoYSk/YS5hLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChJKXtsPVwiXCJ9YS5WPWwrXCIgW1wiK2xkKGEpK1wiXVwiO2hkKGEpfX1maW5hbGx5e2lkKGEpfX19LGlkPWZ1bmN0aW9uKGEsYil7aWYoYS5hKXtmZChhKTt2YXIgYz1hLmEsZD1hLldbMF0/YmE6bnVsbDthLmE9bnVsbDthLlc9bnVsbDtifHxhLmRpc3BhdGNoRXZlbnQoXCJyZWFkeVwiKTt0cnl7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZH1jYXRjaChlKXt9fX0sZmQ9ZnVuY3Rpb24oYSl7YS5hJiZhLnNhJiYoYS5hLm9udGltZW91dD1udWxsKTtcIm51bWJlclwiPT10eXBlb2YgYS5YJiYoay5jbGVhclRpbWVvdXQoYS5YKSxhLlg9bnVsbCl9LGtkPWZ1bmN0aW9uKGEpe3JldHVybiBhLmE/YS5hLnJlYWR5U3RhdGU6MH0sbGQ9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiAyPGtkKGEpP2EuYS5zdGF0dXM6LTF9Y2F0Y2goYil7cmV0dXJuLTF9fTt2YXIgbWQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucD1hfHxudWxsO3RoaXMuTWI9ISFjfSxZPWZ1bmN0aW9uKGEpe2lmKCFhLmMmJihhLmM9bmV3IHcsYS5nPTAsYS5wKSlmb3IodmFyIGI9YS5wLnNwbGl0KFwiJlwiKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY10uaW5kZXhPZihcIj1cIiksZT1udWxsLGY9bnVsbDswPD1kPyhlPWJbY10uc3Vic3RyaW5nKDAsZCksZj1iW2NdLnN1YnN0cmluZyhkKzEpKTplPWJbY107ZT1kZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpO2U9WChhLGUpO2EuYWRkKGUsZj9kZWNvZGVVUklDb21wb25lbnQoZi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpOlwiXCIpfX07aD1tZC5wcm90b3R5cGU7aC5jPW51bGw7aC5nPW51bGw7aC5hZGQ9ZnVuY3Rpb24oYSxiKXtZKHRoaXMpO3RoaXMucD1udWxsO2E9WCh0aGlzLGEpO3ZhciBjPXRoaXMuYy5nZXQoYSk7Y3x8dGhpcy5jLnNldChhLGM9W10pO2MucHVzaChiKTt0aGlzLmcrKztyZXR1cm4gdGhpc307XG5oLnJlbW92ZT1mdW5jdGlvbihhKXtZKHRoaXMpO2E9WCh0aGlzLGEpO3JldHVybiB0aGlzLmMuUShhKT8odGhpcy5wPW51bGwsdGhpcy5nLT10aGlzLmMuZ2V0KGEpLmxlbmd0aCx0aGlzLmMucmVtb3ZlKGEpKTohMX07aC5RPWZ1bmN0aW9uKGEpe1kodGhpcyk7YT1YKHRoaXMsYSk7cmV0dXJuIHRoaXMuYy5RKGEpfTtoLkM9ZnVuY3Rpb24oKXtZKHRoaXMpO2Zvcih2YXIgYT10aGlzLmMucSgpLGI9dGhpcy5jLkMoKSxjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKylmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmxlbmd0aDtmKyspYy5wdXNoKGJbZF0pO3JldHVybiBjfTtoLnE9ZnVuY3Rpb24oYSl7WSh0aGlzKTt2YXIgYj1bXTtpZihuKGEpKXRoaXMuUShhKSYmKGI9cGEoYix0aGlzLmMuZ2V0KFgodGhpcyxhKSkpKTtlbHNle2E9dGhpcy5jLnEoKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliPXBhKGIsYVtjXSl9cmV0dXJuIGJ9O1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXtZKHRoaXMpO3RoaXMucD1udWxsO2E9WCh0aGlzLGEpO3RoaXMuUShhKSYmKHRoaXMuZy09dGhpcy5jLmdldChhKS5sZW5ndGgpO3RoaXMuYy5zZXQoYSxbYl0pO3RoaXMuZysrO3JldHVybiB0aGlzfTtoLmdldD1mdW5jdGlvbihhLGIpe3ZhciBjPWE/dGhpcy5xKGEpOltdO3JldHVybiAwPGMubGVuZ3RoP1N0cmluZyhjWzBdKTpifTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5wKXJldHVybiB0aGlzLnA7aWYoIXRoaXMuYylyZXR1cm5cIlwiO2Zvcih2YXIgYT1bXSxiPXRoaXMuYy5DKCksYz0wO2M8Yi5sZW5ndGg7YysrKWZvcih2YXIgZD1iW2NdLGU9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSksZD10aGlzLnEoZCksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz1lO1wiXCIhPT1kW2ZdJiYoZys9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkW2ZdKSkpO2EucHVzaChnKX1yZXR1cm4gdGhpcy5wPWEuam9pbihcIiZcIil9O1xuaC5CPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG1kO2EucD10aGlzLnA7dGhpcy5jJiYoYS5jPXRoaXMuYy5CKCksYS5nPXRoaXMuZyk7cmV0dXJuIGF9O3ZhciBYPWZ1bmN0aW9uKGEsYil7dmFyIGM9U3RyaW5nKGIpO2EuTWImJihjPWMudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGN9O3ZhciBuZD1mdW5jdGlvbihhLGIpe3RoaXMuQWI9YTt0aGlzLmJiPWJ9O25kLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYil7aWYoYWImJiFuYXZpZ2F0b3Iub25MaW5lKXJldHVybiBsYygpO3ZhciBjPW5ldyBOLGQ9b2QoYSxiKTtkLmxlbmd0aD50aGlzLmJiP2MuQSh7c3RhdHVzOlwicGF5bG9hZC10b28tYmlnXCIscGE6bWMoXCJFbmNvZGVkIGhpdCBsZW5ndGggPT0gJXMsIGJ1dCBzaG91bGQgYmUgPD0gJXMuXCIsZC5sZW5ndGgsdGhpcy5iYil9KTplZCh0aGlzLkFiLGZ1bmN0aW9uKCl7Yy5HKEtjKX0sZCk7cmV0dXJuIGN9O3ZhciBvZD1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBtZDtjLmFkZChBYS5uYW1lLGEpO3BjKGIsZnVuY3Rpb24oYSxiKXtjLmFkZChhLm5hbWUsYi50b1N0cmluZygpKX0pO3JldHVybiBjLnRvU3RyaW5nKCl9O3ZhciBaPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuSWI9YTt0aGlzLkViPWI7dGhpcy5GYj1jO3RoaXMubj1kfSxwZDtaLnByb3RvdHlwZS5hYz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgSCxiPW5ldyBWKHFkKHRoaXMsYiksYik7Yi5zZXQodmMsdGhpcy5JYik7Yi5zZXQocWMsMSk7Yi5zZXQocmMsdGhpcy5FYik7Yi5zZXQoc2MsdGhpcy5GYik7Yi5zZXQoeWMsYSk7YT13aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlO2Iuc2V0KHVjLGEpO2E9c2NyZWVuLmNvbG9yRGVwdGgrXCItYml0XCI7Yi5zZXQod2MsYSk7YT1bc2NyZWVuLndpZHRoLHNjcmVlbi5oZWlnaHRdLmpvaW4oXCJ4XCIpO2Iuc2V0KHhjLGEpO2E9d2luZG93LmRvY3VtZW50O2E9XCJDU1MxQ29tcGF0XCI9PWEuY29tcGF0TW9kZT9hLmRvY3VtZW50RWxlbWVudDphLmJvZHk7YT1uZXcgRWEoYS5jbGllbnRXaWR0aCxhLmNsaWVudEhlaWdodCk7YT1bYS53aWR0aCxhLmhlaWdodF0uam9pbihcInhcIik7Yi5zZXQoemMsYSk7cmV0dXJuIGJ9O1xudmFyIHFkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBOYyhhLm4sZnVuY3Rpb24oYSl7aWYoIXBkKXtuZXcgSzt2YXIgZD1uZXcgRmMobmV3IG5kKFwiaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vY29sbGVjdFwiLDgxOTIpKSxlPW5ldyBSYztwZD1uZXcgRGMoYSxuZXcgU2MoYSxuZXcgTGMoZSxkKSkpfXJldHVybiBuZXcgRWMoYixwZCl9LFIuTGIoKSl9O1oucHJvdG90eXBlLlhiPWZ1bmN0aW9uKCl7cmV0dXJuIGZjKHRoaXMubi5hYSl9O3ZhciAkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuU2E9MTAwO3RoaXMuVmE9W107dGhpcy5hYT1uZXcgTjt0aGlzLm1hPXRoaXMueGE9bnVsbDtyZCh0aGlzKX0scmQ9ZnVuY3Rpb24oYSl7TyhhLkYuZ2V0KFwiYW5hbHl0aWNzLnRyYWNraW5nLXBlcm1pdHRlZFwiKSxmdW5jdGlvbihhKXt0aGlzLm1hPXZvaWQgMCE9PWE/YTohMDt0aGlzLmZiKCl9LGEuZ2IsYSk7TyhzZChhKSxhLmZiLGEuZ2IsYSl9OyQucHJvdG90eXBlLmdiPWZ1bmN0aW9uKGEpe3RoaXMuYWEuQShhKX07JC5wcm90b3R5cGUuZmI9ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5tYXx8bnVsbD09PXRoaXMueGF8fHRoaXMuYWEuRyh0aGlzKX07dmFyIFBjPWZ1bmN0aW9uKGEsYil7YS5WYS5wdXNoKGIpfTtcbiQucHJvdG90eXBlLmdjPWZ1bmN0aW9uKGEpe2VjKHRoaXMuRi5zZXQoXCJhbmFseXRpY3MudHJhY2tpbmctcGVybWl0dGVkXCIsYSksZnVuY3Rpb24oKXt0aGlzLm1hPWE7a2EodGhpcy5WYSxmdW5jdGlvbihhKXthKFwiYW5hbHl0aWNzLnRyYWNraW5nLXBlcm1pdHRlZFwiKX0pfSx0aGlzKX07JC5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt2YXIgYTtpZihhPXRoaXMubWEpYT1rLl9nYVVzZXJQcmVmcyxhPSEoYSYmYS5pb28mJmEuaW9vKCkpO3JldHVybiBhfTskLnByb3RvdHlwZS5mYz1mdW5jdGlvbihhKXt0aGlzLlNhPWF9O1xudmFyIHNkPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBOO08oYS5GLmdldChcImFuYWx5dGljcy51c2VyLWlkXCIpLGZ1bmN0aW9uKGEpe2lmKCFhKXthPVwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIuc3BsaXQoXCJcIik7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXN3aXRjaChhW2RdKXtjYXNlIFwieFwiOmFbZF09TWF0aC5mbG9vcigxNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSBcInlcIjphW2RdPShNYXRoLmZsb29yKDQqTWF0aC5yYW5kb20oKSkrOCkudG9TdHJpbmcoMTYpfWE9YS5qb2luKFwiXCIpO3RoaXMuRi5zZXQoXCJhbmFseXRpY3MudXNlci1pZFwiLGEpfXRoaXMueGE9YTtiLkcoKX0sZnVuY3Rpb24oYSl7Yi5BKGEpfSxhKTtyZXR1cm4gYn07dmFyIHRkPWZ1bmN0aW9uKGEsYil7aWYoIWVhKGEpKXRocm93IEVycm9yKFwiJ3N0b3JhZ2UnIGFyZ3VtZW50IG11c3QgYmUgZGVmaW5lZCBhbmQgbm90IG51bGwuXCIpO3RoaXMuRj1hO3RoaXMuWGE9Ynx8XCJcIn07dGQucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgTixjPXRoaXMuWGErXCIuXCIrYTt0aGlzLkYuZ2V0KGMsZnVuY3Rpb24oYSl7dmFyIGU9Y2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO2U/Yi5BKGUpOmIuRyhhW2NdKX0pO3JldHVybiBifTt0ZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE4sZD17fTtkW3RoaXMuWGErXCIuXCIrYV09Yjt0aGlzLkYuc2V0KGQsZnVuY3Rpb24oKXt2YXIgYT1jaHJvbWUucnVudGltZS5sYXN0RXJyb3I7YT9jLkEoYSk6Yy5HKCl9KTtyZXR1cm4gY307dmFyIHVkPW5ldyB3O3MoXCJnb29nLmFzeW5jLkRlZmVycmVkXCIsTik7cyhcImdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZENhbGxiYWNrXCIsTi5wcm90b3R5cGUuVWIpO3MoXCJnb29nLmV2ZW50cy5FdmVudFRhcmdldFwiLEgpO3MoXCJnb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUubGlzdGVuXCIsSC5wcm90b3R5cGUubGlzdGVuKTtzKFwiYW5hbHl0aWNzLmdldFNlcnZpY2VcIixmdW5jdGlvbihhKXt2YXIgYj11ZC5nZXQoYSxudWxsKTtpZihudWxsPT09Yil7dmFyIGI9Y2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uLGM7Yz1uZXcgdGQoY2hyb21lLnN0b3JhZ2UubG9jYWwsXCJnb29nbGUtYW5hbHl0aWNzXCIpO2M9bmV3ICQoYyk7Yj1uZXcgWihcImNhM1wiLGEsYixjKTt1ZC5zZXQoYSxiKX1yZXR1cm4gYn0pO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuR29vZ2xlQW5hbHl0aWNzU2VydmljZVwiLFopO1xucyhcImFuYWx5dGljcy5pbnRlcm5hbC5Hb29nbGVBbmFseXRpY3NTZXJ2aWNlLnByb3RvdHlwZS5nZXRUcmFja2VyXCIsWi5wcm90b3R5cGUuYWMpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuR29vZ2xlQW5hbHl0aWNzU2VydmljZS5wcm90b3R5cGUuZ2V0Q29uZmlnXCIsWi5wcm90b3R5cGUuWGIpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVNldHRpbmdzXCIsJCk7cyhcImFuYWx5dGljcy5pbnRlcm5hbC5TZXJ2aWNlU2V0dGluZ3MucHJvdG90eXBlLnNldFRyYWNraW5nUGVybWl0dGVkXCIsJC5wcm90b3R5cGUuZ2MpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVNldHRpbmdzLnByb3RvdHlwZS5pc1RyYWNraW5nUGVybWl0dGVkXCIsJC5wcm90b3R5cGUuYWIpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVNldHRpbmdzLnByb3RvdHlwZS5zZXRTYW1wbGVSYXRlXCIsJC5wcm90b3R5cGUuZmMpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVRyYWNrZXJcIixWKTtcbnMoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVRyYWNrZXIucHJvdG90eXBlLnNlbmRcIixWLnByb3RvdHlwZS5zZW5kKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5zZW5kQXBwVmlld1wiLFYucHJvdG90eXBlLmJjKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5zZW5kRXZlbnRcIixWLnByb3RvdHlwZS5jYyk7cyhcImFuYWx5dGljcy5pbnRlcm5hbC5TZXJ2aWNlVHJhY2tlci5wcm90b3R5cGUuc2VuZFNvY2lhbFwiLFYucHJvdG90eXBlLmVjKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5zZW5kRXhjZXB0aW9uXCIsVi5wcm90b3R5cGUuZGMpO3MoXCJhbmFseXRpY3MuaW50ZXJuYWwuU2VydmljZVRyYWNrZXIucHJvdG90eXBlLnNlbmRUaW1pbmdcIixWLnByb3RvdHlwZS5oYik7XG5zKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5zdGFydFRpbWluZ1wiLFYucHJvdG90eXBlLmhjKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLlRpbWluZ1wiLFFjKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLlRpbWluZy5wcm90b3R5cGUuc2VuZFwiLFFjLnByb3RvdHlwZS5zZW5kKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5mb3JjZVNlc3Npb25TdGFydFwiLFYucHJvdG90eXBlLldiKTtzKFwiYW5hbHl0aWNzLmludGVybmFsLlNlcnZpY2VUcmFja2VyLnByb3RvdHlwZS5nZXRFdmVudFRhcmdldFwiLFYucHJvdG90eXBlLlliKTtzKFwiYW5hbHl0aWNzLkhpdFR5cGVzLkFQUFZJRVdcIixcImFwcHZpZXdcIik7cyhcImFuYWx5dGljcy5IaXRUeXBlcy5FVkVOVFwiLFwiZXZlbnRcIik7cyhcImFuYWx5dGljcy5IaXRUeXBlcy5TT0NJQUxcIixcInNvY2lhbFwiKTtcbnMoXCJhbmFseXRpY3MuSGl0VHlwZXMuVFJBTlNBQ1RJT05cIixcInRyYW5zYWN0aW9uXCIpO3MoXCJhbmFseXRpY3MuSGl0VHlwZXMuSVRFTVwiLFwiaXRlbVwiKTtzKFwiYW5hbHl0aWNzLkhpdFR5cGVzLlRJTUlOR1wiLFwidGltaW5nXCIpO3MoXCJhbmFseXRpY3MuSGl0VHlwZXMuRVhDRVBUSU9OXCIsXCJleGNlcHRpb25cIik7cyhcImFuYWx5dGljcy5UcmFja2VyLkhpdEV2ZW50XCIsVSk7cyhcImFuYWx5dGljcy5UcmFja2VyLkhpdEV2ZW50LkVWRU5UX1RZUEVcIixcImFcIik7cyhcImFuYWx5dGljcy5UcmFja2VyLkhpdEV2ZW50LnByb3RvdHlwZS5nZXRIaXRUeXBlXCIsVS5wcm90b3R5cGUuJGIpO3MoXCJhbmFseXRpY3MuVHJhY2tlci5IaXRFdmVudC5wcm90b3R5cGUuZ2V0SGl0XCIsVS5wcm90b3R5cGUuWmIpO3RhKERhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuaWQucmVwbGFjZSgvW0EtWl0vLFwiXyQmXCIpLnRvVXBwZXJDYXNlKCk7cyhcImFuYWx5dGljcy5QYXJhbWV0ZXJzLlwiK2IsYSl9KTsgfSkoKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9nYS9nb29nbGUtYW5hbHl0aWNzLWJ1bmRsZS5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBRUE7QUFBQTtBQUZBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBR0E7QUFBQTtBQUhBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFFQTtBQUFBO0FBRkE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBRUE7QUFBQTtBQUFBO0FBRkE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUpBO0FBSUE7QUFBQTtBQUpBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7O0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRkE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==')},132:function(module,exports){eval("iSpeechAPISession = function iSpeechAPISession(params) {\n\tthis.apiKey = params.apiKey;\n\tthis.format = params.format;\n\tthis.speed = params.speed;\n\tthis.language = params.language || 'en';\n\tthis.region = params.region || 'us';\n\tthis.gender = params.gender || 'male';\n\tthis.autoLang = params.autoLang;\n};\n\niSpeechAPISession.prototype.generateTTS = function (params, callback) {\n\tiSpeechAPI.generateTTS({\n\t\t'apiKey': this.apiKey,\n\t\t'format': this.format,\n\t\t'language': window.getSetting(\"language\"),\n\t\t'region': window.getSetting(\"region\"),\n\t\t'gender': window.getSetting(\"gender\"),\n\t\t'speed': window.getSetting(\"speed\"),\n\t\t'text': params.text,\n\t\t'contentLang': params.contentLang,\n\t\t'splitSentences': params.splitSentences,\n\t\t'autoLang': window.getSetting(\"autoLang\")\n\t}, callback);\n};\n\niSpeechAPISession.prototype.setLanguage = function (lang) {\n\tif (typeof lang === 'undefined') return false;\n\n\tvar langInfo = iSpeechAPI.languages[lang];\n\tif (typeof langInfo === 'undefined') return false;\n\n\tthis.language = lang;\n\n\t// try to get the region information for the lang/region pair\n\tvar langRegionInfo = langInfo.regions[this.region];\n\tif (typeof langRegionInfo === 'undefined' || langRegionInfo.gender === 'undefined') {\n\t\t// if that fails, fall back to the first region for that language\n\t\tfor (var region in langInfo.regions) {\n\t\t\tthis.setRegion(region);\n\t\t\tbreak;\n\t\t}\n\t}\n\t// \n\tvar langRegionInfo = langInfo.regions[this.region];\n\tif (typeof langRegionInfo === 'undefined' || langRegionInfo.gender === 'undefined') return false;\n\n\tif (langRegionInfo.gender.toLowerCase() !== 'both' && this.gender !== langRegionInfo.gender) this.setGender(langRegionInfo.gender);\n\n\tif (typeof this.onLanguageUpdated !== 'undefined') this.onLanguageUpdated(this.language);\n\treturn true;\n};\n\niSpeechAPISession.prototype.setRegion = function (region) {\n\tif (typeof region === 'undefined') return false;\n\n\tvar langInfo = iSpeechAPI.languages[this.language];\n\tif (typeof langInfo === 'undefined') return false;\n\n\tvar langRegionInfo = langInfo.regions[this.region];\n\tif (typeof langRegionInfo === 'undefined' || langRegionInfo.gender === 'undefined') return false;\n\n\tif (langRegionInfo.gender.toLowerCase() !== 'both' && this.gender !== langRegionInfo.gender) this.setGender(langRegionInfo.gender);\n\n\tthis.region = region;\n\tif (typeof this.onRegionUpdated !== 'undefined') this.onRegionUpdated(this.region);\n\treturn true;\n};\n\niSpeechAPISession.prototype.setGender = function (gender) {\n\tif (typeof gender === 'undefined') return false;\n\n\tvar langInfo = iSpeechAPI.languages[this.language];\n\tif (typeof langInfo === 'undefined') return false;\n\n\tvar langRegionInfo = langInfo.regions[this.region];\n\tif (typeof langRegionInfo === 'undefined' || langRegionInfo.gender === 'undefined') return false;\n\n\tif (langRegionInfo.gender.toLowerCase() === 'both' || gender === langRegionInfo.gender) {\n\t\tthis.gender = gender;\n\t\tif (this.onGenderUpdated !== 'undefined') this.onGenderUpdated(this.gender);\n\t}\n\treturn true;\n};\n\niSpeechAPISession.prototype.setLanguageAndRegion = function (language, region) {\n\t// validate parameters\n\tif (typeof language !== 'string' || typeof region !== 'string') return false;\n\n\t// ensure language is supported\n\tvar langInfo = iSpeechAPI.languages[language];\n\tif (typeof langInfo === 'undefined') return false;\n\n\t// ensure region is supported for that language\n\tvar langRegionInfo = langInfo.regions[region];\n\tif (typeof langRegionInfo === 'undefined' || langRegionInfo.gender === 'undefined') return false;\n\n\tif (langRegionInfo.gender !== 'both' && langRegionInfo.gender !== this.gender) {\n\t\tthis.setGender(langRegionInfo.gender);\n\t}\n\n\t// set language and region\n\tthis.language = language;\n\tthis.region = region;\n\n\t// fire changed events\n\tif (typeof this.onLanguageUpdated !== 'undefined') this.onLanguageUpdated(this.language);\n\tif (typeof this.onRegionUpdated !== 'undefined') this.onRegionUpdated(this.region);\n\n\treturn true;\n};\n\niSpeechAPISession.prototype.getSelectedVoice = function () {\n\treturn iSpeechApi.getVoiceName(this.language, this.region, this.gender);\n};\n\niSpeechAPISession.prototype.setAutoLang = function (autoLang) {\n\tthis.autoLang = autoLang;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9pc3BlZWNoL3Nlc3Npb24uanM/MDE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpU3BlZWNoQVBJU2Vzc2lvbiA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHR0aGlzLmFwaUtleSBcdD0gcGFyYW1zLmFwaUtleTtcblx0dGhpcy5mb3JtYXQgXHQ9IHBhcmFtcy5mb3JtYXQ7XG5cdHRoaXMuc3BlZWQgXHRcdD0gcGFyYW1zLnNwZWVkO1xuXHR0aGlzLmxhbmd1YWdlIFx0PSBwYXJhbXMubGFuZ3VhZ2UgfHwgJ2VuJztcblx0dGhpcy5yZWdpb24gXHQ9IHBhcmFtcy5yZWdpb24gfHwgJ3VzJztcblx0dGhpcy5nZW5kZXIgXHQ9IHBhcmFtcy5nZW5kZXIgfHwgJ21hbGUnO1xuXHR0aGlzLmF1dG9MYW5nXHQ9IHBhcmFtcy5hdXRvTGFuZztcbn1cblxuaVNwZWVjaEFQSVNlc3Npb24ucHJvdG90eXBlLmdlbmVyYXRlVFRTID0gZnVuY3Rpb24ocGFyYW1zLCBjYWxsYmFjaykge1xuXHRpU3BlZWNoQVBJLmdlbmVyYXRlVFRTKHtcblx0XHQnYXBpS2V5JzogdGhpcy5hcGlLZXksXG5cdFx0J2Zvcm1hdCc6IHRoaXMuZm9ybWF0LFxuXHRcdCdsYW5ndWFnZSc6IHdpbmRvdy5nZXRTZXR0aW5nKFwibGFuZ3VhZ2VcIiksXG5cdFx0J3JlZ2lvbic6IHdpbmRvdy5nZXRTZXR0aW5nKFwicmVnaW9uXCIpLFxuXHRcdCdnZW5kZXInOiB3aW5kb3cuZ2V0U2V0dGluZyhcImdlbmRlclwiKSxcblx0XHQnc3BlZWQnOiB3aW5kb3cuZ2V0U2V0dGluZyhcInNwZWVkXCIpLFxuXHRcdCd0ZXh0JzogcGFyYW1zLnRleHQsXG5cdFx0J2NvbnRlbnRMYW5nJzogcGFyYW1zLmNvbnRlbnRMYW5nLFxuXHRcdCdzcGxpdFNlbnRlbmNlcyc6IHBhcmFtcy5zcGxpdFNlbnRlbmNlcyxcblx0XHQnYXV0b0xhbmcnOiB3aW5kb3cuZ2V0U2V0dGluZyhcImF1dG9MYW5nXCIpXG5cdH0sIGNhbGxiYWNrKTtcbn07XG5cbmlTcGVlY2hBUElTZXNzaW9uLnByb3RvdHlwZS5zZXRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmcpIHtcblx0aWYgKHR5cGVvZiBsYW5nID09PSAndW5kZWZpbmVkJylcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0dmFyIGxhbmdJbmZvID0gaVNwZWVjaEFQSS5sYW5ndWFnZXNbbGFuZ107XG5cdGlmICh0eXBlb2YgbGFuZ0luZm8gPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR0aGlzLmxhbmd1YWdlID0gbGFuZztcblxuXHQvLyB0cnkgdG8gZ2V0IHRoZSByZWdpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBsYW5nL3JlZ2lvbiBwYWlyXG5cdHZhciBsYW5nUmVnaW9uSW5mbyA9IGxhbmdJbmZvLnJlZ2lvbnNbdGhpcy5yZWdpb25dO1xuXHRpZiAodHlwZW9mIGxhbmdSZWdpb25JbmZvID09PSAndW5kZWZpbmVkJyB8fCBsYW5nUmVnaW9uSW5mby5nZW5kZXIgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Ly8gaWYgdGhhdCBmYWlscywgZmFsbCBiYWNrIHRvIHRoZSBmaXJzdCByZWdpb24gZm9yIHRoYXQgbGFuZ3VhZ2Vcblx0XHRmb3IgKHZhciByZWdpb24gaW4gbGFuZ0luZm8ucmVnaW9ucykge1xuXHRcdFx0dGhpcy5zZXRSZWdpb24ocmVnaW9uKTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHQvLyBcblx0dmFyIGxhbmdSZWdpb25JbmZvID0gbGFuZ0luZm8ucmVnaW9uc1t0aGlzLnJlZ2lvbl07XG5cdGlmICh0eXBlb2YgbGFuZ1JlZ2lvbkluZm8gPT09ICd1bmRlZmluZWQnIHx8IGxhbmdSZWdpb25JbmZvLmdlbmRlciA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGlmIChsYW5nUmVnaW9uSW5mby5nZW5kZXIudG9Mb3dlckNhc2UoKSAhPT0gJ2JvdGgnICYmIHRoaXMuZ2VuZGVyICE9PSBsYW5nUmVnaW9uSW5mby5nZW5kZXIpXG5cdFx0dGhpcy5zZXRHZW5kZXIobGFuZ1JlZ2lvbkluZm8uZ2VuZGVyKTtcblxuXHRpZiAodHlwZW9mIHRoaXMub25MYW5ndWFnZVVwZGF0ZWQgIT09ICd1bmRlZmluZWQnKVxuXHRcdHRoaXMub25MYW5ndWFnZVVwZGF0ZWQodGhpcy5sYW5ndWFnZSk7XG5cdHJldHVybiB0cnVlO1xufTtcblxuaVNwZWVjaEFQSVNlc3Npb24ucHJvdG90eXBlLnNldFJlZ2lvbiA9IGZ1bmN0aW9uKHJlZ2lvbikge1xuXHRpZiAodHlwZW9mIHJlZ2lvbiA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdHZhciBsYW5nSW5mbyA9IGlTcGVlY2hBUEkubGFuZ3VhZ2VzW3RoaXMubGFuZ3VhZ2VdO1xuXHRpZiAodHlwZW9mIGxhbmdJbmZvID09PSAndW5kZWZpbmVkJylcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0dmFyIGxhbmdSZWdpb25JbmZvID0gbGFuZ0luZm8ucmVnaW9uc1t0aGlzLnJlZ2lvbl07XG5cdGlmICh0eXBlb2YgbGFuZ1JlZ2lvbkluZm8gPT09ICd1bmRlZmluZWQnIHx8IGxhbmdSZWdpb25JbmZvLmdlbmRlciA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGlmIChsYW5nUmVnaW9uSW5mby5nZW5kZXIudG9Mb3dlckNhc2UoKSAhPT0gJ2JvdGgnICYmIHRoaXMuZ2VuZGVyICE9PSBsYW5nUmVnaW9uSW5mby5nZW5kZXIpXG5cdFx0dGhpcy5zZXRHZW5kZXIobGFuZ1JlZ2lvbkluZm8uZ2VuZGVyKTtcblxuXHR0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcblx0aWYgKHR5cGVvZiB0aGlzLm9uUmVnaW9uVXBkYXRlZCAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0dGhpcy5vblJlZ2lvblVwZGF0ZWQodGhpcy5yZWdpb24pO1xuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cbmlTcGVlY2hBUElTZXNzaW9uLnByb3RvdHlwZS5zZXRHZW5kZXIgPSBmdW5jdGlvbihnZW5kZXIpIHtcblx0aWYgKHR5cGVvZiBnZW5kZXIgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR2YXIgbGFuZ0luZm8gPSBpU3BlZWNoQVBJLmxhbmd1YWdlc1t0aGlzLmxhbmd1YWdlXTtcblx0aWYgKHR5cGVvZiBsYW5nSW5mbyA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdHZhciBsYW5nUmVnaW9uSW5mbyA9IGxhbmdJbmZvLnJlZ2lvbnNbdGhpcy5yZWdpb25dO1xuXHRpZiAodHlwZW9mIGxhbmdSZWdpb25JbmZvID09PSAndW5kZWZpbmVkJyB8fCBsYW5nUmVnaW9uSW5mby5nZW5kZXIgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHRpZiAobGFuZ1JlZ2lvbkluZm8uZ2VuZGVyLnRvTG93ZXJDYXNlKCkgPT09ICdib3RoJyB8fCBnZW5kZXIgPT09IGxhbmdSZWdpb25JbmZvLmdlbmRlcikge1xuXHRcdHRoaXMuZ2VuZGVyID0gZ2VuZGVyO1xuXHRcdGlmICh0aGlzLm9uR2VuZGVyVXBkYXRlZCAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHR0aGlzLm9uR2VuZGVyVXBkYXRlZCh0aGlzLmdlbmRlcik7XG5cdH1cblx0cmV0dXJuIHRydWU7XG59O1xuXG5pU3BlZWNoQVBJU2Vzc2lvbi5wcm90b3R5cGUuc2V0TGFuZ3VhZ2VBbmRSZWdpb24gPSBmdW5jdGlvbihsYW5ndWFnZSwgcmVnaW9uKSB7XG5cdC8vIHZhbGlkYXRlIHBhcmFtZXRlcnNcblx0aWYgKHR5cGVvZiBsYW5ndWFnZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlZ2lvbiAhPT0gJ3N0cmluZycpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdC8vIGVuc3VyZSBsYW5ndWFnZSBpcyBzdXBwb3J0ZWRcblx0dmFyIGxhbmdJbmZvID0gaVNwZWVjaEFQSS5sYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXHRpZiAodHlwZW9mIGxhbmdJbmZvID09PSAndW5kZWZpbmVkJylcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0Ly8gZW5zdXJlIHJlZ2lvbiBpcyBzdXBwb3J0ZWQgZm9yIHRoYXQgbGFuZ3VhZ2Vcblx0dmFyIGxhbmdSZWdpb25JbmZvID0gbGFuZ0luZm8ucmVnaW9uc1tyZWdpb25dO1xuXHRpZiAodHlwZW9mIGxhbmdSZWdpb25JbmZvID09PSAndW5kZWZpbmVkJyB8fCBsYW5nUmVnaW9uSW5mby5nZW5kZXIgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHRpZiAobGFuZ1JlZ2lvbkluZm8uZ2VuZGVyICE9PSAnYm90aCcgJiYgbGFuZ1JlZ2lvbkluZm8uZ2VuZGVyICE9PSB0aGlzLmdlbmRlcikge1xuXHRcdHRoaXMuc2V0R2VuZGVyKGxhbmdSZWdpb25JbmZvLmdlbmRlcik7XG5cdH1cblxuXHQvLyBzZXQgbGFuZ3VhZ2UgYW5kIHJlZ2lvblxuXHR0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG5cdHRoaXMucmVnaW9uID0gcmVnaW9uO1xuXG5cdC8vIGZpcmUgY2hhbmdlZCBldmVudHNcblx0aWYgKHR5cGVvZiB0aGlzLm9uTGFuZ3VhZ2VVcGRhdGVkICE9PSAndW5kZWZpbmVkJylcblx0XHR0aGlzLm9uTGFuZ3VhZ2VVcGRhdGVkKHRoaXMubGFuZ3VhZ2UpO1xuXHRpZiAodHlwZW9mIHRoaXMub25SZWdpb25VcGRhdGVkICE9PSAndW5kZWZpbmVkJylcblx0XHR0aGlzLm9uUmVnaW9uVXBkYXRlZCh0aGlzLnJlZ2lvbik7XG5cblx0cmV0dXJuIHRydWU7XG59O1xuXG5pU3BlZWNoQVBJU2Vzc2lvbi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRWb2ljZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gaVNwZWVjaEFwaS5nZXRWb2ljZU5hbWUodGhpcy5sYW5ndWFnZSwgdGhpcy5yZWdpb24sIHRoaXMuZ2VuZGVyKTtcbn1cblxuaVNwZWVjaEFQSVNlc3Npb24ucHJvdG90eXBlLnNldEF1dG9MYW5nID0gZnVuY3Rpb24oYXV0b0xhbmcpIHtcblx0dGhpcy5hdXRvTGFuZyA9IGF1dG9MYW5nO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9pc3BlZWNoL3Nlc3Npb24uanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")},138:function(module,exports){eval("var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nApp = function App(settings) {\n\tthis.pageLangs = {};\n\n\t// init google analytics service and tracker\n\tthis.gaService = analytics.getService('select-and-speak');\n\tthis.gaTracker = this.gaService.getTracker(settings.gaKey);\n\t// this.gaTracker.sendAppView('started');\n\tthis.gaTracker.sendEvent('general', 'started');\n\n\t// init playlist\n\tthis.playlist = new Playlist();\n\tthis.playlist.onPlaying = function (duration) {\n\t\tchrome.browserAction.setIcon({ path: \"img/icons/icon-pause_128.png\" });\n\t\twindow.sendMessage(\"audio-started\", {\n\t\t\tstartTime: new Date().getTime(),\n\t\t\tduration: 6\n\t\t});\n\t}.bind(this);\n\tthis.playlist.onPaused = function (pausedTime) {\n\t\tchrome.browserAction.setIcon({ path: \"img/icons/icon-play_128.png\" });\n\t\twindow.sendMessage(\"audio-paused\", {\n\t\t\tpausedTime: this.playlist.currentTime\n\t\t});\n\t}.bind(this);\n\tthis.playlist.onLoading = function (progress) {\n\t\twindow.sendMessage(\"load-progress\", {\n\t\t\t\"progress\": progress\n\t\t});\n\t}.bind(this);\n\tthis.playlist.onLoaded = function () {\n\t\twindow.sendMessage(\"load-progress\", {\n\t\t\t\"progress\": 100\n\t\t});\n\t}.bind(this);\n\tthis.playlist.onEnded = function () {\n\t\tchrome.browserAction.setIcon({ path: \"img/icons/icon-play_128.png\" });\n\t\twindow.sendMessage(\"audio-stopped\", {\n\t\t\tpausedTime: this.playlist.currentTime\n\t\t});\n\t\tthis.playlist.stop();\n\t}.bind(this);\n\n\t// attach chrome event listeners\n\tchrome.browserAction.onClicked.addListener(this.onBrowserAction.bind(this));\n\tchrome.tabs.onActivated.addListener(this.onTabChanged.bind(this));\n\t// chrome.webRequest.onHeadersReceived.addListener(this.onHeadersReceived.bind(this), { urls: [\"http://*/*\", \"https://*/*\"]});\n\t// chrome.webRequest.onHeadersReceived.addListener(this.onHeadersReceived.bind(this), { urls: [\"http://*/*\"]}, [\"responseHeaders\"]);\n\n\n\t// init canvas for icon spinning\n\tthis.canvas = document.createElement('canvas');\n\tthis.canvas.width = 16;\n\tthis.canvas.height = 16;\n\tthis.icon = document.createElement('img');\n\tthis.icon.src = 'img/icons/icon-pause_16.png';\n\tthis.rotation = 0;\n\tthis.animationFrames = 36;\n\tthis.animationSpeed = 10; // ms\n\n\t// register context menu items\n\n\n\t// isSubbed(function(subbed) {\n\tchrome.contextMenus.create({\n\t\t'title': chrome.i18n.getMessage('read_with_speak'),\n\t\t'id': 'selected',\n\t\t'contexts': ['selection'],\n\t\t'onclick': this.play.bind(this)\n\t});\n\n\t// if(!subbed) {\n\t// \tchrome.contextMenus.create({\n\t// \t\t'title': chrome.i18n.getMessage('upgrade_select_speak'),\n\t// \t\t'id': 'purchase',\n\t// \t\t'contexts': ['selection'],\n\t// \t\t'onclick': function() {\n\t// \t\t\tthis.gaTracker.sendAppView(\"Upgrade Right Click Menu\")\n\t// \t\t\tthis.gaTracker.sendEvent('payment', 'open from left click');\n\t// \t\t\topenOptions(true);\n\t// \t\t}.bind(this)\n\t// \t});\n\t// }\n\t// }.bind(this));\n\n\tthis.currentTab = -1;\n\n\tchrome.tabs.onRemoved.addListener(function (tabid, info) {\n\t\tif (tabid == this.currentTab && this.playlist.isPlaying()) {\n\t\t\tthis.playlist.pause();\n\t\t}\n\t}.bind(this));\n\n\t// initialize values for various settings\n\tthis.init(settings);\n\tthis.registerHandlers();\n};\n\nApp.prototype.init = function (staticSettings) {\n\tthis.reqRequired = true;\n\tthis.isBlocked = false;\n\tthis.buyUrl = staticSettings.buyUrl;\n\n\tthis.setAPI('ispeech');\n\n\tStorage.setSubTotal(staticSettings.limitPerDay);\n\twindow.loadSettings({\n\t\t\"auto\": false,\n\t\t\"paragraphPlay\": true,\n\t\t\"playButton\": false,\n\t\t\"language\": 'en',\n\t\t\"region\": 'us',\n\t\t\"gender\": 'female',\n\t\t\"speed\": 0,\n\t\t\"autoLang\": false,\n\t\t\"hotkey\": \"ctrl + shift + 83\",\n\t\t\"hotkeyEnabled\": false,\n\t\t\"showControls\": true\n\t}, function () {\n\t\tthis.setAuto(window.getSetting(\"auto\"));\n\t\tthis.setParagraphPlay(window.getSetting(\"paragraphPlay\"));\n\t\tthis.setPlayButton(window.getSetting(\"playButton\"));\n\t\tthis.initISpeechSession(staticSettings.iSpeechAPIKey);\n\t}.bind(this));\n};\n\nApp.prototype.initISpeechSession = function (apiKey) {\n\t// init ispeech session\n\tthis.iSpeechSession = new iSpeechAPISession({\n\t\t'apiKey': apiKey,\n\t\t'format': 'ogg',\n\t\t'language': window.getSetting(\"language\"),\n\t\t'region': window.getSetting(\"region\"),\n\t\t'gender': window.getSetting(\"gender\"),\n\t\t'speed': window.getSetting(\"speed\"),\n\t\t'autoLang': window.getSetting(\"autoLang\")\n\t});\n};\n\nApp.prototype.onBrowserAction = function () {\n\tif (this.isBlocked) return;\n\tif (this.playlist.isPlaying()) this.playlist.pause();else this.play();\n};\n\nApp.prototype.onHeadersReceived = function (details) {\n\n\tif (!details.responseHeaders) return;\n\n\tfor (i = 0; i < details.responseHeaders.length; i++) {\n\t\tif (details.responseHeaders[i].name == \"Content-Language\") {\n\t\t\tthis.addPageLang(details.tabId, details.responseHeaders[i].value);\n\t\t}\n\t}\n};\n\nApp.prototype.addPageLang = function (tabid, lang) {\n\tthis.pageLangs[tabid] = lang;\n};\n\nApp.prototype.onTabChanged = function (info) {\n\t// chrome.tabs.get(info.tabId, function(tab) {\n\t// \tthis.setBlocked(tab.url.startsWith(\"chrome://\"));\n\t// \tif (!this.isBlocked)\n\t// \t\treturn;\n\n\t// \tswitch(tab.url.substring(0, tab.url.indexOf('://'))) {\n\t// \t\tcase 'http':\n\t// \t\tcase 'https':\n\t// \t\t\tchrome.browserAction.setPopup({\n\t// \t\t\t\t'popup': 'popups/popup-disabled.html'\n\t// \t\t\t});\n\t// \t\t\tbreak;\n\t// \t\tdefault:\n\t// \t\t\tchrome.browserAction.setPopup({\n\t// \t\t\t\t'popup': 'popups/popup-disabled-notwebpage.html'\n\t// \t\t\t});\n\t// \t\t\tbreak;\n\t// \t}\n\t// }.bind(this));\n\n\twindow.sendMessage(\"set_selection\", \"Hello world\");\n};\n\nApp.prototype.setBlocked = function (isBlocked) {\n\tthis.isBlocked = false;\n\t// this.isBlocked = isBlocked;\n\t// if (isBlocked) {\n\t// \t// chrome.browserAction.disable();\n\t// \tif (typeof this.contextIdPlay !== 'undefined') {\n\t// \t\tchrome.contextMenus.remove(this.contextIdPlay);\n\t// \t\tdelete this.contextIdPlay;\n\t// \t}\n\t// } else {\n\tchrome.browserAction.setPopup({\n\t\t'popup': ''\n\t});\n\tchrome.browserAction.enable();\n\t// }\n};\n\nApp.prototype.setAuto = function (auto) {\n\tthis.auto = auto;\n\tStorage.setAuto(auto);\n\n\t// update toolbar badge\n\tchrome.browserAction.setBadgeText({\n\t\ttext: this.auto ? 'auto' : ''\n\t});\n\n\tthis.gaTracker.sendEvent('general', 'autoplay-set', this.auto);\n};\n\nApp.prototype.setParagraphPlay = function (play) {\n\tthis.paragraphPlay = play;\n};\n\nApp.prototype.setPlayButton = function (play) {\n\tthis.playButton = play;\n};\n\nApp.prototype.setAPI = function (api) {\n\tif (typeof api === 'string') {\n\t\tthis.api = api;\n\t}\n};\n\nApp.prototype.registerHandlers = function () {\n\t// function(data, sender, sendResponse)\n\n\twindow.addHandler(\"play\", this.play.bind(this));\n\twindow.addHandler(\"pause\", this.playlist.pause.bind(this.playlist));\n\twindow.addHandler(\"load\", this.load.bind(this));\n\n\twindow.addHandler(\"pageLang\", function (data, sender) {\n\t\tthis.addPageLang(sender.tab.id, data.lang);\n\t}.bind(this));\n\n\twindow.addHandler(\"autoLang\", function (data) {\n\t\tthis.iSpeechSession.setAutoLang(data.autoLang);\n\t\tStorage.setAutoLang(data.autoLang);\n\t}.bind(this));\n\n\twindow.addHandler(\"track\", function (data) {\n\t\tthis.gaTracker.sendEvent(data.tag, data.msg, data.label);\n\t}.bind(this));\n\n\twindow.addHandler(\"appView\", function (data) {\n\t\tthis.gaTracker.sendAppView(data.tag);\n\t}.bind(this));\n\n\twindow.addHandler(\"cache\", function (data) {\n\t\tthis.cache(data);\n\t\tthis.cleanSend();\n\t\tthis.checkSend();\n\t}.bind(this));\n\n\twindow.addHandler(\"subbed\", function () {\n\t\tchrome.tabs.query({ url: chrome.extension.getURL('options.html') }, function (tabs) {\n\t\t\tfor (var i = 0; i < tabs.length; i++) {\n\t\t\t\tchrome.tabs.remove(tabs[i].id);\n\t\t\t}\n\n\t\t\tchrome.tabs.query({\n\t\t\t\turl: paypal_server.replace(\"subscribe\", \"\") + \"*\"\n\t\t\t}, function (tabList) {\n\t\t\t\tif (tabList.length > 0) {\n\t\t\t\t\tvar tabId = tabList[0].id;\n\t\t\t\t\tchrome.tabs.update(tabId, { url: chrome.extension.getURL('options.html') + \"?step=subbed\", selected: true });\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}.bind(true));\n\n\twindow.addHandler('sub_canceled', function () {\n\t\tchrome.tabs.query({\n\t\t\turl: paypal_server + \"*\"\n\t\t}, function (tabList) {\n\t\t\tif (tabList.length > 0) {\n\t\t\t\tvar tabId = tabList[0].id;\n\t\t\t\tchrome.tabs.update(tabId, { url: chrome.extension.getURL('options.html') + \"?step=canceled\", selected: true });\n\t\t\t}\n\t\t});\n\t}.bind(this));\n\n\twindow.addHandler('edu_canceled', function () {\n\t\tchrome.tabs.query({\n\t\t\turl: \"https://www.ispeech.org/services/selspeak/*\"\n\t\t}, function (tabList) {\n\t\t\tif (tabList.length > 0) {\n\t\t\t\tvar tabId = tabList[0].id;\n\t\t\t\tchrome.tabs.update(tabId, { url: chrome.extension.getURL('options.html') + \"?step=edu\", selected: true });\n\t\t\t}\n\t\t});\n\t}.bind(this));\n\n\twindow.addHandler(\"real_play\", this.realPlay.bind(this));\n\twindow.addHandler(\"open_options\", function () {\n\t\topenOptions(true);\n\t});\n\twindow.addHandler(\"open_settings\", function () {\n\t\topenOptions(false);\n\t});\n\n\twindow.addHandler(\"open_edu\", openEdu);\n\n\twindow.addHandler(\"play_given\", function (data) {\n\t\tthis.loadPhrase(data.selection, data.contentLang, function (result) {\n\t\t\tif (result.success) {\n\t\t\t\tStorage.getSubInfo(function (values) {\n\t\t\t\t\tisSubbed(function (subbed) {\n\n\t\t\t\t\t\tvar wordCount = this.countWords(this.loadedPhrase);\n\t\t\t\t\t\tif (!subbed && values.wordsTotal != -1 && wordCount > values.wordsLeft) {\n\t\t\t\t\t\t\tthis.startCountdown();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.realPlay();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if(!subbed) {\n\t\t\t\t\t\t// \tthis.popUnder();\n\t\t\t\t\t\t// }\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}.bind(this));\n\t}.bind(this));\n\n\twindow.addHandler(\"set_selection\", function (data) {\n\t\tdata = data.trim();\n\n\t\tif (data !== '') {\n\t\t\tif (data !== this.selection) {\n\t\t\t\tthis.selection = data;\n\t\t\t\tthis.reqRequired = true;\n\t\t\t}\n\t\t\tif (this.auto) this.play();\n\t\t}\n\t}.bind(this));\n\n\twindow.addHandler(\"restart_play\", function () {\n\t\tthis.playlist.restart();\n\t}.bind(this));\n\n\twindow.addHandler(\"play_next\", function () {\n\t\tthis.playlist.next();\n\t}.bind(this));\n\n\twindow.addHandler(\"play_prev\", function () {\n\t\tthis.playlist.prev();\n\t}.bind(this));\n\n\twindow.addHandler(\"start_paypal\", function (time) {\n\t\ttime = time || \"Year\";\n\t\tstartPaypal(time);\n\t});\n\n\twindow.addSettingsHandler(\"auto\", function (value) {\n\t\tthis.setAuto(value);\n\t}.bind(this));\n};\n\nApp.prototype.popUnder = function () {\n\n\tchrome.tabs.query({ active: true, currentWindow: true }, function (arrayOfTabs) {\n\t\tvar activeTab = arrayOfTabs[0];\n\t\tvar activeTabId = arrayOfTabs[0].id;\n\n\t\tisSubbed(function (subbed) {\n\t\t\tif (!subbed) {\n\t\t\t\tStorage.shouldShowPopUnder(function (shouldShow) {\n\t\t\t\t\tif (shouldShow) {\n\t\t\t\t\t\tStorage.setPopUnderShown();\n\t\t\t\t\t\topenOptions(true);\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tchrome.tabs.update(activeTabId, { selected: true });\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\tthis.gaTracker.sendEvent('payment', 'pop under opened');\n\t\t\t\t\t\tthis.gaTracker.sendAppView(\"Pop under opened\");\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}.bind(this));\n\t}.bind(this));\n};\n\nshouldMerge = function shouldMerge(msg1, msg2) {\n\treturn msg2.qu.startsWith(msg1.qu);\n};\n\nmerge = function merge(msg1, msg2) {\n\tmsg1.qu = msg2.qu;\n\tmsg1.co = msg2.co;\n\treturn msg1;\n};\n\nmsgList = [];\nApp.prototype.cache = function (msg) {\n\n\tif (msgList.length == 0) {\n\t\tmsgList.push(msg);\n\t\treturn;\n\t}\n\n\tvar index = msgList.length - 1;\n\n\tif (shouldMerge(msgList[index], msg)) {\n\t\tmsgList[index] = merge(msgList[index], msg);\n\t\treturn;\n\t}\n\n\tmsgList.push(msg);\n};\n\nApp.prototype.cleanSend = function () {\n\n\t// if(msgList.length >= 2) {\n\t// \tif(shouldMerge(msgList[msgList.length-2], msgList[msgList.length-1])) {\n\t// \t\tmsgList[msgList.length-2] = merge(msgList[msgList.length-2], msgList[msgList.length-1]);\n\t// \t\tmsgList.pop();\n\t// \t}\n\t// }\n\n\tfor (var i = msgList.length - 1; i > 0; i--) {\n\t\tfor (var g = i - 1; g >= 0; g--) {\n\t\t\tif (shouldMerge(msgList[g], msgList[i])) {\n\t\t\t\tvar msg = merge(msgList[g], msgList[i]);\n\t\t\t\tmsgList[g] = msg;\n\t\t\t\tmsgList.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nApp.prototype.checkSend = function () {\n\tif (msgList.length == 26) {\n\t\tvar c = getCacheValue();\n\t\tvar url = iSpeechAPI.urls.generate + '?apikey=' + encodeURIComponent(apiKey) + '&cache=' + c + '&version=' + chrome.app.getDetails().version;\n\n\t\tvar xmlhttp = new XMLHttpRequest();\n\t\txmlhttp.open(\"GET\", url);\n\t\txmlhttp.send();\n\t}\n};\n\nApp.prototype.play = function (sel) {\n\n\tif (this.playlist.isPlaying()) {\n\t\tthis.pause();\n\t\treturn;\n\t}\n\n\tvar text = undefined;\n\tif (typeof sel !== \"undefined\" && typeof sel.selectionText !== \"undefined\") {\n\t\ttext = sel.selectionText;\n\t}\n\n\tchrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n\t\tthis.currentTab = tabs[0].id;\n\t}.bind(this));\n\n\tthis.load(function (result) {\n\t\tif (result.success) {\n\t\t\tStorage.getSubInfo(function (values) {\n\t\t\t\tisSubbed(function (subbed) {\n\n\t\t\t\t\tvar wordCount = this.countWords(this.loadedPhrase);\n\t\t\t\t\tif (!subbed && values.wordsTotal != -1 && wordCount > values.wordsLeft) {\n\t\t\t\t\t\tthis.startCountdown();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.realPlay();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!subbed) {\n\t\t\t\t\t\tthis.popUnder();\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this));\n\t\t}\n\t}.bind(this), text);\n};\n\nApp.prototype.realPlay = function () {\n\tthis.playlist.play();\n\tchrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n\t\tthis.gaTracker.sendEvent('general', 'play', tabs[0].url.replace(/https?:\\/\\/([^\\/]+)\\/.*/, \"$1\"));\n\t\tthis.gaTracker.sendEvent('general', 'playWithFullUrl', tabs[0].url);\n\t}.bind(this));\n};\n\nApp.prototype.startCountdown = function () {\n\twindow.sendMessage(\"start-countdown\", undefined, undefined, { active: true, currentWindow: true });\n};\n\nApp.prototype.countWords = function (sen) {\n\tif (typeof sen === \"undefined\") return 0;\n\n\tvar words = sen.split(/\\s+/);\n\tvar wordCount = words.length;\n\n\tfor (var i = 0; i < words.length; i++) {\n\t\tvar c = words[i].match(/[\\u3400-\\u9FBF]/g);\n\t\tif (c != null) {\n\t\t\twordCount += c.length - 1;\n\t\t}\n\t}\n\n\treturn wordCount;\n};\n\nApp.prototype.purchase = function () {\n\n\tthis.gaTracker.sendEvent('general', 'purchase');\n\n\t// google.payments.inapp.buy({\n\t// \tparameters: {'env': \"prod\"},\n\t// \t'sku': \"audio_dload\",\n\t// \t'success': this.onPurchase.bind(this),\n\t// \t'failure': this.onPurchaseFailed.bind(this)\n\t// });\n};\n\nApp.prototype.onPurchase = function (subInfo) {\n\n\tthis.iSpeechSession.generateTTS({\n\t\t'text': this.selection,\n\t\t'splitSentences': false\n\t}, function (response) {\n\t\tif (typeof response === 'undefined' || typeof response.success === 'undefined' || !response.success || typeof response.audioUrls === 'undefined' || response.audioUrls.length < 1) {\n\t\t\twindow.sendMessage(\"failed\", response.message);\n\t\t\tthis.gaTracker.sendEvent('general', 'purchaseFailed', response.message);\n\t\t} else {\n\t\t\tthis.gaTracker.sendEvent('general', 'purchaseWorked');\n\t\t\tStorage.subtractWordsLeft(this.countWords(this.selection));\n\t\t\tchrome.tabs.create({\n\t\t\t\t'url': response.audioUrls[0] + \"&filename=purchasedAudio.mp3\"\n\t\t\t});\n\t\t}\n\t}.bind(this));\n};\n\nApp.printObject = function (toPrint) {\n\tvar output = '';\n\tfor (property in toPrint) {\n\t\tvar value;\n\n\t\tif (_typeof(toPrint[property]) === 'object') value = App.printObject(toPrint[property]);else value = toPrint[property];\n\n\t\toutput += property + ': ' + value + \", \";\n\t}\n\n\treturn \"{ \" + output + \" }\";\n};\n\nApp.prototype.onPurchaseFailed = function (result) {\n\twindow.alert(\"Purchase failed\");\n\tthis.gaTracker.sendEvent('general', 'purchaseCanceled');\n};\n\nApp.prototype.pause = function () {\n\tthis.playlist.pause();\n\tthis.gaTracker.sendEvent('general', 'pause');\n};\n\nApp.prototype.isLoaded = function () {\n\treturn !this.reqRequired && typeof this.playlist !== 'undefined' && this.playlist.isLoaded();\n};\n\nApp.prototype.loadedPhrase = \"\";\nApp.prototype.loadPhrase = function (phrase, contentLang, callback) {\n\tthis.loadedPhrase = phrase;\n\tif (typeof callback === 'undefined') callback = function callback() {};\n\n\tthis.iSpeechSession.generateTTS({\n\t\t'text': phrase,\n\t\t'contentLang': contentLang,\n\t\t'splitSentences': true\n\t}, function (response) {\n\t\tif (typeof response === 'undefined' || typeof response.success === 'undefined' || !response.success || typeof response.audioUrls === 'undefined' || response.audioUrls.length < 1) {\n\t\t\twindow.sendMessage(\"failed\", response.message);\n\t\t} else {\n\t\t\tthis.playlist.setPlaylist(response.audioUrls, phrase);\n\t\t\tthis.reqRequired = false;\n\t\t\tthis.animateFlip();\n\t\t\tthis.playlist.load();\n\t\t\tcallback({ success: true });\n\t\t}\n\t}.bind(this));\n};\n\nApp.prototype.load = function (callback, phrase) {\n\tif (typeof callback === 'undefined') callback = function callback() {};\n\n\tthis.getUpdatedSelection(function (tabId, selection) {\n\t\tif (typeof phrase !== \"undefined\") selection = phrase; //phrase came right from chrome, it's better\n\n\t\t// update selection if it's not empty and not the same as the current selection\n\t\tif (selection !== '' && typeof selection !== 'undefined' && this.selection !== selection) {\n\t\t\tthis.selection = selection;\n\t\t\tthis.reqRequired = true;\n\t\t}\n\n\t\tthis.gaTracker.sendEvent('general', 'loading', this.selection);\n\n\t\tthis.loadPhrase(this.selection, this.pageLangs[tabId], callback);\n\t}.bind(this));\n};\n\nApp.prototype.getUpdatedSelection = function (callback) {\n\twindow.sendMessage(\"selection-request\", undefined, function (response, tabId) {\n\t\tif (typeof response === 'undefined') callback(tabId);else callback(tabId, response);\n\t}, { active: true, currentWindow: true });\n};\n\nApp.prototype.ease = function (x) {\n\treturn (1 - Math.sin(Math.PI / 2 + x * Math.PI)) / 2;\n};\n\nApp.prototype.drawIconAtRotation = function (rotation) {\n\tvar animationImage = this.icon;\n\tvar iconContext = this.canvas.getContext('2d');\n\n\ticonContext.save();\n\ticonContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\ticonContext.translate(Math.ceil(this.canvas.width / 2), Math.ceil(this.canvas.height / 2));\n\ticonContext.rotate(2 * Math.PI * this.ease(rotation));\n\ticonContext.drawImage(animationImage, -Math.ceil(this.canvas.width / 2), -Math.ceil(this.canvas.height / 2));\n\ticonContext.restore();\n\tchrome.browserAction.setIcon({ imageData: iconContext.getImageData(0, 0, this.canvas.width, this.canvas.height) });\n};\n\nApp.prototype.animateFlip = function () {\n\tthis.rotation += 1 / this.animationFrames;\n\tthis.drawIconAtRotation(this.rotation);\n\n\tif (this.playlist.isLoading()) {\n\t\tif (this.rotation > 1) this.rotation = 0;\n\t\treturn setTimeout(function () {\n\t\t\tthis.animateFlip();\n\t\t}.bind(this), this.animationSpeed);\n\t} else {\n\t\tthis.rotation = 0;\n\t\tif (this.playlist.isPlaying()) {\n\t\t\tchrome.browserAction.setIcon({ path: 'img/icons/icon-pause_128.png' });\n\t\t} else {\n\t\t\tchrome.browserAction.setIcon({ path: 'img/icons/icon-pause_128.png' });\n\t\t}\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZWxlY3QtYW5kLXNwZWFrL2FwcC5qcz9hY2ZhIl0sInNvdXJjZXNDb250ZW50IjpbIkFwcCA9IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuXHR0aGlzLnBhZ2VMYW5ncyA9IHt9O1xuXG5cdC8vIGluaXQgZ29vZ2xlIGFuYWx5dGljcyBzZXJ2aWNlIGFuZCB0cmFja2VyXG5cdHRoaXMuZ2FTZXJ2aWNlID0gYW5hbHl0aWNzLmdldFNlcnZpY2UoJ3NlbGVjdC1hbmQtc3BlYWsnKTtcblx0dGhpcy5nYVRyYWNrZXIgPSB0aGlzLmdhU2VydmljZS5nZXRUcmFja2VyKHNldHRpbmdzLmdhS2V5KTtcblx0Ly8gdGhpcy5nYVRyYWNrZXIuc2VuZEFwcFZpZXcoJ3N0YXJ0ZWQnKTtcblx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KCdnZW5lcmFsJywgJ3N0YXJ0ZWQnKTtcblxuXHQvLyBpbml0IHBsYXlsaXN0XG5cdHRoaXMucGxheWxpc3QgPSBuZXcgUGxheWxpc3QoKTtcblx0dGhpcy5wbGF5bGlzdC5vblBsYXlpbmcgPSBmdW5jdGlvbihkdXJhdGlvbikge1xuXHRcdGNocm9tZS5icm93c2VyQWN0aW9uLnNldEljb24oeyBwYXRoOiBcImltZy9pY29ucy9pY29uLXBhdXNlXzEyOC5wbmdcIiB9KTtcblx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhdWRpby1zdGFydGVkXCIsIHtcblx0XHRcdHN0YXJ0VGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG5cdFx0XHRkdXJhdGlvbjogNlxuXHRcdH0pO1xuXHR9LmJpbmQodGhpcyk7XG5cdHRoaXMucGxheWxpc3Qub25QYXVzZWQgPSBmdW5jdGlvbihwYXVzZWRUaW1lKSB7XG5cdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0SWNvbih7IHBhdGg6IFwiaW1nL2ljb25zL2ljb24tcGxheV8xMjgucG5nXCIgfSk7XG5cdFx0d2luZG93LnNlbmRNZXNzYWdlKFwiYXVkaW8tcGF1c2VkXCIsIHtcblx0XHRcdHBhdXNlZFRpbWU6IHRoaXMucGxheWxpc3QuY3VycmVudFRpbWVcblx0XHR9KTtcblx0fS5iaW5kKHRoaXMpO1xuXHR0aGlzLnBsYXlsaXN0Lm9uTG9hZGluZyA9IGZ1bmN0aW9uKHByb2dyZXNzKSB7XG5cdFx0d2luZG93LnNlbmRNZXNzYWdlKFwibG9hZC1wcm9ncmVzc1wiLCB7XG5cdFx0XHRcInByb2dyZXNzXCI6IHByb2dyZXNzLFxuXHRcdH0pO1xuXHR9LmJpbmQodGhpcyk7XG5cdHRoaXMucGxheWxpc3Qub25Mb2FkZWQgPSBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJsb2FkLXByb2dyZXNzXCIsIHtcblx0XHRcdFwicHJvZ3Jlc3NcIjogMTAwXG5cdFx0fSk7XG5cdH0uYmluZCh0aGlzKTtcblx0dGhpcy5wbGF5bGlzdC5vbkVuZGVkID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0SWNvbih7IHBhdGg6IFwiaW1nL2ljb25zL2ljb24tcGxheV8xMjgucG5nXCIgfSk7XG5cdFx0d2luZG93LnNlbmRNZXNzYWdlKFwiYXVkaW8tc3RvcHBlZFwiLCB7XG5cdFx0XHRwYXVzZWRUaW1lOiB0aGlzLnBsYXlsaXN0LmN1cnJlbnRUaW1lXG5cdFx0fSk7XG5cdFx0dGhpcy5wbGF5bGlzdC5zdG9wKCk7XG5cdH0uYmluZCh0aGlzKTtcblxuXHQvLyBhdHRhY2ggY2hyb21lIGV2ZW50IGxpc3RlbmVyc1xuXHRjaHJvbWUuYnJvd3NlckFjdGlvbi5vbkNsaWNrZWQuYWRkTGlzdGVuZXIodGhpcy5vbkJyb3dzZXJBY3Rpb24uYmluZCh0aGlzKSk7XG5cdGNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKHRoaXMub25UYWJDaGFuZ2VkLmJpbmQodGhpcykpO1xuXHQvLyBjaHJvbWUud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZC5hZGRMaXN0ZW5lcih0aGlzLm9uSGVhZGVyc1JlY2VpdmVkLmJpbmQodGhpcyksIHsgdXJsczogW1wiaHR0cDovLyovKlwiLCBcImh0dHBzOi8vKi8qXCJdfSk7XG5cdC8vIGNocm9tZS53ZWJSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkLmFkZExpc3RlbmVyKHRoaXMub25IZWFkZXJzUmVjZWl2ZWQuYmluZCh0aGlzKSwgeyB1cmxzOiBbXCJodHRwOi8vKi8qXCJdfSwgW1wicmVzcG9uc2VIZWFkZXJzXCJdKTtcblxuXG5cdC8vIGluaXQgY2FudmFzIGZvciBpY29uIHNwaW5uaW5nXG5cdHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdHRoaXMuY2FudmFzLndpZHRoID0gMTY7XG5cdHRoaXMuY2FudmFzLmhlaWdodCA9IDE2O1xuXHR0aGlzLmljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblx0dGhpcy5pY29uLnNyYyA9ICdpbWcvaWNvbnMvaWNvbi1wYXVzZV8xNi5wbmcnO1xuXHR0aGlzLnJvdGF0aW9uID0gMDtcblx0dGhpcy5hbmltYXRpb25GcmFtZXMgPSAzNjtcblx0dGhpcy5hbmltYXRpb25TcGVlZCA9IDEwOyAvLyBtc1xuXG5cdC8vIHJlZ2lzdGVyIGNvbnRleHQgbWVudSBpdGVtc1xuXG5cblx0Ly8gaXNTdWJiZWQoZnVuY3Rpb24oc3ViYmVkKSB7XG5cdFx0Y2hyb21lLmNvbnRleHRNZW51cy5jcmVhdGUoe1xuXHRcdFx0J3RpdGxlJzogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgncmVhZF93aXRoX3NwZWFrJyksXG5cdFx0XHQnaWQnOiAnc2VsZWN0ZWQnLFxuXHRcdFx0J2NvbnRleHRzJzogWydzZWxlY3Rpb24nXSxcblx0XHRcdCdvbmNsaWNrJzogdGhpcy5wbGF5LmJpbmQodGhpcylcblx0XHR9KTtcblxuXHRcdC8vIGlmKCFzdWJiZWQpIHtcblx0XHQvLyBcdGNocm9tZS5jb250ZXh0TWVudXMuY3JlYXRlKHtcblx0XHQvLyBcdFx0J3RpdGxlJzogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgndXBncmFkZV9zZWxlY3Rfc3BlYWsnKSxcblx0XHQvLyBcdFx0J2lkJzogJ3B1cmNoYXNlJyxcblx0XHQvLyBcdFx0J2NvbnRleHRzJzogWydzZWxlY3Rpb24nXSxcblx0XHQvLyBcdFx0J29uY2xpY2snOiBmdW5jdGlvbigpIHtcblx0XHQvLyBcdFx0XHR0aGlzLmdhVHJhY2tlci5zZW5kQXBwVmlldyhcIlVwZ3JhZGUgUmlnaHQgQ2xpY2sgTWVudVwiKVxuXHRcdC8vIFx0XHRcdHRoaXMuZ2FUcmFja2VyLnNlbmRFdmVudCgncGF5bWVudCcsICdvcGVuIGZyb20gbGVmdCBjbGljaycpO1xuXHRcdC8vIFx0XHRcdG9wZW5PcHRpb25zKHRydWUpO1xuXHRcdC8vIFx0XHR9LmJpbmQodGhpcylcblx0XHQvLyBcdH0pO1xuXHRcdC8vIH1cblx0Ly8gfS5iaW5kKHRoaXMpKTtcblxuXHR0aGlzLmN1cnJlbnRUYWIgPSAtMTtcblxuXHRjaHJvbWUudGFicy5vblJlbW92ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24odGFiaWQsIGluZm8pIHtcblx0XHRpZih0YWJpZCA9PSB0aGlzLmN1cnJlbnRUYWIgJiYgdGhpcy5wbGF5bGlzdC5pc1BsYXlpbmcoKSkge1xuXHRcdFx0dGhpcy5wbGF5bGlzdC5wYXVzZSgpO1xuXHRcdH1cblx0fS5iaW5kKHRoaXMpKTtcblxuXHQvLyBpbml0aWFsaXplIHZhbHVlcyBmb3IgdmFyaW91cyBzZXR0aW5nc1xuXHR0aGlzLmluaXQoc2V0dGluZ3MpO1xuXHR0aGlzLnJlZ2lzdGVySGFuZGxlcnMoKTtcbn07XG5cbkFwcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKHN0YXRpY1NldHRpbmdzKSB7XG5cdHRoaXMucmVxUmVxdWlyZWQgPSB0cnVlO1xuXHR0aGlzLmlzQmxvY2tlZCA9IGZhbHNlO1xuXHR0aGlzLmJ1eVVybCA9IHN0YXRpY1NldHRpbmdzLmJ1eVVybDtcblxuXHR0aGlzLnNldEFQSSgnaXNwZWVjaCcpO1xuXG5cdFN0b3JhZ2Uuc2V0U3ViVG90YWwoc3RhdGljU2V0dGluZ3MubGltaXRQZXJEYXkpO1xuXHR3aW5kb3cubG9hZFNldHRpbmdzKHtcblx0XHRcImF1dG9cIjogZmFsc2UsXG5cdFx0XCJwYXJhZ3JhcGhQbGF5XCI6IHRydWUsXG5cdFx0XCJwbGF5QnV0dG9uXCI6IGZhbHNlLFxuXHRcdFwibGFuZ3VhZ2VcIjogJ2VuJyxcblx0XHRcInJlZ2lvblwiOiAndXMnLFxuXHRcdFwiZ2VuZGVyXCI6ICdmZW1hbGUnLFxuXHRcdFwic3BlZWRcIjogMCxcblx0XHRcImF1dG9MYW5nXCI6IGZhbHNlLFxuXHRcdFwiaG90a2V5XCI6IFwiY3RybCArIHNoaWZ0ICsgODNcIixcblx0XHRcImhvdGtleUVuYWJsZWRcIjogZmFsc2UsXG5cdFx0XCJzaG93Q29udHJvbHNcIjogdHJ1ZSxcblx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5zZXRBdXRvKHdpbmRvdy5nZXRTZXR0aW5nKFwiYXV0b1wiKSk7XG5cdFx0dGhpcy5zZXRQYXJhZ3JhcGhQbGF5KHdpbmRvdy5nZXRTZXR0aW5nKFwicGFyYWdyYXBoUGxheVwiKSk7XG5cdFx0dGhpcy5zZXRQbGF5QnV0dG9uKHdpbmRvdy5nZXRTZXR0aW5nKFwicGxheUJ1dHRvblwiKSk7XG5cdFx0dGhpcy5pbml0SVNwZWVjaFNlc3Npb24oc3RhdGljU2V0dGluZ3MuaVNwZWVjaEFQSUtleSk7XG5cdH0uYmluZCh0aGlzKSk7XG59O1xuXG5BcHAucHJvdG90eXBlLmluaXRJU3BlZWNoU2Vzc2lvbiA9IGZ1bmN0aW9uKGFwaUtleSkge1xuXHQvLyBpbml0IGlzcGVlY2ggc2Vzc2lvblxuXHR0aGlzLmlTcGVlY2hTZXNzaW9uID0gbmV3IGlTcGVlY2hBUElTZXNzaW9uKHtcblx0XHQnYXBpS2V5JzogYXBpS2V5LFxuXHRcdCdmb3JtYXQnOiAnb2dnJyxcblx0XHQnbGFuZ3VhZ2UnOiB3aW5kb3cuZ2V0U2V0dGluZyhcImxhbmd1YWdlXCIpLFxuXHRcdCdyZWdpb24nOiB3aW5kb3cuZ2V0U2V0dGluZyhcInJlZ2lvblwiKSxcblx0XHQnZ2VuZGVyJzogd2luZG93LmdldFNldHRpbmcoXCJnZW5kZXJcIiksXG5cdFx0J3NwZWVkJzogd2luZG93LmdldFNldHRpbmcoXCJzcGVlZFwiKSxcblx0XHQnYXV0b0xhbmcnOiB3aW5kb3cuZ2V0U2V0dGluZyhcImF1dG9MYW5nXCIpXG5cdH0pO1xufVxuXG5BcHAucHJvdG90eXBlLm9uQnJvd3NlckFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0aWYgKHRoaXMuaXNCbG9ja2VkKVxuXHRcdHJldHVybjtcblx0aWYgKHRoaXMucGxheWxpc3QuaXNQbGF5aW5nKCkpXG5cdFx0dGhpcy5wbGF5bGlzdC5wYXVzZSgpO1xuXHRlbHNlXG5cdFx0dGhpcy5wbGF5KCk7XG59O1xuXG5BcHAucHJvdG90eXBlLm9uSGVhZGVyc1JlY2VpdmVkID0gZnVuY3Rpb24oZGV0YWlscykge1xuXG5cdGlmKCFkZXRhaWxzLnJlc3BvbnNlSGVhZGVycylcblx0XHRyZXR1cm47XG5cblx0Zm9yKGkgPSAwOyBpIDwgZGV0YWlscy5yZXNwb25zZUhlYWRlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRpZihkZXRhaWxzLnJlc3BvbnNlSGVhZGVyc1tpXS5uYW1lID09IFwiQ29udGVudC1MYW5ndWFnZVwiKSB7XG5cdFx0XHR0aGlzLmFkZFBhZ2VMYW5nKGRldGFpbHMudGFiSWQsIGRldGFpbHMucmVzcG9uc2VIZWFkZXJzW2ldLnZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuQXBwLnByb3RvdHlwZS5hZGRQYWdlTGFuZyA9IGZ1bmN0aW9uKHRhYmlkLCBsYW5nKSB7XG5cdHRoaXMucGFnZUxhbmdzW3RhYmlkXSA9IGxhbmc7XG59O1xuXG5BcHAucHJvdG90eXBlLm9uVGFiQ2hhbmdlZCA9IGZ1bmN0aW9uIChpbmZvKSB7XG5cdC8vIGNocm9tZS50YWJzLmdldChpbmZvLnRhYklkLCBmdW5jdGlvbih0YWIpIHtcblx0Ly8gXHR0aGlzLnNldEJsb2NrZWQodGFiLnVybC5zdGFydHNXaXRoKFwiY2hyb21lOi8vXCIpKTtcblx0Ly8gXHRpZiAoIXRoaXMuaXNCbG9ja2VkKVxuXHQvLyBcdFx0cmV0dXJuO1xuXG5cdC8vIFx0c3dpdGNoKHRhYi51cmwuc3Vic3RyaW5nKDAsIHRhYi51cmwuaW5kZXhPZignOi8vJykpKSB7XG5cdC8vIFx0XHRjYXNlICdodHRwJzpcblx0Ly8gXHRcdGNhc2UgJ2h0dHBzJzpcblx0Ly8gXHRcdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0UG9wdXAoe1xuXHQvLyBcdFx0XHRcdCdwb3B1cCc6ICdwb3B1cHMvcG9wdXAtZGlzYWJsZWQuaHRtbCdcblx0Ly8gXHRcdFx0fSk7XG5cdC8vIFx0XHRcdGJyZWFrO1xuXHQvLyBcdFx0ZGVmYXVsdDpcblx0Ly8gXHRcdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0UG9wdXAoe1xuXHQvLyBcdFx0XHRcdCdwb3B1cCc6ICdwb3B1cHMvcG9wdXAtZGlzYWJsZWQtbm90d2VicGFnZS5odG1sJ1xuXHQvLyBcdFx0XHR9KTtcblx0Ly8gXHRcdFx0YnJlYWs7XG5cdC8vIFx0fVxuICAgIC8vIH0uYmluZCh0aGlzKSk7XG4gICAgXG4gICAgd2luZG93LnNlbmRNZXNzYWdlKFwic2V0X3NlbGVjdGlvblwiLCBcIkhlbGxvIHdvcmxkXCIpO1xufTtcblxuQXBwLnByb3RvdHlwZS5zZXRCbG9ja2VkID0gZnVuY3Rpb24gKGlzQmxvY2tlZCkge1xuICAgIHRoaXMuaXNCbG9ja2VkID0gZmFsc2U7XG5cdC8vIHRoaXMuaXNCbG9ja2VkID0gaXNCbG9ja2VkO1xuXHQvLyBpZiAoaXNCbG9ja2VkKSB7XG5cdC8vIFx0Ly8gY2hyb21lLmJyb3dzZXJBY3Rpb24uZGlzYWJsZSgpO1xuXHQvLyBcdGlmICh0eXBlb2YgdGhpcy5jb250ZXh0SWRQbGF5ICE9PSAndW5kZWZpbmVkJykge1xuXHQvLyBcdFx0Y2hyb21lLmNvbnRleHRNZW51cy5yZW1vdmUodGhpcy5jb250ZXh0SWRQbGF5KTtcblx0Ly8gXHRcdGRlbGV0ZSB0aGlzLmNvbnRleHRJZFBsYXk7XG5cdC8vIFx0fVxuXHQvLyB9IGVsc2Uge1xuXHRcdGNocm9tZS5icm93c2VyQWN0aW9uLnNldFBvcHVwKHtcblx0XHRcdCdwb3B1cCc6ICcnXG5cdFx0fSk7XG5cdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uZW5hYmxlKCk7XG5cdC8vIH1cbn07XG5cbkFwcC5wcm90b3R5cGUuc2V0QXV0byA9IGZ1bmN0aW9uKGF1dG8pIHtcblx0dGhpcy5hdXRvID0gYXV0bztcblx0U3RvcmFnZS5zZXRBdXRvKGF1dG8pO1xuXG5cdC8vIHVwZGF0ZSB0b29sYmFyIGJhZGdlXG5cdGNocm9tZS5icm93c2VyQWN0aW9uLnNldEJhZGdlVGV4dCh7XG5cdFx0dGV4dDogdGhpcy5hdXRvID8gJ2F1dG8nIDogJydcblx0fSk7XG5cblx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KCdnZW5lcmFsJywgJ2F1dG9wbGF5LXNldCcsIHRoaXMuYXV0byk7XG59XG5cbkFwcC5wcm90b3R5cGUuc2V0UGFyYWdyYXBoUGxheSA9IGZ1bmN0aW9uKHBsYXkpIHtcblx0dGhpcy5wYXJhZ3JhcGhQbGF5ID0gcGxheTtcbn1cblxuQXBwLnByb3RvdHlwZS5zZXRQbGF5QnV0dG9uID0gZnVuY3Rpb24ocGxheSkge1xuXHR0aGlzLnBsYXlCdXR0b24gPSBwbGF5O1xufVxuXG5BcHAucHJvdG90eXBlLnNldEFQSSA9IGZ1bmN0aW9uKGFwaSkge1xuXHRpZiAodHlwZW9mIGFwaSA9PT0gJ3N0cmluZycpIHtcblx0XHR0aGlzLmFwaSA9IGFwaTtcblx0fVxufTtcblxuQXBwLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XG5cdC8vIGZ1bmN0aW9uKGRhdGEsIHNlbmRlciwgc2VuZFJlc3BvbnNlKVxuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwicGxheVwiLCB0aGlzLnBsYXkuYmluZCh0aGlzKSk7XG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwicGF1c2VcIiwgdGhpcy5wbGF5bGlzdC5wYXVzZS5iaW5kKHRoaXMucGxheWxpc3QpKTtcblx0d2luZG93LmFkZEhhbmRsZXIoXCJsb2FkXCIsIHRoaXMubG9hZC5iaW5kKHRoaXMpKTtcblxuXHR3aW5kb3cuYWRkSGFuZGxlcihcInBhZ2VMYW5nXCIsIGZ1bmN0aW9uKGRhdGEsIHNlbmRlcikge1xuXHRcdHRoaXMuYWRkUGFnZUxhbmcoc2VuZGVyLnRhYi5pZCwgZGF0YS5sYW5nKTtcblx0fS5iaW5kKHRoaXMpKTtcblxuXHR3aW5kb3cuYWRkSGFuZGxlcihcImF1dG9MYW5nXCIsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR0aGlzLmlTcGVlY2hTZXNzaW9uLnNldEF1dG9MYW5nKGRhdGEuYXV0b0xhbmcpO1xuXHRcdFN0b3JhZ2Uuc2V0QXV0b0xhbmcoZGF0YS5hdXRvTGFuZyk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJ0cmFja1wiLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KGRhdGEudGFnLCBkYXRhLm1zZywgZGF0YS5sYWJlbCk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJhcHBWaWV3XCIsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR0aGlzLmdhVHJhY2tlci5zZW5kQXBwVmlldyhkYXRhLnRhZyk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJjYWNoZVwiLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dGhpcy5jYWNoZShkYXRhKTtcblx0XHR0aGlzLmNsZWFuU2VuZCgpO1xuXHRcdHRoaXMuY2hlY2tTZW5kKCk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJzdWJiZWRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0Y2hyb21lLnRhYnMucXVlcnkoe3VybDogY2hyb21lLmV4dGVuc2lvbi5nZXRVUkwoJ29wdGlvbnMuaHRtbCcpfSwgZnVuY3Rpb24odGFicykge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRhYnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y2hyb21lLnRhYnMucmVtb3ZlKHRhYnNbaV0uaWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjaHJvbWUudGFicy5xdWVyeSh7XG5cdFx0XHRcdHVybDogcGF5cGFsX3NlcnZlci5yZXBsYWNlKFwic3Vic2NyaWJlXCIsIFwiXCIpICsgXCIqXCJcblx0XHRcdH0sIGZ1bmN0aW9uKHRhYkxpc3QpIHtcblx0XHRcdFx0aWYodGFiTGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0dmFyIHRhYklkID0gdGFiTGlzdFswXS5pZDtcblx0XHRcdFx0XHRjaHJvbWUudGFicy51cGRhdGUodGFiSWQsIHt1cmw6IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCdvcHRpb25zLmh0bWwnKSArIFwiP3N0ZXA9c3ViYmVkXCIsIHNlbGVjdGVkOiB0cnVlfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LmJpbmQodHJ1ZSkpO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKCdzdWJfY2FuY2VsZWQnLCBmdW5jdGlvbigpIHtcblx0XHRjaHJvbWUudGFicy5xdWVyeSh7XG5cdFx0XHR1cmw6IHBheXBhbF9zZXJ2ZXIgKyBcIipcIlxuXHRcdH0sIGZ1bmN0aW9uKHRhYkxpc3QpIHtcblx0XHRcdGlmKHRhYkxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgdGFiSWQgPSB0YWJMaXN0WzBdLmlkO1xuXHRcdFx0XHRjaHJvbWUudGFicy51cGRhdGUodGFiSWQsIHt1cmw6IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCdvcHRpb25zLmh0bWwnKSArIFwiP3N0ZXA9Y2FuY2VsZWRcIiwgc2VsZWN0ZWQ6IHRydWV9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fS5iaW5kKHRoaXMpKTtcblxuXHR3aW5kb3cuYWRkSGFuZGxlcignZWR1X2NhbmNlbGVkJywgZnVuY3Rpb24oKSB7XG5cdFx0Y2hyb21lLnRhYnMucXVlcnkoe1xuXHRcdFx0dXJsOiBcImh0dHBzOi8vd3d3LmlzcGVlY2gub3JnL3NlcnZpY2VzL3NlbHNwZWFrLypcIlxuXHRcdH0sIGZ1bmN0aW9uKHRhYkxpc3QpIHtcblx0XHRcdGlmKHRhYkxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgdGFiSWQgPSB0YWJMaXN0WzBdLmlkO1xuXHRcdFx0XHRjaHJvbWUudGFicy51cGRhdGUodGFiSWQsIHt1cmw6IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCdvcHRpb25zLmh0bWwnKSArIFwiP3N0ZXA9ZWR1XCIsIHNlbGVjdGVkOiB0cnVlfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJyZWFsX3BsYXlcIiwgdGhpcy5yZWFsUGxheS5iaW5kKHRoaXMpKTtcblx0d2luZG93LmFkZEhhbmRsZXIoXCJvcGVuX29wdGlvbnNcIiwgZnVuY3Rpb24oKSB7IG9wZW5PcHRpb25zKHRydWUpOyB9KTtcblx0d2luZG93LmFkZEhhbmRsZXIoXCJvcGVuX3NldHRpbmdzXCIsIGZ1bmN0aW9uKCkgeyBvcGVuT3B0aW9ucyhmYWxzZSk7IH0pO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwib3Blbl9lZHVcIiwgb3BlbkVkdSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJwbGF5X2dpdmVuXCIsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR0aGlzLmxvYWRQaHJhc2UoZGF0YS5zZWxlY3Rpb24sIGRhdGEuY29udGVudExhbmcsIGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdFN0b3JhZ2UuZ2V0U3ViSW5mbyhmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdFx0XHRpc1N1YmJlZChmdW5jdGlvbihzdWJiZWQpIHtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dmFyIHdvcmRDb3VudCA9IHRoaXMuY291bnRXb3Jkcyh0aGlzLmxvYWRlZFBocmFzZSk7XG5cdFx0XHRcdFx0XHRpZighc3ViYmVkICYmIHZhbHVlcy53b3Jkc1RvdGFsICE9IC0xICYmIHdvcmRDb3VudCA+IHZhbHVlcy53b3Jkc0xlZnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zdGFydENvdW50ZG93bigpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZWFsUGxheSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBpZighc3ViYmVkKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHRoaXMucG9wVW5kZXIoKTtcblx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdFx0fVxuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJzZXRfc2VsZWN0aW9uXCIsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRkYXRhID0gZGF0YS50cmltKCk7XG5cblx0XHRpZiAoZGF0YSAhPT0gJycpIHtcblx0XHRcdGlmIChkYXRhICE9PSB0aGlzLnNlbGVjdGlvbikge1xuXHRcdFx0XHR0aGlzLnNlbGVjdGlvbiA9IGRhdGE7XG5cdFx0XHRcdHRoaXMucmVxUmVxdWlyZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuYXV0bylcblx0XHRcdFx0dGhpcy5wbGF5KCk7XG5cdFx0fVxuXHR9LmJpbmQodGhpcykpO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwicmVzdGFydF9wbGF5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucGxheWxpc3QucmVzdGFydCgpO1xuXHR9LmJpbmQodGhpcykpO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwicGxheV9uZXh0XCIsIGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucGxheWxpc3QubmV4dCgpO1xuXHR9LmJpbmQodGhpcykpO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwicGxheV9wcmV2XCIsIGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucGxheWxpc3QucHJldigpO1xuXHR9LmJpbmQodGhpcykpO1xuXG5cdHdpbmRvdy5hZGRIYW5kbGVyKFwic3RhcnRfcGF5cGFsXCIsIGZ1bmN0aW9uKHRpbWUpIHtcblx0XHR0aW1lID0gdGltZSB8fCBcIlllYXJcIjtcblx0XHRzdGFydFBheXBhbCh0aW1lKTtcblx0fSlcblxuXHR3aW5kb3cuYWRkU2V0dGluZ3NIYW5kbGVyKFwiYXV0b1wiLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdHRoaXMuc2V0QXV0byh2YWx1ZSk7XG5cdH0uYmluZCh0aGlzKSk7XG59O1xuXG5BcHAucHJvdG90eXBlLnBvcFVuZGVyID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRjaHJvbWUudGFicy5xdWVyeSh7YWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlfSwgZnVuY3Rpb24oYXJyYXlPZlRhYnMpIHtcblx0XHR2YXIgYWN0aXZlVGFiID0gYXJyYXlPZlRhYnNbMF07XG5cdFx0dmFyIGFjdGl2ZVRhYklkID0gYXJyYXlPZlRhYnNbMF0uaWQ7XG5cdFxuXHRcdGlzU3ViYmVkKGZ1bmN0aW9uKHN1YmJlZCkge1xuXHRcdFx0aWYoIXN1YmJlZCkge1xuXHRcdFx0XHRTdG9yYWdlLnNob3VsZFNob3dQb3BVbmRlcihmdW5jdGlvbihzaG91bGRTaG93KSB7XG5cdFx0XHRcdFx0aWYoc2hvdWxkU2hvdykge1xuXHRcdFx0XHRcdFx0U3RvcmFnZS5zZXRQb3BVbmRlclNob3duKCk7XG5cdFx0XHRcdFx0XHRvcGVuT3B0aW9ucyh0cnVlKTtcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGNocm9tZS50YWJzLnVwZGF0ZShhY3RpdmVUYWJJZCwge3NlbGVjdGVkOiB0cnVlfSk7XG5cdFx0XHRcdFx0XHR9LCAwKTtcblx0XHRcdFx0XHRcdHRoaXMuZ2FUcmFja2VyLnNlbmRFdmVudCgncGF5bWVudCcsICdwb3AgdW5kZXIgb3BlbmVkJyk7XG5cdFx0XHRcdFx0XHR0aGlzLmdhVHJhY2tlci5zZW5kQXBwVmlldyhcIlBvcCB1bmRlciBvcGVuZWRcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdFx0fVxuXHRcdH0uYmluZCh0aGlzKSk7XG5cdH0uYmluZCh0aGlzKSk7XG59XG5cbnNob3VsZE1lcmdlID0gZnVuY3Rpb24obXNnMSwgbXNnMikge1xuXHRyZXR1cm4gbXNnMi5xdS5zdGFydHNXaXRoKG1zZzEucXUpO1xufVxuXG5tZXJnZSA9IGZ1bmN0aW9uKG1zZzEsIG1zZzIpIHtcblx0bXNnMS5xdSA9IG1zZzIucXU7XG5cdG1zZzEuY28gPSBtc2cyLmNvO1xuXHRyZXR1cm4gbXNnMTtcbn1cblxubXNnTGlzdCA9IFtdO1xuQXBwLnByb3RvdHlwZS5jYWNoZSA9IGZ1bmN0aW9uKG1zZykge1xuXG5cdGlmKG1zZ0xpc3QubGVuZ3RoID09IDApIHtcblx0XHRtc2dMaXN0LnB1c2gobXNnKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgaW5kZXggPSBtc2dMaXN0Lmxlbmd0aC0xO1xuXG5cdGlmKHNob3VsZE1lcmdlKG1zZ0xpc3RbaW5kZXhdLCBtc2cpKSB7XG5cdFx0bXNnTGlzdFtpbmRleF0gPSBtZXJnZShtc2dMaXN0W2luZGV4XSwgbXNnKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRtc2dMaXN0LnB1c2gobXNnKTtcbn1cblxuQXBwLnByb3RvdHlwZS5jbGVhblNlbmQgPSBmdW5jdGlvbigpIHtcblxuXHQvLyBpZihtc2dMaXN0Lmxlbmd0aCA+PSAyKSB7XG5cdC8vIFx0aWYoc2hvdWxkTWVyZ2UobXNnTGlzdFttc2dMaXN0Lmxlbmd0aC0yXSwgbXNnTGlzdFttc2dMaXN0Lmxlbmd0aC0xXSkpIHtcblx0Ly8gXHRcdG1zZ0xpc3RbbXNnTGlzdC5sZW5ndGgtMl0gPSBtZXJnZShtc2dMaXN0W21zZ0xpc3QubGVuZ3RoLTJdLCBtc2dMaXN0W21zZ0xpc3QubGVuZ3RoLTFdKTtcblx0Ly8gXHRcdG1zZ0xpc3QucG9wKCk7XG5cdC8vIFx0fVxuXHQvLyB9XG5cblx0Zm9yKHZhciBpID0gbXNnTGlzdC5sZW5ndGgtMTsgaSA+IDA7IGktLSkge1xuXHRcdGZvcih2YXIgZyA9IGktMTsgZyA+PSAwOyBnLS0pIHtcblx0XHRcdGlmKHNob3VsZE1lcmdlKG1zZ0xpc3RbZ10sIG1zZ0xpc3RbaV0pKSB7XG5cdFx0XHRcdHZhciBtc2cgPSBtZXJnZShtc2dMaXN0W2ddLCBtc2dMaXN0W2ldKTtcblx0XHRcdFx0bXNnTGlzdFtnXSA9IG1zZztcblx0XHRcdFx0bXNnTGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5BcHAucHJvdG90eXBlLmNoZWNrU2VuZCA9IGZ1bmN0aW9uKCkge1xuXHRpZihtc2dMaXN0Lmxlbmd0aCA9PSAyNikge1xuXHRcdHZhciBjID0gZ2V0Q2FjaGVWYWx1ZSgpO1xuXHRcdHZhciB1cmwgPSBpU3BlZWNoQVBJLnVybHMuZ2VuZXJhdGVcblx0XHRcdCsgJz9hcGlrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcGlLZXkpXG5cdFx0XHQrICcmY2FjaGU9JyArIGNcblx0XHRcdCsgJyZ2ZXJzaW9uPScgKyBjaHJvbWUuYXBwLmdldERldGFpbHMoKS52ZXJzaW9uO1xuXG5cdFx0XHR2YXIgeG1saHR0cD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdHhtbGh0dHAub3BlbihcIkdFVFwiLCB1cmwpO1xuXHRcdFx0eG1saHR0cC5zZW5kKCk7XG5cdH1cbn1cblxuQXBwLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oc2VsKSB7XG5cdFxuXHRpZih0aGlzLnBsYXlsaXN0LmlzUGxheWluZygpKSB7XG5cdFx0dGhpcy5wYXVzZSgpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciB0ZXh0ID0gdW5kZWZpbmVkO1xuXHRpZih0eXBlb2Yoc2VsKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Yoc2VsLnNlbGVjdGlvblRleHQpICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0dGV4dCA9IHNlbC5zZWxlY3Rpb25UZXh0O1xuXHR9XG5cblx0Y2hyb21lLnRhYnMucXVlcnkoe2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX0sIGZ1bmN0aW9uKHRhYnMpIHtcblx0XHR0aGlzLmN1cnJlbnRUYWIgPSB0YWJzWzBdLmlkO1xuXHR9LmJpbmQodGhpcykpO1xuXG5cdHRoaXMubG9hZChmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRTdG9yYWdlLmdldFN1YkluZm8oZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHRcdGlzU3ViYmVkKGZ1bmN0aW9uKHN1YmJlZCkge1xuXG5cdFx0XHRcdFx0dmFyIHdvcmRDb3VudCA9IHRoaXMuY291bnRXb3Jkcyh0aGlzLmxvYWRlZFBocmFzZSk7XG5cdFx0XHRcdFx0aWYoIXN1YmJlZCAmJiB2YWx1ZXMud29yZHNUb3RhbCAhPSAtMSAmJiB3b3JkQ291bnQgPiB2YWx1ZXMud29yZHNMZWZ0KSB7XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXJ0Q291bnRkb3duKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMucmVhbFBsYXkoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYoIXN1YmJlZCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wb3BVbmRlcigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHRcdH0uYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9LmJpbmQodGhpcyksIHRleHQpO1xufTtcblxuQXBwLnByb3RvdHlwZS5yZWFsUGxheSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnBsYXlsaXN0LnBsYXkoKTtcblx0Y2hyb21lLnRhYnMucXVlcnkoe2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX0sIGZ1bmN0aW9uKHRhYnMpIHtcblx0XHR0aGlzLmdhVHJhY2tlci5zZW5kRXZlbnQoJ2dlbmVyYWwnLCAncGxheScsIHRhYnNbMF0udXJsLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8oW15cXC9dKylcXC8uKi8sIFwiJDFcIikpO1xuXHRcdHRoaXMuZ2FUcmFja2VyLnNlbmRFdmVudCgnZ2VuZXJhbCcsICdwbGF5V2l0aEZ1bGxVcmwnLCB0YWJzWzBdLnVybCk7XG5cdH0uYmluZCh0aGlzKSk7XG59XG5cbkFwcC5wcm90b3R5cGUuc3RhcnRDb3VudGRvd24gPSBmdW5jdGlvbigpIHtcblx0d2luZG93LnNlbmRNZXNzYWdlKFwic3RhcnQtY291bnRkb3duXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7YWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlfSk7XG59XG5cbkFwcC5wcm90b3R5cGUuY291bnRXb3JkcyA9IGZ1bmN0aW9uKHNlbikge1xuICAgIGlmKHR5cGVvZihzZW4pID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gMDtcbiAgICBcblx0dmFyIHdvcmRzID0gc2VuLnNwbGl0KC9cXHMrLyk7XG5cdHZhciB3b3JkQ291bnQgPSB3b3Jkcy5sZW5ndGg7XG5cblx0Zm9yKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGMgPSB3b3Jkc1tpXS5tYXRjaCgvW1xcdTM0MDAtXFx1OUZCRl0vZyk7XG5cdFx0aWYoYyAhPSBudWxsKSB7XG5cdFx0XHR3b3JkQ291bnQgKz0gYy5sZW5ndGggLSAxO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB3b3JkQ291bnQ7XG59XG5cbkFwcC5wcm90b3R5cGUucHVyY2hhc2UgPSBmdW5jdGlvbigpIHtcblxuXG5cdHRoaXMuZ2FUcmFja2VyLnNlbmRFdmVudCgnZ2VuZXJhbCcsICdwdXJjaGFzZScpO1xuXG5cdC8vIGdvb2dsZS5wYXltZW50cy5pbmFwcC5idXkoe1xuXHQvLyBcdHBhcmFtZXRlcnM6IHsnZW52JzogXCJwcm9kXCJ9LFxuXHQvLyBcdCdza3UnOiBcImF1ZGlvX2Rsb2FkXCIsXG5cdC8vIFx0J3N1Y2Nlc3MnOiB0aGlzLm9uUHVyY2hhc2UuYmluZCh0aGlzKSxcblx0Ly8gXHQnZmFpbHVyZSc6IHRoaXMub25QdXJjaGFzZUZhaWxlZC5iaW5kKHRoaXMpXG5cdC8vIH0pO1xufTtcblxuQXBwLnByb3RvdHlwZS5vblB1cmNoYXNlID0gZnVuY3Rpb24oc3ViSW5mbykge1xuXG5cdHRoaXMuaVNwZWVjaFNlc3Npb24uZ2VuZXJhdGVUVFMoe1xuXHRcdCd0ZXh0JzogdGhpcy5zZWxlY3Rpb24sXG5cdFx0J3NwbGl0U2VudGVuY2VzJzogZmFsc2Vcblx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0aWYgKHR5cGVvZiByZXNwb25zZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8ICFyZXNwb25zZS5zdWNjZXNzIHx8IHR5cGVvZiByZXNwb25zZS5hdWRpb1VybHMgPT09ICd1bmRlZmluZWQnIHx8IHJlc3BvbnNlLmF1ZGlvVXJscy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImZhaWxlZFwiLCByZXNwb25zZS5tZXNzYWdlKTtcblx0XHRcdFx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KCdnZW5lcmFsJywgJ3B1cmNoYXNlRmFpbGVkJywgcmVzcG9uc2UubWVzc2FnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmdhVHJhY2tlci5zZW5kRXZlbnQoJ2dlbmVyYWwnLCAncHVyY2hhc2VXb3JrZWQnKTtcblx0XHRcdFx0U3RvcmFnZS5zdWJ0cmFjdFdvcmRzTGVmdCh0aGlzLmNvdW50V29yZHModGhpcy5zZWxlY3Rpb24pKTtcblx0XHRcdFx0Y2hyb21lLnRhYnMuY3JlYXRlKHtcblx0XHRcdFx0XHQndXJsJzogcmVzcG9uc2UuYXVkaW9VcmxzWzBdICsgXCImZmlsZW5hbWU9cHVyY2hhc2VkQXVkaW8ubXAzXCIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0uYmluZCh0aGlzKSk7XG59O1xuXG5BcHAucHJpbnRPYmplY3QgPSBmdW5jdGlvbih0b1ByaW50KSB7XG5cdHZhciBvdXRwdXQgPSAnJztcblx0Zm9yIChwcm9wZXJ0eSBpbiB0b1ByaW50KSB7XG5cdFx0dmFyIHZhbHVlO1xuXG5cdFx0aWYodHlwZW9mIHRvUHJpbnRbcHJvcGVydHldID09PSAnb2JqZWN0Jylcblx0XHRcdHZhbHVlID0gQXBwLnByaW50T2JqZWN0KHRvUHJpbnRbcHJvcGVydHldKTtcblx0XHRlbHNlXG5cdFx0XHR2YWx1ZSA9IHRvUHJpbnRbcHJvcGVydHldO1xuXG5cdFx0b3V0cHV0ICs9IHByb3BlcnR5ICsgJzogJyArIHZhbHVlICsgXCIsIFwiO1xuXHR9XG5cblx0cmV0dXJuIFwieyBcIiArIG91dHB1dCArIFwiIH1cIjtcbn1cblxuQXBwLnByb3RvdHlwZS5vblB1cmNoYXNlRmFpbGVkID0gZnVuY3Rpb24ocmVzdWx0KSB7XG5cdHdpbmRvdy5hbGVydChcIlB1cmNoYXNlIGZhaWxlZFwiKTtcblx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KCdnZW5lcmFsJywgJ3B1cmNoYXNlQ2FuY2VsZWQnKTtcbn07XG5cbkFwcC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5wbGF5bGlzdC5wYXVzZSgpO1xuXHR0aGlzLmdhVHJhY2tlci5zZW5kRXZlbnQoJ2dlbmVyYWwnLCAncGF1c2UnKTtcbn1cblxuQXBwLnByb3RvdHlwZS5pc0xvYWRlZCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gIXRoaXMucmVxUmVxdWlyZWQgJiYgdHlwZW9mIHRoaXMucGxheWxpc3QgIT09ICd1bmRlZmluZWQnICYmIHRoaXMucGxheWxpc3QuaXNMb2FkZWQoKTtcbn1cblxuQXBwLnByb3RvdHlwZS5sb2FkZWRQaHJhc2UgPSBcIlwiO1xuQXBwLnByb3RvdHlwZS5sb2FkUGhyYXNlID0gZnVuY3Rpb24ocGhyYXNlLCBjb250ZW50TGFuZywgY2FsbGJhY2spIHtcblx0dGhpcy5sb2FkZWRQaHJhc2UgPSBwaHJhc2U7XG5cdGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICd1bmRlZmluZWQnKVxuXHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdHRoaXMuaVNwZWVjaFNlc3Npb24uZ2VuZXJhdGVUVFMoe1xuXHRcdCd0ZXh0JzogcGhyYXNlLFxuXHRcdCdjb250ZW50TGFuZyc6IGNvbnRlbnRMYW5nLFxuXHRcdCdzcGxpdFNlbnRlbmNlcyc6IHRydWVcblx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdGlmICh0eXBlb2YgcmVzcG9uc2UgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiByZXNwb25zZS5zdWNjZXNzID09PSAndW5kZWZpbmVkJyB8fCAhcmVzcG9uc2Uuc3VjY2VzcyB8fCB0eXBlb2YgcmVzcG9uc2UuYXVkaW9VcmxzID09PSAndW5kZWZpbmVkJyB8fCByZXNwb25zZS5hdWRpb1VybHMubGVuZ3RoIDwgMSkge1xuXHRcdFx0d2luZG93LnNlbmRNZXNzYWdlKFwiZmFpbGVkXCIsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBsYXlsaXN0LnNldFBsYXlsaXN0KHJlc3BvbnNlLmF1ZGlvVXJscywgcGhyYXNlKTtcblx0XHRcdHRoaXMucmVxUmVxdWlyZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMuYW5pbWF0ZUZsaXAoKTtcblx0XHRcdHRoaXMucGxheWxpc3QubG9hZCgpO1xuXHRcdFx0Y2FsbGJhY2soe3N1Y2Nlc3M6IHRydWV9KTtcblx0XHR9XG5cdH0uYmluZCh0aGlzKSk7XG59XG5cbkFwcC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBwaHJhc2UpIHtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbigpIHt9O1xuXG5cdHRoaXMuZ2V0VXBkYXRlZFNlbGVjdGlvbihmdW5jdGlvbih0YWJJZCwgc2VsZWN0aW9uKSB7XG5cdFx0aWYodHlwZW9mKHBocmFzZSkgIT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRzZWxlY3Rpb24gPSBwaHJhc2U7IC8vcGhyYXNlIGNhbWUgcmlnaHQgZnJvbSBjaHJvbWUsIGl0J3MgYmV0dGVyXG5cblx0XHQvLyB1cGRhdGUgc2VsZWN0aW9uIGlmIGl0J3Mgbm90IGVtcHR5IGFuZCBub3QgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG5cdFx0aWYgKHNlbGVjdGlvbiAhPT0gJycgJiYgdHlwZW9mIHNlbGVjdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5zZWxlY3Rpb24gIT09IHNlbGVjdGlvbikge1xuXHRcdFx0dGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG5cdFx0XHR0aGlzLnJlcVJlcXVpcmVkID0gdHJ1ZTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5nYVRyYWNrZXIuc2VuZEV2ZW50KCdnZW5lcmFsJywgJ2xvYWRpbmcnLCB0aGlzLnNlbGVjdGlvbik7XG5cdFx0XG5cdFx0dGhpcy5sb2FkUGhyYXNlKHRoaXMuc2VsZWN0aW9uLCB0aGlzLnBhZ2VMYW5nc1t0YWJJZF0sIGNhbGxiYWNrKTtcblx0fS5iaW5kKHRoaXMpKTtcbn07XG5cbkFwcC5wcm90b3R5cGUuZ2V0VXBkYXRlZFNlbGVjdGlvbiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHdpbmRvdy5zZW5kTWVzc2FnZShcInNlbGVjdGlvbi1yZXF1ZXN0XCIsIHVuZGVmaW5lZCwgZnVuY3Rpb24ocmVzcG9uc2UsIHRhYklkKSB7XG5cdFx0aWYgKHR5cGVvZiByZXNwb25zZSA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRjYWxsYmFjayh0YWJJZCk7XG5cdFx0ZWxzZVxuXHRcdFx0Y2FsbGJhY2sodGFiSWQsIHJlc3BvbnNlKTtcblx0fSwge2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX0pO1xufVxuXG5BcHAucHJvdG90eXBlLmVhc2UgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICgxIC0gTWF0aC5zaW4oTWF0aC5QSS8yICsgeCAqIE1hdGguUEkpKSAvIDI7XG59XG5cbkFwcC5wcm90b3R5cGUuZHJhd0ljb25BdFJvdGF0aW9uID0gZnVuY3Rpb24ocm90YXRpb24pIHtcblx0dmFyIGFuaW1hdGlvbkltYWdlID0gdGhpcy5pY29uO1xuXHR2YXIgaWNvbkNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdGljb25Db250ZXh0LnNhdmUoKTtcblx0aWNvbkNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXHRpY29uQ29udGV4dC50cmFuc2xhdGUoTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gMiksTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIDIpKTtcblx0aWNvbkNvbnRleHQucm90YXRlKDIgKiBNYXRoLlBJICogdGhpcy5lYXNlKHJvdGF0aW9uKSk7XG5cdGljb25Db250ZXh0LmRyYXdJbWFnZShhbmltYXRpb25JbWFnZSwgLU1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIDIpLCAtTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIDIpKTtcblx0aWNvbkNvbnRleHQucmVzdG9yZSgpO1xuXHRjaHJvbWUuYnJvd3NlckFjdGlvbi5zZXRJY29uKHtpbWFnZURhdGE6aWNvbkNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpfSk7XG59XG5cbkFwcC5wcm90b3R5cGUuYW5pbWF0ZUZsaXAgPSBmdW5jdGlvbigpe1xuXHR0aGlzLnJvdGF0aW9uICs9IDEvdGhpcy5hbmltYXRpb25GcmFtZXM7XG5cdHRoaXMuZHJhd0ljb25BdFJvdGF0aW9uKHRoaXMucm90YXRpb24pO1xuXG5cdGlmICh0aGlzLnBsYXlsaXN0LmlzTG9hZGluZygpKSB7XG5cdFx0aWYgKHRoaXMucm90YXRpb24gPiAxKVxuXHRcdFx0dGhpcy5yb3RhdGlvbiA9IDA7XG5cdFx0cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmFuaW1hdGVGbGlwKCk7XG5cdFx0fS5iaW5kKHRoaXMpLCB0aGlzLmFuaW1hdGlvblNwZWVkKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLnJvdGF0aW9uID0gMDtcblx0XHRpZiAodGhpcy5wbGF5bGlzdC5pc1BsYXlpbmcoKSkge1xuXHRcdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0SWNvbih7IHBhdGg6ICdpbWcvaWNvbnMvaWNvbi1wYXVzZV8xMjgucG5nJyB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0SWNvbih7IHBhdGg6ICdpbWcvaWNvbnMvaWNvbi1wYXVzZV8xMjgucG5nJyB9KTtcblx0XHR9XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvc2VsZWN0LWFuZC1zcGVhay9hcHAuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")},139:function(module,exports){eval('Playlist = function Playlist() {\n\tthis._init();\n};\n\nPlaylist.prototype._init = function () {\n\tthis.audioPlayer = new Audio();\n\tthis.audioPlayer.addEventListener(\'ended\', this.play.bind(this));\n\tthis.reset();\n};\n\nPlaylist.prototype._onPlaying = function () {\n\tif (typeof this.onPlaying != "undefined") this.onPlaying();\n};\nPlaylist.prototype._onPaused = function () {\n\tif (typeof this.onPaused != "undefined") this.onPaused();\n};\nPlaylist.prototype._onLoading = function () {\n\tif (typeof this.onLoading != "undefined") this.onLoading();\n};\nPlaylist.prototype._onLoaded = function () {\n\tif (typeof this.onLoaded != "undefined") this.onLoaded();\n};\nPlaylist.prototype._onEnded = function () {\n\tif (typeof this.onEnded != "undefined") this.onEnded();\n};\n\nPlaylist.prototype.appendList = function (urls) {\n\n\tthis.urls = new Array(urls.length);\n\tthis.urlData = new Array(urls.length);\n\n\tfor (var i = 0; i < urls.length; i++) {\n\t\tthis.urls[i] = urls[i];\n\t\tthis.urlData[i] = "";\n\t}\n\n\tthis.loadUrl(0);\n\tthis._onLoading();\n\n\treturn true;\n};\n\nPlaylist.prototype.countWords = function (sen) {\n\tvar words = sen.split(/\\s+/);\n\tvar wordCount = words.length;\n\n\tfor (var i = 0; i < words.length; i++) {\n\t\tvar c = words[i].match(/[\\u3400-\\u9FBF]/g);\n\t\tif (c != null) {\n\t\t\twordCount += c.length - 1;\n\t\t}\n\t}\n\n\treturn wordCount;\n};\n\nPlaylist.prototype.getText = function (i) {\n\tvar url = this.urls[i];\n\ttry {\n\t\tvar args = url.split("?")[1].split("&");\n\n\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\tif (args[i].startsWith("text")) {\n\t\t\t\tvar text = decodeURI(args[i].split("=")[1]);\n\t\t\t\treturn text;\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\treturn "";\n\t}\n};\n\nPlaylist.prototype.isPlaying = function () {\n\treturn this.playing;\n};\n\nPlaylist.prototype.isPaused = function () {\n\treturn this.paused;\n};\n\nPlaylist.prototype.pause = function () {\n\tthis.playing = false;\n\tthis.paused = true;\n\tthis.audioPlayer.pause();\n\tthis._onPaused();\n};\n\nPlaylist.prototype.stop = function () {\n\tthis.audioPlayer.pause();\n\tthis.reset();\n};\n\nPlaylist.prototype.reset = function () {\n\tthis.playing = false;\n\tthis.paused = false;\n\tthis.index = 0;\n\tthis.urls = [];\n\tthis.urlData = [];\n\tthis.loadedText = "";\n\n\tthis.playOnDoneLoading = -1;\n\tthis.downloadError = false;\n};\n\nPlaylist.prototype.isLoading = function () {\n\treturn this.urls.length > 0 && this.urlData[0] == "";\n};\n\nPlaylist.prototype.isLoaded = function () {\n\treturn this.urlData.length > 0 && this.urlData[0] != "";\n};\n\nPlaylist.prototype.compareUrls = function (urls) {\n\tif (this.urls.length != urls.length) return false;\n\n\tfor (var i = 0; i < urls.length; i++) {\n\t\tif (this.urls[i] != urls[i]) return false;\n\t}return true;\n};\n\nPlaylist.prototype.setPlaylist = function (urls, t) {\n\tif (this.loadedText == t && this.compareUrls(urls)) return;\n\tthis.reset();\n\tthis.appendList(urls);\n\tthis.loadedText = t;\n};\n\nPlaylist.prototype.load = function () {};\n\nPlaylist.prototype.restart = function () {\n\tif (!this.paused) {\n\t\tthis.pause();\n\t\tthis.paused = false;\n\t}\n\n\tthis.index = 0;\n\tthis.play();\n};\n\nPlaylist.prototype.prev = function () {\n\tif (!this.paused) {\n\t\tthis.pause();\n\t\tthis.paused = false;\n\t}\n\n\tvar resetCuttoff = this.audioPlayer.duration * 0.2;\n\tresetCuttoff = this.audioPlayer.currentTime <= resetCuttoff;\n\n\tvar backNum = resetCuttoff ? 2 : 1;\n\n\tthis.index = Math.max(0, this.index - backNum);\n\tthis.play();\n};\n\nPlaylist.prototype.next = function () {\n\tif (!this.paused) {\n\t\tthis.pause();\n\t\tthis.paused = false;\n\t}\n\n\t// this.index = this.index+1;\n\tthis.play();\n};\n\nPlaylist.prototype.play = function () {\n\n\tif (this.paused) {\n\t\tthis.audioPlayer.play();\n\t\tthis.paused = false;\n\t\tthis._onPlaying();\n\t\treturn;\n\t}\n\n\tvar i = this.index;\n\tthis.playing = true;\n\n\tif (i >= this.urls.length) {\n\t\tthis.reset();\n\t\tthis._onEnded();\n\t\treturn;\n\t}\n\n\tif (this.urlData[i] == "") {\n\t\tif (this.downloadError) {\n\t\t\tthis.reset();\n\t\t\tthis._onEnded();\n\t\t} else {\n\t\t\tthis.playOnDoneLoading = i;\n\t\t}\n\t\treturn;\n\t}\n\n\tthis.audioPlayer.src = this.urlData[i];\n\tthis.audioPlayer.play();\n\tthis._onPlaying();\n\tthis.index++;\n\tthis.loadUrl(this.index);\n};\n\nPlaylist.prototype.loadUrl = function (i) {\n\tif (i >= this.urls.length || this.urlData[i] != "") return;\n\tvar url = this.urls[i];\n\tvar xmlhttp;\n\txmlhttp = new XMLHttpRequest();\n\txmlhttp.responseType = "arraybuffer";\n\txmlhttp.onreadystatechange = function () {\n\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n\n\t\t\tvar byteArray = new Uint8Array(xmlhttp.response);\n\n\t\t\tvar audioData = "data:audio/ogg;base64," + Playlist.base64_encode(byteArray);\n\t\t\tthis.urlData[i] = audioData;\n\t\t\tif (this.playOnDoneLoading == i) {\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t\tif (i == 0) {\n\t\t\t\tthis._onLoaded();\n\t\t\t}\n\n\t\t\tvar wordCount = this.countWords(this.getText(i));\n\t\t\tStorage.subtractWordsLeft(wordCount);\n\t\t} else if (xmlhttp.readyState == 4 && xmlhttp.status != 200) {\n\t\t\tthis.downloadError = true;\n\t\t\tif (this.playOnDoneLoading == i) {\n\t\t\t\tthis._onEnded();\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t}.bind(this);\n\txmlhttp.open("GET", url, true);\n\txmlhttp.send();\n};\n\nvar base64chars = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\'.split("");\nPlaylist.base64_encode = function (s) {\n\t// the result/encoded string, the padding string, and the pad count\n\tvar r = "";\n\tvar p = "";\n\tvar c = s.length % 3;\n\n\t// add a right zero pad to make this string a multiple of 3 characters\n\tif (c > 0) {\n\t\tc = 3 - c;\n\t\tvar ns = new Uint8Array(s.length + c);\n\t\tns.set(s);\n\n\t\tfor (var i = 0; i < c; i++) {\n\t\t\tp += \'=\';\n\t\t\tns.set[s.length + i] = 0;\n\t\t}\n\n\t\ts = ns;\n\t}\n\n\t// increment over the length of the string, three characters at a time\n\tfor (c = 0; c < s.length; c += 3) {\n\n\t\t// we add newlines after every 76 output characters, according to the MIME specs\n\t\tif (c > 0 && c / 3 * 4 % 76 == 0) {\n\t\t\tr += "\\r\\n";\n\t\t}\n\n\t\t// these three 8-bit (ASCII) characters become one 24-bit number\n\t\tvar n = (s[c] << 16) + (s[c + 1] << 8) + s[c + 2];\n\n\t\t// this 24-bit number gets separated into four 6-bit numbers\n\t\tn = [n >>> 18 & 63, n >>> 12 & 63, n >>> 6 & 63, n & 63];\n\n\t\t// those four 6-bit numbers are used as indices into the base64 character list\n\t\tr += base64chars[n[0]] + base64chars[n[1]] + base64chars[n[2]] + base64chars[n[3]];\n\t}\n\t// add the actual padding string, after removing the zero pad\n\treturn r.substring(0, r.length - p.length) + p;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZWxlY3QtYW5kLXNwZWFrL3BsYXlsaXN0LmpzP2YwMjgiXSwic291cmNlc0NvbnRlbnQiOlsiUGxheWxpc3QgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5faW5pdCgpO1xufTtcblxuUGxheWxpc3QucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW8oKTtcblx0dGhpcy5hdWRpb1BsYXllci5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMucGxheS5iaW5kKHRoaXMpKTtcblx0dGhpcy5yZXNldCgpO1xufTtcblxuUGxheWxpc3QucHJvdG90eXBlLl9vblBsYXlpbmcgPSBmdW5jdGlvbigpIHtcblx0aWYodHlwZW9mKHRoaXMub25QbGF5aW5nKSAhPSBcInVuZGVmaW5lZFwiKSB0aGlzLm9uUGxheWluZygpO1xufVxuUGxheWxpc3QucHJvdG90eXBlLl9vblBhdXNlZCA9IGZ1bmN0aW9uKCkge1xuXHRpZih0eXBlb2YodGhpcy5vblBhdXNlZCkgIT0gXCJ1bmRlZmluZWRcIikgdGhpcy5vblBhdXNlZCgpO1xufVxuUGxheWxpc3QucHJvdG90eXBlLl9vbkxvYWRpbmcgPSBmdW5jdGlvbigpIHtcblx0aWYodHlwZW9mKHRoaXMub25Mb2FkaW5nKSAhPSBcInVuZGVmaW5lZFwiKSB0aGlzLm9uTG9hZGluZygpO1xufVxuUGxheWxpc3QucHJvdG90eXBlLl9vbkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuXHRpZih0eXBlb2YodGhpcy5vbkxvYWRlZCkgIT0gXCJ1bmRlZmluZWRcIikgdGhpcy5vbkxvYWRlZCgpO1xufVxuUGxheWxpc3QucHJvdG90eXBlLl9vbkVuZGVkID0gZnVuY3Rpb24oKSB7XG5cdGlmKHR5cGVvZih0aGlzLm9uRW5kZWQpICE9IFwidW5kZWZpbmVkXCIpIHRoaXMub25FbmRlZCgpO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuYXBwZW5kTGlzdCA9IGZ1bmN0aW9uKHVybHMpIHtcblxuXHR0aGlzLnVybHMgPSBuZXcgQXJyYXkodXJscy5sZW5ndGgpO1xuXHR0aGlzLnVybERhdGEgPSBuZXcgQXJyYXkodXJscy5sZW5ndGgpO1xuXG5cdGZvcih2YXIgaSA9IDA7IGkgPCB1cmxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy51cmxzW2ldID0gdXJsc1tpXTtcblx0XHR0aGlzLnVybERhdGFbaV0gPSBcIlwiO1xuXHR9XG5cblx0dGhpcy5sb2FkVXJsKDApO1xuXHR0aGlzLl9vbkxvYWRpbmcoKTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cblBsYXlsaXN0LnByb3RvdHlwZS5jb3VudFdvcmRzID0gZnVuY3Rpb24oc2VuKSB7XG5cdHZhciB3b3JkcyA9IHNlbi5zcGxpdCgvXFxzKy8pO1xuXHR2YXIgd29yZENvdW50ID0gd29yZHMubGVuZ3RoO1xuXG5cdGZvcih2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjID0gd29yZHNbaV0ubWF0Y2goL1tcXHUzNDAwLVxcdTlGQkZdL2cpO1xuXHRcdGlmKGMgIT0gbnVsbCkge1xuXHRcdFx0d29yZENvdW50ICs9IGMubGVuZ3RoIC0gMTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gd29yZENvdW50O1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGkpIHtcblx0dmFyIHVybCA9IHRoaXMudXJsc1tpXTtcblx0dHJ5IHtcblx0XHR2YXIgYXJncyA9IHVybC5zcGxpdChcIj9cIilbMV0uc3BsaXQoXCImXCIpO1xuXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKGFyZ3NbaV0uc3RhcnRzV2l0aChcInRleHRcIikpIHtcblx0XHRcdFx0dmFyIHRleHQgPSBkZWNvZGVVUkkoYXJnc1tpXS5zcGxpdChcIj1cIilbMV0pO1xuXHRcdFx0XHRyZXR1cm4gdGV4dDtcblx0XHRcdH1cblx0XHR9XG5cdH0gY2F0Y2goZXJyKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cbn1cblxuUGxheWxpc3QucHJvdG90eXBlLmlzUGxheWluZyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5wbGF5aW5nO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMucGF1c2VkO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5wbGF5aW5nID0gZmFsc2U7XG5cdHRoaXMucGF1c2VkID0gdHJ1ZTtcblx0dGhpcy5hdWRpb1BsYXllci5wYXVzZSgpO1xuXHR0aGlzLl9vblBhdXNlZCgpO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmF1ZGlvUGxheWVyLnBhdXNlKCk7XG5cdHRoaXMucmVzZXQoKTtcbn1cblxuUGxheWxpc3QucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucGxheWluZyA9IGZhbHNlO1xuXHR0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXHR0aGlzLmluZGV4ID0gMDtcblx0dGhpcy51cmxzID0gW107XG5cdHRoaXMudXJsRGF0YSA9IFtdO1xuXHR0aGlzLmxvYWRlZFRleHQgPSBcIlwiO1xuXG5cdHRoaXMucGxheU9uRG9uZUxvYWRpbmcgPSAtMTtcblx0dGhpcy5kb3dubG9hZEVycm9yID0gZmFsc2U7XG59XG5cblBsYXlsaXN0LnByb3RvdHlwZS5pc0xvYWRpbmcgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMudXJscy5sZW5ndGggPiAwICYmIHRoaXMudXJsRGF0YVswXSA9PSBcIlwiO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuaXNMb2FkZWQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMudXJsRGF0YS5sZW5ndGggPiAwICYmIHRoaXMudXJsRGF0YVswXSAhPSBcIlwiO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUuY29tcGFyZVVybHMgPSBmdW5jdGlvbih1cmxzKSB7XG5cdGlmKHRoaXMudXJscy5sZW5ndGggIT0gdXJscy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuXHRmb3IodmFyIGkgPSAwOyBpIDwgdXJscy5sZW5ndGg7IGkrKylcblx0XHRpZih0aGlzLnVybHNbaV0gIT0gdXJsc1tpXSlcblx0XHRcdHJldHVybiBmYWxzZTtcblx0cmV0dXJuIHRydWU7XG59XG5cblBsYXlsaXN0LnByb3RvdHlwZS5zZXRQbGF5bGlzdCA9IGZ1bmN0aW9uKHVybHMsIHQpIHtcblx0aWYodGhpcy5sb2FkZWRUZXh0ID09IHQgJiYgdGhpcy5jb21wYXJlVXJscyh1cmxzKSkgcmV0dXJuO1xuXHR0aGlzLnJlc2V0KCk7XG5cdHRoaXMuYXBwZW5kTGlzdCh1cmxzKTtcblx0dGhpcy5sb2FkZWRUZXh0ID0gdDtcbn1cblxuUGxheWxpc3QucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHt9XG5cblBsYXlsaXN0LnByb3RvdHlwZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmKCF0aGlzLnBhdXNlZCkge1xuXHRcdHRoaXMucGF1c2UoKTtcblx0XHR0aGlzLnBhdXNlZCA9IGZhbHNlO1xuXHR9XG5cblx0dGhpcy5pbmRleCA9IDA7XG5cdHRoaXMucGxheSgpO1xufVxuXG5QbGF5bGlzdC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uKCkge1xuXHRpZighdGhpcy5wYXVzZWQpIHtcblx0XHR0aGlzLnBhdXNlKCk7XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0fVxuXG5cdHZhciByZXNldEN1dHRvZmYgPSB0aGlzLmF1ZGlvUGxheWVyLmR1cmF0aW9uICogMC4yO1xuXHRyZXNldEN1dHRvZmYgPSB0aGlzLmF1ZGlvUGxheWVyLmN1cnJlbnRUaW1lIDw9IHJlc2V0Q3V0dG9mZjtcblxuXHR2YXIgYmFja051bSA9IHJlc2V0Q3V0dG9mZiA/IDIgOiAxO1xuXG5cdHRoaXMuaW5kZXggPSBNYXRoLm1heCgwLCB0aGlzLmluZGV4LWJhY2tOdW0pO1xuXHR0aGlzLnBsYXkoKTtcbn1cblxuUGxheWxpc3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYoIXRoaXMucGF1c2VkKSB7XG5cdFx0dGhpcy5wYXVzZSgpO1xuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XG5cdH1cblxuXHQvLyB0aGlzLmluZGV4ID0gdGhpcy5pbmRleCsxO1xuXHR0aGlzLnBsYXkoKTtcbn1cblxuUGxheWxpc3QucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbigpIHtcblxuXHRpZih0aGlzLnBhdXNlZCkge1xuXHRcdHRoaXMuYXVkaW9QbGF5ZXIucGxheSgpO1xuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XG5cdFx0dGhpcy5fb25QbGF5aW5nKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGkgPSB0aGlzLmluZGV4O1xuXHR0aGlzLnBsYXlpbmcgPSB0cnVlO1xuXG5cdGlmKGkgPj0gdGhpcy51cmxzLmxlbmd0aCkge1xuXHRcdHRoaXMucmVzZXQoKTtcblx0XHR0aGlzLl9vbkVuZGVkKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYodGhpcy51cmxEYXRhW2ldID09IFwiXCIpIHtcblx0XHRpZih0aGlzLmRvd25sb2FkRXJyb3IpIHtcblx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdHRoaXMuX29uRW5kZWQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wbGF5T25Eb25lTG9hZGluZyA9IGk7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXHRcblx0dGhpcy5hdWRpb1BsYXllci5zcmMgPSB0aGlzLnVybERhdGFbaV07XG5cdHRoaXMuYXVkaW9QbGF5ZXIucGxheSgpO1xuXHR0aGlzLl9vblBsYXlpbmcoKTtcblx0dGhpcy5pbmRleCsrO1xuXHR0aGlzLmxvYWRVcmwodGhpcy5pbmRleCk7XG59O1xuXG5cblBsYXlsaXN0LnByb3RvdHlwZS5sb2FkVXJsID0gZnVuY3Rpb24oaSkge1xuXHRpZihpID49IHRoaXMudXJscy5sZW5ndGggfHwgdGhpcy51cmxEYXRhW2ldICE9IFwiXCIpIHJldHVybjtcblx0dmFyIHVybCA9IHRoaXMudXJsc1tpXTtcblx0dmFyIHhtbGh0dHA7XG5cdHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0eG1saHR0cC5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG5cdHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHhtbGh0dHAucmVhZHlTdGF0ZSA9PSA0ICYmIHhtbGh0dHAuc3RhdHVzID09IDIwMCkge1xuXG5cdFx0XHR2YXIgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoeG1saHR0cC5yZXNwb25zZSk7XG5cdFx0XHRcblx0XHRcdHZhciBhdWRpb0RhdGEgPSBcImRhdGE6YXVkaW8vb2dnO2Jhc2U2NCxcIiArIFBsYXlsaXN0LmJhc2U2NF9lbmNvZGUoYnl0ZUFycmF5KTtcblx0XHRcdHRoaXMudXJsRGF0YVtpXSA9IGF1ZGlvRGF0YTtcblx0XHRcdGlmKHRoaXMucGxheU9uRG9uZUxvYWRpbmcgPT0gaSkge1xuXHRcdFx0XHR0aGlzLnBsYXkoKTtcblx0XHRcdH1cblx0XHRcdGlmKGkgPT0gMCkge1xuXHRcdFx0XHR0aGlzLl9vbkxvYWRlZCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgd29yZENvdW50ID0gdGhpcy5jb3VudFdvcmRzKHRoaXMuZ2V0VGV4dChpKSk7XG5cdFx0XHRTdG9yYWdlLnN1YnRyYWN0V29yZHNMZWZ0KHdvcmRDb3VudCk7XG5cdFx0fSBlbHNlIGlmKHhtbGh0dHAucmVhZHlTdGF0ZSA9PSA0ICYmIHhtbGh0dHAuc3RhdHVzICE9IDIwMCkge1xuXHRcdFx0dGhpcy5kb3dubG9hZEVycm9yID0gdHJ1ZTtcblx0XHRcdGlmKHRoaXMucGxheU9uRG9uZUxvYWRpbmcgPT0gaSkge1xuXHRcdFx0XHR0aGlzLl9vbkVuZGVkKCk7XG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0uYmluZCh0aGlzKTtcblx0eG1saHR0cC5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG5cdHhtbGh0dHAuc2VuZCgpO1xufVxuXG5cbnZhciBiYXNlNjRjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJy5zcGxpdChcIlwiKTtcblBsYXlsaXN0LmJhc2U2NF9lbmNvZGUgPSBmdW5jdGlvbiAocykge1xuXHQvLyB0aGUgcmVzdWx0L2VuY29kZWQgc3RyaW5nLCB0aGUgcGFkZGluZyBzdHJpbmcsIGFuZCB0aGUgcGFkIGNvdW50XG5cdHZhciByID0gXCJcIjsgXG5cdHZhciBwID0gXCJcIjsgXG5cdHZhciBjID0gcy5sZW5ndGggJSAzO1xuIFxuXHQvLyBhZGQgYSByaWdodCB6ZXJvIHBhZCB0byBtYWtlIHRoaXMgc3RyaW5nIGEgbXVsdGlwbGUgb2YgMyBjaGFyYWN0ZXJzXG5cdGlmIChjID4gMCkge1xuXHRcdGMgPSAzIC0gYztcblx0XHR2YXIgbnMgPSBuZXcgVWludDhBcnJheShzLmxlbmd0aCArIGMpO1xuXHRcdG5zLnNldChzKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYzsgaSsrKSB7IFxuXHRcdFx0cCArPSAnPSc7IFxuXHRcdFx0bnMuc2V0W3MubGVuZ3RoICsgaV0gPSAwO1xuXHRcdH1cblxuXHRcdHMgPSBucztcblx0fVxuIFxuXHQvLyBpbmNyZW1lbnQgb3ZlciB0aGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcsIHRocmVlIGNoYXJhY3RlcnMgYXQgYSB0aW1lXG5cdGZvciAoYyA9IDA7IGMgPCBzLmxlbmd0aDsgYyArPSAzKSB7XG4gXG5cdFx0Ly8gd2UgYWRkIG5ld2xpbmVzIGFmdGVyIGV2ZXJ5IDc2IG91dHB1dCBjaGFyYWN0ZXJzLCBhY2NvcmRpbmcgdG8gdGhlIE1JTUUgc3BlY3Ncblx0XHRpZiAoYyA+IDAgJiYgKGMgLyAzICogNCkgJSA3NiA9PSAwKSB7IFxuXHRcdFx0ciArPSBcIlxcclxcblwiOyBcblx0XHR9XG4gXG5cdFx0Ly8gdGhlc2UgdGhyZWUgOC1iaXQgKEFTQ0lJKSBjaGFyYWN0ZXJzIGJlY29tZSBvbmUgMjQtYml0IG51bWJlclxuXHRcdHZhciBuID0gKHNbY10gPDwgMTYpICsgKHNbYysxXSA8PCA4KSArIHNbYysyXTtcbiBcblx0XHQvLyB0aGlzIDI0LWJpdCBudW1iZXIgZ2V0cyBzZXBhcmF0ZWQgaW50byBmb3VyIDYtYml0IG51bWJlcnNcblx0XHRuID0gWyhuID4+PiAxOCkgJiA2MywgKG4gPj4+IDEyKSAmIDYzLCAobiA+Pj4gNikgJiA2MywgbiAmIDYzXTtcbiBcblx0XHQvLyB0aG9zZSBmb3VyIDYtYml0IG51bWJlcnMgYXJlIHVzZWQgYXMgaW5kaWNlcyBpbnRvIHRoZSBiYXNlNjQgY2hhcmFjdGVyIGxpc3Rcblx0XHRyICs9IGJhc2U2NGNoYXJzW25bMF1dICsgYmFzZTY0Y2hhcnNbblsxXV0gKyBiYXNlNjRjaGFyc1tuWzJdXSArIGJhc2U2NGNoYXJzW25bM11dO1xuXHR9XG5cdC8vIGFkZCB0aGUgYWN0dWFsIHBhZGRpbmcgc3RyaW5nLCBhZnRlciByZW1vdmluZyB0aGUgemVybyBwYWRcblx0cmV0dXJuIHIuc3Vic3RyaW5nKDAsIHIubGVuZ3RoIC0gcC5sZW5ndGgpICsgcDtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3NlbGVjdC1hbmQtc3BlYWsvcGxheWxpc3QuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},140:function(module,exports){eval('(function () {\n\n  /**\n   * setFreeMode(isFree)\n   * \n   * Set Select and Speak as free\n   * \n   * @param {boolean} isFree - set as free\n   */\n  var setFreeMode = function setFreeMode(isFree) {\n    window.isFreeMode = isFree;\n  };\n\n  /**\n   * popUnder(url, hourInterval)\n   * \n   * Pop under on startup\n   * \n   * @param {string} url - url to open\n   * @param {number} hourInterval - minimum time to wait\n   */\n  var popUnder = window.popUnder;\n\n  /**\n   * adForExt(extIds, url, hourWaitTime, timeout)\n   * \n   * Do popunder checking that the extension is not installed\n   * \n   * @param {array} extIds - array of strings of extension ids to check. If any one is installed the ad does not show\n   * @param {string} url - link to the ad\n   * @param {number} hourWaitTime - hours to wait until showing the ad again\n   * @param {number} timeout - timeout to wait until showing the ad after checking the app is not installed\n   */\n  var adForExt = window.adForExt;\n\n  /**\n   * includeScript(scriptPath)\n   * \n   * Run script file in the background\n   * \n   * @param {string} scriptPath - path to the script file in the extension\n   * @param {string} target - "background", "content-script", or "both"\n   * \n   */\n  var includeScript = function includeScript(scriptPath, target) {\n    target = target.toLowerCase();\n\n    if (target == "background" || target == "both") {\n      var s = document.createElement("SCRIPT");\n      s.setAttribute("type", "text/javascript");\n      s.setAttribute("src", "js/test.js");\n      document.head.appendChild(s);\n    }\n\n    if (target == "content-script" || target == "both") {\n      window.addContentScript(scriptPath);\n    }\n  };\n\n  var functionSpace = {\n    "background": {\n      "setFreeMode": setFreeMode,\n      "popUnder": popUnder,\n      "adForExt": adForExt,\n      "includeScript": includeScript\n    }\n  };\n\n  // gnirts updated and broke mangling strings with / in it\n  // so instead mangle the url with / removed and replace them later\n  var ctdInstallUrl = /* @mangle */\'http:__clicktodictate.com_install.html\' /* @/mangle */;\n  var defaultSettings = {};\n  defaultSettings[chrome.app.getDetails().version] = {\n    "functionDomain": "background",\n    "actions": [["setFreeMode", [true]], ["adForExt", [["lphpbhkljjblpihcceaekaabnebeapee", "fbfklifojjcagcbockjcjlnhodilndfg"], ctdInstallUrl.replace(/_/g, "/"), 48, 20 * 60000]]]\n\n    // window.loadActionSettings(chrome.app.getDetails().version, functionSpace, defaultSettings);\n\n  };\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZXR1cEFjdGlvbnMuanM/N2RmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbi8qKlxuICogc2V0RnJlZU1vZGUoaXNGcmVlKVxuICogXG4gKiBTZXQgU2VsZWN0IGFuZCBTcGVhayBhcyBmcmVlXG4gKiBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGcmVlIC0gc2V0IGFzIGZyZWVcbiAqL1xudmFyIHNldEZyZWVNb2RlID0gZnVuY3Rpb24oaXNGcmVlKSB7XG5cdHdpbmRvdy5pc0ZyZWVNb2RlID0gaXNGcmVlO1xufTtcblxuLyoqXG4gKiBwb3BVbmRlcih1cmwsIGhvdXJJbnRlcnZhbClcbiAqIFxuICogUG9wIHVuZGVyIG9uIHN0YXJ0dXBcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHVybCB0byBvcGVuXG4gKiBAcGFyYW0ge251bWJlcn0gaG91ckludGVydmFsIC0gbWluaW11bSB0aW1lIHRvIHdhaXRcbiAqL1xudmFyIHBvcFVuZGVyID0gd2luZG93LnBvcFVuZGVyO1xuXG4vKipcbiAqIGFkRm9yRXh0KGV4dElkcywgdXJsLCBob3VyV2FpdFRpbWUsIHRpbWVvdXQpXG4gKiBcbiAqIERvIHBvcHVuZGVyIGNoZWNraW5nIHRoYXQgdGhlIGV4dGVuc2lvbiBpcyBub3QgaW5zdGFsbGVkXG4gKiBcbiAqIEBwYXJhbSB7YXJyYXl9IGV4dElkcyAtIGFycmF5IG9mIHN0cmluZ3Mgb2YgZXh0ZW5zaW9uIGlkcyB0byBjaGVjay4gSWYgYW55IG9uZSBpcyBpbnN0YWxsZWQgdGhlIGFkIGRvZXMgbm90IHNob3dcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBsaW5rIHRvIHRoZSBhZFxuICogQHBhcmFtIHtudW1iZXJ9IGhvdXJXYWl0VGltZSAtIGhvdXJzIHRvIHdhaXQgdW50aWwgc2hvd2luZyB0aGUgYWQgYWdhaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IC0gdGltZW91dCB0byB3YWl0IHVudGlsIHNob3dpbmcgdGhlIGFkIGFmdGVyIGNoZWNraW5nIHRoZSBhcHAgaXMgbm90IGluc3RhbGxlZFxuICovXG52YXIgYWRGb3JFeHQgPSB3aW5kb3cuYWRGb3JFeHQ7XG5cbi8qKlxuICogaW5jbHVkZVNjcmlwdChzY3JpcHRQYXRoKVxuICogXG4gKiBSdW4gc2NyaXB0IGZpbGUgaW4gdGhlIGJhY2tncm91bmRcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdFBhdGggLSBwYXRoIHRvIHRoZSBzY3JpcHQgZmlsZSBpbiB0aGUgZXh0ZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IC0gXCJiYWNrZ3JvdW5kXCIsIFwiY29udGVudC1zY3JpcHRcIiwgb3IgXCJib3RoXCJcbiAqIFxuICovXG52YXIgaW5jbHVkZVNjcmlwdCA9IGZ1bmN0aW9uKHNjcmlwdFBhdGgsIHRhcmdldCkge1xuXHR0YXJnZXQgPSB0YXJnZXQudG9Mb3dlckNhc2UoKTtcblxuXHRpZih0YXJnZXQgPT0gXCJiYWNrZ3JvdW5kXCIgfHwgdGFyZ2V0ID09IFwiYm90aFwiKSB7XG5cdFx0dmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpO1xuXHRcdHMuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvamF2YXNjcmlwdFwiKTtcblx0XHRzLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImpzL3Rlc3QuanNcIik7XG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKVxuXHR9XG5cdFxuXHRpZiAodGFyZ2V0ID09IFwiY29udGVudC1zY3JpcHRcIiB8fCB0YXJnZXQgPT0gXCJib3RoXCIpIHtcblx0XHR3aW5kb3cuYWRkQ29udGVudFNjcmlwdChzY3JpcHRQYXRoKTtcblx0fVxufVxuXG52YXIgZnVuY3Rpb25TcGFjZSA9IHtcblx0XCJiYWNrZ3JvdW5kXCI6IHtcblx0XHRcInNldEZyZWVNb2RlXCI6IHNldEZyZWVNb2RlLFxuXHRcdFwicG9wVW5kZXJcIjogcG9wVW5kZXIsXG5cdFx0XCJhZEZvckV4dFwiOiBhZEZvckV4dCxcblx0XHRcImluY2x1ZGVTY3JpcHRcIjogaW5jbHVkZVNjcmlwdFxuXHR9XG59O1xuXG4vLyBnbmlydHMgdXBkYXRlZCBhbmQgYnJva2UgbWFuZ2xpbmcgc3RyaW5ncyB3aXRoIC8gaW4gaXRcbi8vIHNvIGluc3RlYWQgbWFuZ2xlIHRoZSB1cmwgd2l0aCAvIHJlbW92ZWQgYW5kIHJlcGxhY2UgdGhlbSBsYXRlclxudmFyIGN0ZEluc3RhbGxVcmwgPSAvKiBAbWFuZ2xlICovJ2h0dHA6X19jbGlja3RvZGljdGF0ZS5jb21faW5zdGFsbC5odG1sJy8qIEAvbWFuZ2xlICovO1xudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHt9O1xuZGVmYXVsdFNldHRpbmdzW2Nocm9tZS5hcHAuZ2V0RGV0YWlscygpLnZlcnNpb25dID0ge1xuXHRcImZ1bmN0aW9uRG9tYWluXCI6IFwiYmFja2dyb3VuZFwiLFxuXHRcImFjdGlvbnNcIjogW1xuXHRcdFtcInNldEZyZWVNb2RlXCIsIFt0cnVlXV0sXG5cdFx0W1wiYWRGb3JFeHRcIiwgW1sgXCJscGhwYmhrbGpqYmxwaWhjY2VhZWthYWJuZWJlYXBlZVwiLCBcImZiZmtsaWZvampjYWdjYm9ja2pjamxuaG9kaWxuZGZnXCJdLCBjdGRJbnN0YWxsVXJsLnJlcGxhY2UoL18vZywgXCIvXCIpLCA0OCwgMjAqNjAwMDBdXVxuXHRdXG59XG5cbi8vIHdpbmRvdy5sb2FkQWN0aW9uU2V0dGluZ3MoY2hyb21lLmFwcC5nZXREZXRhaWxzKCkudmVyc2lvbiwgZnVuY3Rpb25TcGFjZSwgZGVmYXVsdFNldHRpbmdzKTtcblxufSkoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3NldHVwQWN0aW9ucy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBVEE7QUFVQSIsInNvdXJjZVJvb3QiOiIifQ==')},141:function(module,exports){eval('(function () {\n\n\t/*\n Settings Spec\n {\n \t"appVersionNumber": { // app version, may have multiple versions for backwards compatability\n \t\t"functionDomain": "background"|"content-script",\n \t\t"actions": [\n \t\t\t["actionName", ["arg1", "arg2"...], timeoutN, isInterval]\n \t\t]\n \t}\n }\n \n RunFuncs Spec\n {\n \t"functionDomainValue": {\n \t\t"functionName": function,\n \t\t...\n \t}\n }\n */\n\n\tvar runActions = function runActions(availFuncs, actions) {\n\n\t\tfor (var i = 0; i < actions.length; i++) {\n\t\t\tvar action = actions[i];\n\t\t\tvar funcName = action[0] || "";\n\t\t\tvar args = action[1] || [];\n\t\t\tvar timeout = typeof action[2] !== "undefined" ? action[2] : 0;\n\t\t\tvar isInterval = typeof action[3] !== "undefined" ? action[3] : false;\n\n\t\t\t//sanity checks\n\t\t\tif (typeof timeout != "number") timeout = 0;\n\t\t\tif (timeout <= 0) {\n\t\t\t\ttimeout = 0;\n\t\t\t\tisInterval = false;\n\t\t\t}\n\n\t\t\tif (!(funcName in availFuncs)) {\n\t\t\t\tconsole.log("Function " + funcName + " not found");\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\trFunc = isInterval ? setInterval : setTimeout;\n\n\t\t\trFunc(function (funcName, args) {\n\t\t\t\ttry {\n\t\t\t\t\tavailFuncs[funcName].apply(null, args);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}\n\t\t\t}, timeout, funcName, args);\n\t\t}\n\t};\n\n\tvar evalActionSettings = function evalActionSettings(version, runFuncs, settings) {\n\n\t\tif (!(version in settings)) {\n\t\t\tconsole.log("version " + version + " not found");\n\t\t\treturn false;\n\t\t}\n\n\t\tsettings = settings[version];\n\n\t\tif (!(settings.functionDomain in runFuncs)) {\n\t\t\tconsole.log("domain " + settings.functionDomain + " not found");\n\t\t\treturn false;\n\t\t}\n\n\t\trunFuncs = runFuncs[settings.functionDomain];\n\n\t\trunActions(runFuncs, settings.actions);\n\n\t\treturn true;\n\t};\n\n\tvar settingsUrl = "";\n\n\twindow.loadActionSettings = function (version, runFuncs, defaultSettings, callback) {\n\t\tcallback = callback || function () {};\n\n\t\tif (settingsUrl.length == 0) {\n\t\t\tevalActionSettings(version, runFuncs, defaultSettings);\n\t\t} else {\n\t\t\tvar xml = new XMLHttpRequest();\n\n\t\t\txml.onreadystatechange = function () {\n\t\t\t\tif (xml.readyState == 4) {\n\t\t\t\t\tvar settings = {};\n\n\t\t\t\t\tif (xml.status == 200) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tsettings = JSON.parse(xml.responseText);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsettings = defaultSettings;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsettings = defaultSettings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!evalActionSettings(version, runFuncs, settings)) {\n\t\t\t\t\t\tevalActionSettings(version, runFuncs, defaultSettings);\n\t\t\t\t\t\tcallback(defaultSettings);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(settings);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txml.open("GET", settingsUrl);\n\t\t\txml.send();\n\t\t}\n\t};\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy91dGlscy9hY3Rpb25TeXN0ZW0uanM/NzM1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbi8qXG5TZXR0aW5ncyBTcGVjXG57XG5cdFwiYXBwVmVyc2lvbk51bWJlclwiOiB7IC8vIGFwcCB2ZXJzaW9uLCBtYXkgaGF2ZSBtdWx0aXBsZSB2ZXJzaW9ucyBmb3IgYmFja3dhcmRzIGNvbXBhdGFiaWxpdHlcblx0XHRcImZ1bmN0aW9uRG9tYWluXCI6IFwiYmFja2dyb3VuZFwifFwiY29udGVudC1zY3JpcHRcIixcblx0XHRcImFjdGlvbnNcIjogW1xuXHRcdFx0W1wiYWN0aW9uTmFtZVwiLCBbXCJhcmcxXCIsIFwiYXJnMlwiLi4uXSwgdGltZW91dE4sIGlzSW50ZXJ2YWxdXG5cdFx0XVxuXHR9XG59XG5cblJ1bkZ1bmNzIFNwZWNcbntcblx0XCJmdW5jdGlvbkRvbWFpblZhbHVlXCI6IHtcblx0XHRcImZ1bmN0aW9uTmFtZVwiOiBmdW5jdGlvbixcblx0XHQuLi5cblx0fVxufVxuKi9cblxudmFyIHJ1bkFjdGlvbnMgPSBmdW5jdGlvbihhdmFpbEZ1bmNzLCBhY3Rpb25zKSB7XG5cblx0Zm9yKHZhciBpID0gMDsgaSA8IGFjdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgYWN0aW9uID0gYWN0aW9uc1tpXTtcblx0XHR2YXIgZnVuY05hbWUgPSBhY3Rpb25bMF0gfHwgXCJcIjtcblx0XHR2YXIgYXJncyA9IGFjdGlvblsxXSB8fCBbXTtcblx0XHR2YXIgdGltZW91dCA9ICh0eXBlb2YoYWN0aW9uWzJdKSAhPT0gXCJ1bmRlZmluZWRcIikgPyBhY3Rpb25bMl0gOiAwO1xuXHRcdHZhciBpc0ludGVydmFsID0gKHR5cGVvZihhY3Rpb25bM10pICE9PSBcInVuZGVmaW5lZFwiKSA/IGFjdGlvblszXSA6IGZhbHNlO1xuXG5cdFx0Ly9zYW5pdHkgY2hlY2tzXG5cdFx0aWYodHlwZW9mKHRpbWVvdXQpICE9IFwibnVtYmVyXCIpIHRpbWVvdXQgPSAwO1xuXHRcdGlmKHRpbWVvdXQgPD0gMCkge1xuXHRcdFx0dGltZW91dCA9IDA7XG5cdFx0XHRpc0ludGVydmFsID0gZmFsc2U7XG5cdFx0fVxuXG5cblx0XHRpZighKGZ1bmNOYW1lIGluIGF2YWlsRnVuY3MpKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkZ1bmN0aW9uIFwiICsgZnVuY05hbWUgKyBcIiBub3QgZm91bmRcIik7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRyRnVuYyA9IGlzSW50ZXJ2YWwgPyBzZXRJbnRlcnZhbCA6IHNldFRpbWVvdXQ7XG5cblx0XHRyRnVuYyhmdW5jdGlvbihmdW5jTmFtZSwgYXJncykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXZhaWxGdW5jc1tmdW5jTmFtZV0uYXBwbHkobnVsbCwgYXJncyk7XG5cdFx0XHR9IGNhdGNoKGVycikgeyBjb25zb2xlLmxvZyhlcnIpOyB9XG5cdFx0fSwgdGltZW91dCwgZnVuY05hbWUsIGFyZ3MpO1xuXHR9XG59XG5cbnZhciBldmFsQWN0aW9uU2V0dGluZ3MgPSBmdW5jdGlvbih2ZXJzaW9uLCBydW5GdW5jcywgc2V0dGluZ3MpIHtcblxuXHRpZighKHZlcnNpb24gaW4gc2V0dGluZ3MpKSB7XG5cdFx0Y29uc29sZS5sb2coXCJ2ZXJzaW9uIFwiICsgdmVyc2lvbiArIFwiIG5vdCBmb3VuZFwiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRzZXR0aW5ncyA9IHNldHRpbmdzW3ZlcnNpb25dO1xuXG5cdGlmKCEoc2V0dGluZ3MuZnVuY3Rpb25Eb21haW4gaW4gcnVuRnVuY3MpKSB7XG5cdFx0Y29uc29sZS5sb2coXCJkb21haW4gXCIgKyBzZXR0aW5ncy5mdW5jdGlvbkRvbWFpbiArIFwiIG5vdCBmb3VuZFwiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRydW5GdW5jcyA9IHJ1bkZ1bmNzW3NldHRpbmdzLmZ1bmN0aW9uRG9tYWluXTtcblxuXHRydW5BY3Rpb25zKHJ1bkZ1bmNzLCBzZXR0aW5ncy5hY3Rpb25zKTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuXG52YXIgc2V0dGluZ3NVcmwgPSBcIlwiO1xuXG53aW5kb3cubG9hZEFjdGlvblNldHRpbmdzID0gZnVuY3Rpb24odmVyc2lvbiwgcnVuRnVuY3MsIGRlZmF1bHRTZXR0aW5ncywgY2FsbGJhY2spIHtcblx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpe307XG5cblx0aWYoc2V0dGluZ3NVcmwubGVuZ3RoID09IDApIHtcblx0XHRldmFsQWN0aW9uU2V0dGluZ3ModmVyc2lvbiwgcnVuRnVuY3MsIGRlZmF1bHRTZXR0aW5ncyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0XHR2YXIgc2V0dGluZ3MgPSB7fTtcblxuXHRcdFx0XHRpZih4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncyA9IEpTT04ucGFyc2UoeG1sLnJlc3BvbnNlVGV4dCk7XG5cdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0XHRcdHNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXR0aW5ncyA9IGRlZmF1bHRTZXR0aW5ncztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKCFldmFsQWN0aW9uU2V0dGluZ3ModmVyc2lvbiwgcnVuRnVuY3MsIHNldHRpbmdzKSkge1xuXHRcdFx0XHRcdGV2YWxBY3Rpb25TZXR0aW5ncyh2ZXJzaW9uLCBydW5GdW5jcywgZGVmYXVsdFNldHRpbmdzKTtcblx0XHRcdFx0XHRjYWxsYmFjayhkZWZhdWx0U2V0dGluZ3MpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHNldHRpbmdzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHhtbC5vcGVuKFwiR0VUXCIsIHNldHRpbmdzVXJsKTtcblx0XHR4bWwuc2VuZCgpO1xuXHR9XG59O1xuXG59KSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvdXRpbHMvYWN0aW9uU3lzdGVtLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=')},142:function(module,exports){eval('(function () {\n\n\twindow.adForExt = function (extIds, url, hourWaitTime, timeout) {\n\t\tif (typeof extIds === "string") extIds = [extIds];\n\t\tvar extInstalled = false;\n\n\t\tfor (var i = 0; i < extIds.length; i++) {\n\t\t\tvar id = extIds[i];\n\t\t\tchrome.runtime.sendMessage(id, {}, function (installed) {\n\t\t\t\tif (installed) {\n\t\t\t\t\textInstalled = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tsetTimeout(function () {\n\t\t\tif (!extInstalled) window.popUnder(url, hourWaitTime);\n\t\t}, timeout);\n\t};\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy91dGlscy9leHRGaW5kZXIuanM/OGI5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbndpbmRvdy5hZEZvckV4dCA9IGZ1bmN0aW9uKGV4dElkcywgdXJsLCBob3VyV2FpdFRpbWUsIHRpbWVvdXQpIHtcblx0aWYodHlwZW9mKGV4dElkcykgPT09IFwic3RyaW5nXCIpIGV4dElkcyA9IFtleHRJZHNdO1xuXHR2YXIgZXh0SW5zdGFsbGVkID0gZmFsc2U7XG5cblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4dElkcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpZCA9IGV4dElkc1tpXTtcblx0XHRjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShpZCwge30sIGZ1bmN0aW9uKGluc3RhbGxlZCkge1xuXHRcdFx0aWYoaW5zdGFsbGVkKSB7XG5cdFx0XHRcdGV4dEluc3RhbGxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdGlmKCFleHRJbnN0YWxsZWQpIHdpbmRvdy5wb3BVbmRlciggdXJsLCBob3VyV2FpdFRpbWUpO1xuXHR9LCB0aW1lb3V0KTtcbn1cblxufSkoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3V0aWxzL2V4dEZpbmRlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==')},143:function(module,exports){eval('(function () {\n\n\tvar dateFormat = "MM/dd/yyyy HH:mm:ss";\n\n\twindow.popUnder = function (url, hourInterval) {\n\n\t\tchrome.storage.sync.get("popSystem", function (ps) {\n\t\t\tvar popSystem = ps.popSystem || {};\n\t\t\tvar lastShown = popSystem[url] || "";\n\t\t\tlastShown = Date.parseExact(lastShown, dateFormat);\n\n\t\t\tif (lastShown == null || lastShown.compareTo(Date.now().add(-hourInterval).hours()) < 0) {\n\t\t\t\tchrome.tabs.query({ active: true, currentWindow: true }, function (arrayOfTabs) {\n\t\t\t\t\tvar activeTab = arrayOfTabs[0];\n\t\t\t\t\tvar activeTabId = arrayOfTabs[0].id;\n\n\t\t\t\t\twindow.open(url);\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tchrome.tabs.update(activeTabId, { selected: true });\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\n\t\t\t\tpopSystem[url] = Date.now().toString(Storage.dateFormat);\n\t\t\t\tps.popSystem = popSystem;\n\t\t\t\tchrome.storage.sync.set(ps);\n\t\t\t}\n\t\t});\n\t};\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy91dGlscy9wb3BTeXN0ZW0uanM/MTRkNSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbnZhciBkYXRlRm9ybWF0ID0gXCJNTS9kZC95eXl5IEhIOm1tOnNzXCI7XG5cbndpbmRvdy5wb3BVbmRlciA9IGZ1bmN0aW9uKHVybCwgaG91ckludGVydmFsKSB7XG5cblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJwb3BTeXN0ZW1cIiwgZnVuY3Rpb24ocHMpIHtcblx0XHR2YXIgcG9wU3lzdGVtID0gcHMucG9wU3lzdGVtIHx8IHt9O1xuXHRcdHZhciBsYXN0U2hvd24gPSBwb3BTeXN0ZW1bdXJsXSB8fCBcIlwiO1xuXHRcdGxhc3RTaG93biA9IERhdGUucGFyc2VFeGFjdChsYXN0U2hvd24sIGRhdGVGb3JtYXQpO1xuXG5cdFx0aWYobGFzdFNob3duID09IG51bGwgfHwgbGFzdFNob3duLmNvbXBhcmVUbyhEYXRlLm5vdygpLmFkZCgtaG91ckludGVydmFsKS5ob3VycygpKSA8IDApIHtcblx0XHRcdGNocm9tZS50YWJzLnF1ZXJ5KHthY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWV9LCBmdW5jdGlvbihhcnJheU9mVGFicykge1xuXHRcdFx0XHR2YXIgYWN0aXZlVGFiID0gYXJyYXlPZlRhYnNbMF07XG5cdFx0XHRcdHZhciBhY3RpdmVUYWJJZCA9IGFycmF5T2ZUYWJzWzBdLmlkO1xuXG5cdFx0XHRcdHdpbmRvdy5vcGVuKHVybCk7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Y2hyb21lLnRhYnMudXBkYXRlKGFjdGl2ZVRhYklkLCB7c2VsZWN0ZWQ6IHRydWV9KTtcblx0XHRcdFx0fSwgMCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cG9wU3lzdGVtW3VybF0gPSBEYXRlLm5vdygpLnRvU3RyaW5nKFN0b3JhZ2UuZGF0ZUZvcm1hdCk7XG5cdFx0XHRwcy5wb3BTeXN0ZW0gPSBwb3BTeXN0ZW07XG5cdFx0XHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChwcyk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbn0pKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9wb3BTeXN0ZW0uanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=')},18:function(module,exports){eval('(function () {\n  var f = this,\n      g = function g(a, d) {\n    var c = a.split("."),\n        b = window || f;c[0] in b || !b.execScript || b.execScript("var " + c[0]);for (var e; c.length && (e = c.shift());) {\n      c.length || void 0 === d ? b = b[e] ? b[e] : b[e] = {} : b[e] = d;\n    }\n  };var h = function h(a) {\n    var d = chrome.runtime.connect("nmmhkkegccagdldgiimedpiccmgmieda", {}),\n        c = !1;d.onMessage.addListener(function (b) {\n      c = !0;"response" in b && !("errorType" in b.response) ? a.success && a.success(b) : a.failure && a.failure(b);\n    });d.onDisconnect.addListener(function () {\n      !c && a.failure && a.failure({ request: {}, response: { errorType: "INTERNAL_SERVER_ERROR" } });\n    });d.postMessage(a);\n  };g("google.payments.inapp.buy", function (a) {\n    a.method = "buy";h(a);\n  });\n  g("google.payments.inapp.consumePurchase", function (a) {\n    a.method = "consumePurchase";h(a);\n  });g("google.payments.inapp.getPurchases", function (a) {\n    a.method = "getPurchases";h(a);\n  });g("google.payments.inapp.getSkuDetails", function (a) {\n    a.method = "getSkuDetails";h(a);\n  });\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2dhL2J1eS5qcz80M2MyIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHsgdmFyIGY9dGhpcyxnPWZ1bmN0aW9uKGEsZCl7dmFyIGM9YS5zcGxpdChcIi5cIiksYj13aW5kb3d8fGY7Y1swXWluIGJ8fCFiLmV4ZWNTY3JpcHR8fGIuZXhlY1NjcmlwdChcInZhciBcIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1kP2I9YltlXT9iW2VdOmJbZV09e306YltlXT1kfTt2YXIgaD1mdW5jdGlvbihhKXt2YXIgZD1jaHJvbWUucnVudGltZS5jb25uZWN0KFwibm1taGtrZWdjY2FnZGxkZ2lpbWVkcGljY21nbWllZGFcIix7fSksYz0hMTtkLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiKXtjPSEwO1wicmVzcG9uc2VcImluIGImJiEoXCJlcnJvclR5cGVcImluIGIucmVzcG9uc2UpP2Euc3VjY2VzcyYmYS5zdWNjZXNzKGIpOmEuZmFpbHVyZSYmYS5mYWlsdXJlKGIpfSk7ZC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoZnVuY3Rpb24oKXshYyYmYS5mYWlsdXJlJiZhLmZhaWx1cmUoe3JlcXVlc3Q6e30scmVzcG9uc2U6e2Vycm9yVHlwZTpcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwifX0pfSk7ZC5wb3N0TWVzc2FnZShhKX07ZyhcImdvb2dsZS5wYXltZW50cy5pbmFwcC5idXlcIixmdW5jdGlvbihhKXthLm1ldGhvZD1cImJ1eVwiO2goYSl9KTtcbmcoXCJnb29nbGUucGF5bWVudHMuaW5hcHAuY29uc3VtZVB1cmNoYXNlXCIsZnVuY3Rpb24oYSl7YS5tZXRob2Q9XCJjb25zdW1lUHVyY2hhc2VcIjtoKGEpfSk7ZyhcImdvb2dsZS5wYXltZW50cy5pbmFwcC5nZXRQdXJjaGFzZXNcIixmdW5jdGlvbihhKXthLm1ldGhvZD1cImdldFB1cmNoYXNlc1wiO2goYSl9KTtnKFwiZ29vZ2xlLnBheW1lbnRzLmluYXBwLmdldFNrdURldGFpbHNcIixmdW5jdGlvbihhKXthLm1ldGhvZD1cImdldFNrdURldGFpbHNcIjtoKGEpfSk7IH0pKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2dhL2J1eS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=')},19:function(module,exports){eval("Storage = {};\n\nStorage.dateFormat = \"MM/dd/yyyy HH:mm:ss\";\n\nStorage.addToOverlayBlacklist = function (domain) {\n\tif (typeof domain !== 'string' || domain === '') return;\n\n\tchrome.storage.local.get('overlayBlacklist', function (items) {\n\t\tvar overlayBlacklist;\n\t\tif (typeof items.overlayBlacklist !== 'undefined') {\n\t\t\toverlayBlacklist = items.overlayBlacklist;\n\t\t} else {\n\t\t\toverlayBlacklist = [];\n\t\t}\n\n\t\tfor (var i = 0; i < overlayBlacklist.length; i++) {\n\t\t\tif (overlayBlacklist[i] === domain) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\toverlayBlacklist.push(domain);\n\t\tchrome.storage.local.set({\n\t\t\t'overlayBlacklist': overlayBlacklist\n\t\t});\n\t});\n};\n\nStorage.getOverlayBlacklist = function (callback) {\n\tif (typeof callback === 'undefined') return;\n\n\tchrome.storage.local.get('overlayBlacklist', function (items) {\n\t\tif (typeof items.overlayBlacklist === 'undefined') callback([]);else callback(items.overlayBlacklist);\n\t});\n};\n\nStorage.getAppSettings = function (callback) {\n\tif (typeof callback === 'undefined') return;\n\n\tchrome.storage.sync.get([\"language\", \"region\", \"gender\", \"speed\", \"auto\", \"paragraphPlay\", \"autoLang\", \"playButton\"], callback);\n};\n\nStorage.setLanguage = function (value) {\n\tchrome.storage.sync.set({ 'language': value });\n};\n\nStorage.setRegion = function (value) {\n\tchrome.storage.sync.set({ 'region': value });\n};\n\nStorage.setGender = function (value) {\n\tchrome.storage.sync.set({ 'gender': value });\n};\n\nStorage.setSpeed = function (value) {\n\tchrome.storage.sync.set({ 'speed': value });\n};\n\nStorage.setAuto = function (value) {\n\tchrome.storage.sync.set({ 'auto': value });\n};\n\nStorage.setAutoLang = function (value) {\n\tchrome.storage.sync.set({ 'autoLang': value });\n};\n\nStorage.setParagraphPlay = function (value) {\n\tchrome.storage.sync.set({ 'paragraphPlay': value });\n};\n\nStorage.generateDate = function () {\n\tvar d = new Date();\n\treturn d.getFullYear() + \"\" + d.getMonth() + \"\" + d.getDate();\n};\n\nStorage.setSubTotal = function (subTotalValue) {\n\n\tchrome.storage.sync.get([\"subId\", \"wordsLeft\"], function (value) {\n\t\tif (typeof value.subId === 'undefined' || value.subId.length == 0) {\n\n\t\t\ttoSave = {\n\t\t\t\t'wordsTotal': subTotalValue\n\t\t\t};\n\n\t\t\tif (typeof value.wordsLeft === 'undefined') {\n\t\t\t\ttoSave.wordsLeft = subTotalValue;\n\t\t\t}\n\n\t\t\tchrome.storage.sync.set(toSave);\n\t\t}\n\t});\n};\n\nStorage.clearPurchase = function () {\n\tchrome.storage.sync.set({\n\t\tlastCheckTime: Date.now().add(-1).year().toString(Storage.dateFormat),\n\t\tprofileId: \"\",\n\t\teducationKey: \"\"\n\t});\n};\n\nStorage.subtractWordsLeft = function (subtract) {\n\tchrome.storage.sync.get([\"wordsLeft\"], function (value) {\n\t\tvalue.wordsLeft -= subtract;\n\t\tif (value.wordsLeft < 0) value.wordsLeft = 0;\n\t\twindow.sendMessage(\"wl_update\", value.wordsLeft);\n\t\tchrome.storage.sync.set(value);\n\t});\n};\n\nStorage.shouldCheck = function (callback) {\n\tchrome.storage.sync.get([\"lastCheckTime\"], function (value) {\n\n\t\tvar check = true;\n\n\t\tif (typeof value.lastCheckTime === 'undefined') {\n\t\t\tcheck = true;\n\t\t} else {\n\t\t\tvar checkTime = Date.parseExact(value.lastCheckTime, Storage.dateFormat);\n\t\t\tif (checkTime != null) {\n\t\t\t\tcheck = Date.now().compareTo(checkTime.add(6).hours()) == 1;\n\t\t\t}\n\t\t}\n\n\t\tif (check) {\n\t\t\tchrome.storage.sync.set({ lastCheckTime: Date.now().toString(Storage.dateFormat) });\n\t\t}\n\t\tcallback(check);\n\t});\n};\n\nStorage.getSubInfo = function (callback) {\n\tchrome.storage.sync.get([\"subId\", \"currentMonth\", \"wordsLeft\", \"wordsTotal\"], function (value) {\n\n\t\t// if(typeof value.subId === 'undefined') {\n\t\t// \tcallback(value);\n\t\t// \treturn;\n\t\t// }\n\n\t\tif (value.currentMonth !== Storage.generateDate()) {\n\t\t\tvalue.currentMonth = Storage.generateDate();\n\t\t\tvalue.wordsLeft = value.wordsTotal;\n\t\t\tchrome.storage.sync.set(value);\n\t\t}\n\n\t\tcallback(value);\n\t});\n};\n\nStorage.storePaypal = function (profileId) {\n\tchrome.storage.sync.set({\n\t\t'profileId': profileId\n\t});\n};\n\nStorage.hasPaypal = function (callback) {\n\tchrome.storage.sync.get(['profileId'], function (value) {\n\t\tif (value.profileId) {\n\t\t\tcallback(value.profileId);\n\t\t} else {\n\t\t\tcallback(\"\");\n\t\t}\n\t});\n};\n\nStorage.hasValidPaypal = function (callback) {\n\tchrome.storage.sync.get(['profileId'], function (value) {\n\t\tif (value.profileId) {\n\n\t\t\tStorage.shouldCheck(function (check) {\n\t\t\t\tif (check) {\n\n\t\t\t\t\tvar xmlhttp = new XMLHttpRequest();\n\t\t\t\t\txmlhttp.onload = function () {\n\t\t\t\t\t\tvar obj = JSON.parse(this.responseText);\n\t\t\t\t\t\tif (obj.result === 'success') {\n\t\t\t\t\t\t\tif (obj.subbed == false) chrome.storage.sync.set({ 'profileId': \"\" });\n\t\t\t\t\t\t\tcallback(obj.subbed);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\txmlhttp.open(\"GET\", 'https://www.ispeech.org/services/selspeak/check?profile_id=' + value.profileId);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t} else {\n\t\t\t\t\tcallback(true);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tcallback(false);\n\t\t}\n\t});\n};\n\nStorage.getFarmCount = function (callback) {\n\tchrome.storage.sync.get(['farmedCount'], function (value) {\n\t\tif (typeof value.farmedCount === 'undefined') {\n\t\t\tvalue.farmedCount = 0;\n\t\t}\n\t\tcallback(value.farmedCount);\n\t});\n};\n\nStorage.incrementFarmCount = function (callback) {\n\tchrome.storage.sync.get(['farmedCount'], function (value) {\n\t\tif (typeof value.farmedCount === 'undefined') {\n\t\t\tvalue.farmedCount = 0;\n\t\t}\n\t\tvalue.farmedCount++;\n\t\tchrome.storage.sync.set(value);\n\t\tif (!!callback) callback(value.farmedCount);\n\t});\n};\n\nStorage.setProPeriod = function (days) {\n\tvar endDate = Date.today().add(days).days();\n\n\tchrome.storage.sync.set({\n\t\tproPeriod: endDate.toDateString()\n\t});\n};\n\nStorage.inProPeriod = function (callback) {\n\tchrome.storage.sync.get([\"proPeriod\"], function (value) {\n\t\tvar proEnd = Date.parse(value.proPeriod);\n\n\t\tif (proEnd == null) {\n\t\t\tcallback(false);\n\t\t\treturn;\n\t\t}\n\n\t\tcallback(Date.today().compareTo(proEnd) <= 0);\n\t});\n};\n\nStorage.setFarmingUsed = function () {\n\tchrome.storage.sync.set({\n\t\tfarmingUsed: true\n\t});\n};\n\nStorage.getFarmingUsed = function (callback) {\n\tchrome.storage.sync.get([\"farmingUsed\"], function (value) {\n\t\tif (typeof value.farmingUsed === 'undefined') {\n\t\t\tvalue.farmingUsed = false;\n\t\t}\n\t\tcallback(value.farmingUsed);\n\t});\n};\n\nStorage.setEducationKey = function (key) {\n\tchrome.storage.sync.set({\n\t\teducationKey: key\n\t});\n};\n\nStorage.getEducationKey = function (callback) {\n\tchrome.storage.sync.get([\"educationKey\"], function (value) {\n\t\tif (typeof value.educationKey === 'undefined') {\n\t\t\tvalue.educationKey = \"\";\n\t\t}\n\t\tcallback(value.educationKey);\n\t});\n};\n\nStorage.emailSubmitted = function (callback) {\n\tchrome.storage.sync.get([\"emailSubmitted\"], function (value) {\n\t\tif (typeof value.emailSubmitted === 'undefined') {\n\t\t\tvalue.emailSubmitted = false;\n\t\t}\n\t\tcallback(value.emailSubmitted);\n\t});\n};\n\nStorage.setEmailSubmitted = function () {\n\tchrome.storage.sync.set({\n\t\temailSubmitted: true\n\t});\n};\n\nStorage.getPlayButton = function (callback) {\n\tchrome.storage.sync.get([\"playButton\"], function (value) {\n\t\tif (typeof value.playButton === 'undefined') {\n\t\t\tvalue.playButton = true;\n\t\t}\n\t\tcallback(value.playButton);\n\t});\n};\n\nStorage.setPlayButton = function (value) {\n\tchrome.storage.sync.set({\n\t\t'playButton': value\n\t});\n};\n\nStorage.setHotkeyEnabled = function (value) {\n\tchrome.storage.sync.set({\n\t\t'hotkeyEnabled': value\n\t});\n};\n\nStorage.getHotkeyEnabled = function (callback) {\n\tchrome.storage.sync.get([\"hotkeyEnabled\"], function (value) {\n\t\tif (typeof value.hotkeyEnabled === 'undefined') {\n\t\t\tvalue.hotkeyEnabled = true;\n\t\t}\n\t\tcallback(value.hotkeyEnabled);\n\t});\n};\n\nStorage.setHotkey = function (value) {\n\tchrome.storage.sync.set({\n\t\t'hotkey': value\n\t});\n};\n\nStorage.getHotkey = function (callback) {\n\tchrome.storage.sync.get([\"hotkey\"], function (value) {\n\t\tif (typeof value.hotkey === 'undefined') {\n\t\t\tvalue.hotkey = \"ctrl + shift + 83\";\n\t\t}\n\t\tcallback(value.hotkey);\n\t});\n};\n\nStorage.getHotkeyIfEnabled = function (callback) {\n\tchrome.storage.sync.get([\"hotkeyEnabled\", \"hotkey\"], function (value) {\n\t\tif (typeof value.hotkeyEnabled === 'undefined' || typeof value.hotkey === 'undefined') {\n\t\t\tcallback(\"\");\n\t\t} else if (value.hotkeyEnabled) {\n\t\t\tcallback(value.hotkey);\n\t\t} else {\n\t\t\tcallback(\"\");\n\t\t}\n\t});\n};\n\nStorage.shouldShowPopUnder = function (callback) {\n\tcallback(false);\n};\n\nStorage.setPopUnderShown = function () {\n\n\tvar endDate = Date.now().add(1).days();\n\n\tchrome.storage.sync.set({\n\t\tnextPopUnder: endDate.toString(Storage.dateFormat)\n\t});\n};\n\nStorage.log = function (input) {\n\tchrome.storage.sync.get(input, function (value) {\n\t\tconsole.log(value);\n\t});\n};\n\nStorage.emptyWords = function () {\n\tchrome.storage.sync.set({\n\t\t\"wordsLeft\": 0\n\t});\n};\n\nStorage.cleanInstall = function () {\n\twindow.localStorage.clear();\n\tchrome.storage.sync.clear(function () {\n\t\tchrome.runtime.reload();\n\t});\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3NlbGVjdC1hbmQtc3BlYWsvc3RvcmFnZS5qcz8zNWFiIl0sInNvdXJjZXNDb250ZW50IjpbIlN0b3JhZ2UgPSB7fTtcblxuU3RvcmFnZS5kYXRlRm9ybWF0ID0gXCJNTS9kZC95eXl5IEhIOm1tOnNzXCI7XG5cblN0b3JhZ2UuYWRkVG9PdmVybGF5QmxhY2tsaXN0ID0gZnVuY3Rpb24oZG9tYWluKSB7XG5cdGlmICh0eXBlb2YgZG9tYWluICE9PSAnc3RyaW5nJyB8fCBkb21haW4gPT09ICcnKVxuXHRcdHJldHVybjtcblxuXHRjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ292ZXJsYXlCbGFja2xpc3QnLCBmdW5jdGlvbihpdGVtcykge1xuXHRcdHZhciBvdmVybGF5QmxhY2tsaXN0O1xuXHRcdGlmICh0eXBlb2YgaXRlbXMub3ZlcmxheUJsYWNrbGlzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdG92ZXJsYXlCbGFja2xpc3QgPSBpdGVtcy5vdmVybGF5QmxhY2tsaXN0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvdmVybGF5QmxhY2tsaXN0ID0gW107XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvdmVybGF5QmxhY2tsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAob3ZlcmxheUJsYWNrbGlzdFtpXSA9PT0gZG9tYWluKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRvdmVybGF5QmxhY2tsaXN0LnB1c2goZG9tYWluKTtcblx0XHRjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuXHRcdFx0J292ZXJsYXlCbGFja2xpc3QnOiBvdmVybGF5QmxhY2tsaXN0XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuU3RvcmFnZS5nZXRPdmVybGF5QmxhY2tsaXN0ID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuO1xuXG5cdGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgnb3ZlcmxheUJsYWNrbGlzdCcsIGZ1bmN0aW9uKGl0ZW1zKSB7XG5cdFx0aWYgKHR5cGVvZiBpdGVtcy5vdmVybGF5QmxhY2tsaXN0ID09PSAndW5kZWZpbmVkJylcblx0XHRcdGNhbGxiYWNrKFtdKTtcblx0XHRlbHNlXG5cdFx0XHRjYWxsYmFjayhpdGVtcy5vdmVybGF5QmxhY2tsaXN0KTtcblx0fSk7XG59XG5cblN0b3JhZ2UuZ2V0QXBwU2V0dGluZ3MgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRpZih0eXBlb2YgY2FsbGJhY2sgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybjtcblxuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJsYW5ndWFnZVwiLCBcInJlZ2lvblwiLCBcImdlbmRlclwiLCBcInNwZWVkXCIsIFwiYXV0b1wiLCBcInBhcmFncmFwaFBsYXlcIiwgXCJhdXRvTGFuZ1wiLCBcInBsYXlCdXR0b25cIl0sIGNhbGxiYWNrKTtcbn1cblxuU3RvcmFnZS5zZXRMYW5ndWFnZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsnbGFuZ3VhZ2UnOiB2YWx1ZX0pO1xufVxuXG5TdG9yYWdlLnNldFJlZ2lvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsncmVnaW9uJzogdmFsdWV9KTtcbn1cblxuU3RvcmFnZS5zZXRHZW5kZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7J2dlbmRlcic6IHZhbHVlfSk7XG59XG5cblN0b3JhZ2Uuc2V0U3BlZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7J3NwZWVkJzogdmFsdWV9KTtcbn1cblxuU3RvcmFnZS5zZXRBdXRvID0gZnVuY3Rpb24odmFsdWUpIHtcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeydhdXRvJzogdmFsdWV9KTtcbn1cblxuU3RvcmFnZS5zZXRBdXRvTGFuZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsnYXV0b0xhbmcnOiB2YWx1ZX0pO1xufVxuXG5TdG9yYWdlLnNldFBhcmFncmFwaFBsYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7J3BhcmFncmFwaFBsYXknOiB2YWx1ZX0pO1xufVxuXG5TdG9yYWdlLmdlbmVyYXRlRGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgZCA9IG5ldyBEYXRlKCk7XG5cdHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyBcIlwiICsgZC5nZXRNb250aCgpICsgXCJcIiArIGQuZ2V0RGF0ZSgpO1xufVxuXG5TdG9yYWdlLnNldFN1YlRvdGFsID0gZnVuY3Rpb24oc3ViVG90YWxWYWx1ZSkge1xuXG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFtcInN1YklkXCIsIFwid29yZHNMZWZ0XCJdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmKHR5cGVvZiB2YWx1ZS5zdWJJZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUuc3ViSWQubGVuZ3RoID09IDApIHtcblxuXHRcdFx0dG9TYXZlID0ge1xuXHRcdFx0XHQnd29yZHNUb3RhbCc6IHN1YlRvdGFsVmFsdWVcblx0XHRcdH07XG5cblx0XHRcdGlmKHR5cGVvZiB2YWx1ZS53b3Jkc0xlZnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRvU2F2ZS53b3Jkc0xlZnQgPSBzdWJUb3RhbFZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh0b1NhdmUpO1xuXHRcdH1cblx0fSk7XG59XG5cblN0b3JhZ2UuY2xlYXJQdXJjaGFzZSA9IGZ1bmN0aW9uKCkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7XG5cdFx0bGFzdENoZWNrVGltZTogRGF0ZS5ub3coKS5hZGQoLTEpLnllYXIoKS50b1N0cmluZyhTdG9yYWdlLmRhdGVGb3JtYXQpLFxuXHRcdHByb2ZpbGVJZDogXCJcIixcblx0XHRlZHVjYXRpb25LZXk6IFwiXCJcblx0fSk7XG59XG5cblN0b3JhZ2Uuc3VidHJhY3RXb3Jkc0xlZnQgPSBmdW5jdGlvbihzdWJ0cmFjdCkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJ3b3Jkc0xlZnRcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0dmFsdWUud29yZHNMZWZ0IC09IHN1YnRyYWN0O1xuXHRcdGlmKHZhbHVlLndvcmRzTGVmdCA8IDApIHZhbHVlLndvcmRzTGVmdCA9IDA7XG5cdFx0d2luZG93LnNlbmRNZXNzYWdlKFwid2xfdXBkYXRlXCIsIHZhbHVlLndvcmRzTGVmdCk7XG5cdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQodmFsdWUpO1xuXHR9KTtcbn1cblxuU3RvcmFnZS5zaG91bGRDaGVjayA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFtcImxhc3RDaGVja1RpbWVcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XG5cdFx0dmFyIGNoZWNrID0gdHJ1ZTtcblx0XHRcblx0XHRpZih0eXBlb2YodmFsdWUubGFzdENoZWNrVGltZSkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRjaGVjayA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjaGVja1RpbWUgPSBEYXRlLnBhcnNlRXhhY3QodmFsdWUubGFzdENoZWNrVGltZSwgU3RvcmFnZS5kYXRlRm9ybWF0KTtcblx0XHRcdGlmKGNoZWNrVGltZSAhPSBudWxsKSB7XG5cdFx0XHRcdGNoZWNrID0gRGF0ZS5ub3coKS5jb21wYXJlVG8oY2hlY2tUaW1lLmFkZCg2KS5ob3VycygpKSA9PSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZihjaGVjaykge1xuXHRcdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe2xhc3RDaGVja1RpbWU6IERhdGUubm93KCkudG9TdHJpbmcoU3RvcmFnZS5kYXRlRm9ybWF0KX0pO1xuXHRcdH1cblx0XHRjYWxsYmFjayhjaGVjayk7XG5cdH0pO1xufVxuXG5TdG9yYWdlLmdldFN1YkluZm8gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJzdWJJZFwiLCBcImN1cnJlbnRNb250aFwiLCBcIndvcmRzTGVmdFwiLCBcIndvcmRzVG90YWxcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cblx0XHQvLyBpZih0eXBlb2YgdmFsdWUuc3ViSWQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Ly8gXHRjYWxsYmFjayh2YWx1ZSk7XG5cdFx0Ly8gXHRyZXR1cm47XG5cdFx0Ly8gfVxuXG5cdFx0aWYodmFsdWUuY3VycmVudE1vbnRoICE9PSBTdG9yYWdlLmdlbmVyYXRlRGF0ZSgpKSB7XG5cdFx0XHR2YWx1ZS5jdXJyZW50TW9udGggPSBTdG9yYWdlLmdlbmVyYXRlRGF0ZSgpO1xuXHRcdFx0dmFsdWUud29yZHNMZWZ0ID0gdmFsdWUud29yZHNUb3RhbDtcblx0XHRcdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHZhbHVlKTtcblx0XHR9XG5cblx0XHRjYWxsYmFjayh2YWx1ZSk7XG5cdH0pO1xufVxuXG5TdG9yYWdlLnN0b3JlUGF5cGFsID0gZnVuY3Rpb24ocHJvZmlsZUlkKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtcblx0XHQncHJvZmlsZUlkJzogcHJvZmlsZUlkXG5cdH0pO1xufVxuXG5TdG9yYWdlLmhhc1BheXBhbCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsncHJvZmlsZUlkJ10sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodmFsdWUucHJvZmlsZUlkKSB7XG5cdFx0XHRjYWxsYmFjayh2YWx1ZS5wcm9maWxlSWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjayhcIlwiKTtcblx0XHR9XG5cdH0pO1xufVxuXG5TdG9yYWdlLmhhc1ZhbGlkUGF5cGFsID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoWydwcm9maWxlSWQnXSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRpZih2YWx1ZS5wcm9maWxlSWQpIHtcblx0XHRcdFxuXHRcdFx0U3RvcmFnZS5zaG91bGRDaGVjayhmdW5jdGlvbihjaGVjaykge1xuXHRcdFx0XHRpZihjaGVjaykge1xuXHRcblx0XHRcdFx0XHR2YXIgeG1saHR0cD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0XHR4bWxodHRwLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIG9iaiA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHRcdFx0aWYob2JqLnJlc3VsdCA9PT0gJ3N1Y2Nlc3MnKSB7XG5cdFx0XHRcdFx0XHRcdGlmKG9iai5zdWJiZWQgPT0gZmFsc2UpIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgJ3Byb2ZpbGVJZCc6IFwiXCIgfSk7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKG9iai5zdWJiZWQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdHhtbGh0dHAub3BlbihcIkdFVFwiLCAnaHR0cHM6Ly93d3cuaXNwZWVjaC5vcmcvc2VydmljZXMvc2Vsc3BlYWsvY2hlY2s/cHJvZmlsZV9pZD0nICsgdmFsdWUucHJvZmlsZUlkKTtcblx0XHRcdFx0XHR4bWxodHRwLnNlbmQoKTtcblx0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjayhmYWxzZSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuU3RvcmFnZS5nZXRGYXJtQ291bnQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbJ2Zhcm1lZENvdW50J10sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodHlwZW9mKHZhbHVlLmZhcm1lZENvdW50KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhbHVlLmZhcm1lZENvdW50ID0gMDtcblx0XHR9XG5cdFx0Y2FsbGJhY2sodmFsdWUuZmFybWVkQ291bnQpO1xuXHR9KTtcbn1cblxuU3RvcmFnZS5pbmNyZW1lbnRGYXJtQ291bnQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbJ2Zhcm1lZENvdW50J10sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodHlwZW9mKHZhbHVlLmZhcm1lZENvdW50KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhbHVlLmZhcm1lZENvdW50ID0gMDtcblx0XHR9XG5cdFx0dmFsdWUuZmFybWVkQ291bnQrKztcblx0XHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh2YWx1ZSk7XG5cdFx0aWYoISFjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrKHZhbHVlLmZhcm1lZENvdW50KTtcblx0fSk7XG59XG5cblN0b3JhZ2Uuc2V0UHJvUGVyaW9kID0gZnVuY3Rpb24oZGF5cykge1xuXHR2YXIgZW5kRGF0ZSA9IERhdGUudG9kYXkoKS5hZGQoZGF5cykuZGF5cygpO1xuXHRcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1xuXHRcdHByb1BlcmlvZDogZW5kRGF0ZS50b0RhdGVTdHJpbmcoKSxcblx0fSk7XG59XG5cblN0b3JhZ2UuaW5Qcm9QZXJpb2QgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJwcm9QZXJpb2RcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0dmFyIHByb0VuZCA9IERhdGUucGFyc2UodmFsdWUucHJvUGVyaW9kKTtcblx0XHRcblx0XHRpZihwcm9FbmQgPT0gbnVsbCkge1xuXHRcdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRjYWxsYmFjayhEYXRlLnRvZGF5KCkuY29tcGFyZVRvKHByb0VuZCkgPD0gMCk7XG5cdH0pO1xufVxuXG5TdG9yYWdlLnNldEZhcm1pbmdVc2VkID0gZnVuY3Rpb24oKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtcblx0XHRmYXJtaW5nVXNlZDogdHJ1ZVxuXHR9KTtcbn1cblxuU3RvcmFnZS5nZXRGYXJtaW5nVXNlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFtcImZhcm1pbmdVc2VkXCJdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmKHR5cGVvZih2YWx1ZS5mYXJtaW5nVXNlZCkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR2YWx1ZS5mYXJtaW5nVXNlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRjYWxsYmFjayh2YWx1ZS5mYXJtaW5nVXNlZCk7XG5cdH0pO1xufVxuXG5TdG9yYWdlLnNldEVkdWNhdGlvbktleSA9IGZ1bmN0aW9uKGtleSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7XG5cdFx0ZWR1Y2F0aW9uS2V5OiBrZXlcblx0fSk7XG59XG5cblN0b3JhZ2UuZ2V0RWR1Y2F0aW9uS2V5ID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoW1wiZWR1Y2F0aW9uS2V5XCJdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmKHR5cGVvZih2YWx1ZS5lZHVjYXRpb25LZXkpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dmFsdWUuZWR1Y2F0aW9uS2V5ID0gXCJcIjtcblx0XHR9XG5cdFx0Y2FsbGJhY2sodmFsdWUuZWR1Y2F0aW9uS2V5KTtcblx0fSk7XG59XG5cblN0b3JhZ2UuZW1haWxTdWJtaXR0ZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJlbWFpbFN1Ym1pdHRlZFwiXSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRpZih0eXBlb2YodmFsdWUuZW1haWxTdWJtaXR0ZWQpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dmFsdWUuZW1haWxTdWJtaXR0ZWQgPSBmYWxzZTtcblx0XHR9XG5cdFx0Y2FsbGJhY2sodmFsdWUuZW1haWxTdWJtaXR0ZWQpO1xuXHR9KTtcbn1cblxuU3RvcmFnZS5zZXRFbWFpbFN1Ym1pdHRlZCA9IGZ1bmN0aW9uKCkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7XG5cdFx0ZW1haWxTdWJtaXR0ZWQ6IHRydWVcblx0fSk7XG59XG5cblN0b3JhZ2UuZ2V0UGxheUJ1dHRvbiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFtcInBsYXlCdXR0b25cIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodHlwZW9mKHZhbHVlLnBsYXlCdXR0b24pID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dmFsdWUucGxheUJ1dHRvbiA9IHRydWU7XG5cdFx0fVxuXHRcdGNhbGxiYWNrKHZhbHVlLnBsYXlCdXR0b24pO1xuXHR9KTtcbn1cblxuU3RvcmFnZS5zZXRQbGF5QnV0dG9uID0gZnVuY3Rpb24odmFsdWUpIHtcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1xuXHRcdCdwbGF5QnV0dG9uJzogdmFsdWVcblx0fSk7XG59XG5cblN0b3JhZ2Uuc2V0SG90a2V5RW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtcblx0XHQnaG90a2V5RW5hYmxlZCc6IHZhbHVlXG5cdH0pO1xufVxuXG5TdG9yYWdlLmdldEhvdGtleUVuYWJsZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJob3RrZXlFbmFibGVkXCJdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmKHR5cGVvZih2YWx1ZS5ob3RrZXlFbmFibGVkKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhbHVlLmhvdGtleUVuYWJsZWQgPSB0cnVlO1xuXHRcdH1cblx0XHRjYWxsYmFjayh2YWx1ZS5ob3RrZXlFbmFibGVkKTtcblx0fSk7XG59XG5cblN0b3JhZ2Uuc2V0SG90a2V5ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1xuXHRcdCdob3RrZXknOiB2YWx1ZVxuXHR9KTtcbn1cblxuU3RvcmFnZS5nZXRIb3RrZXkgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJob3RrZXlcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodHlwZW9mKHZhbHVlLmhvdGtleSkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR2YWx1ZS5ob3RrZXkgPSBcImN0cmwgKyBzaGlmdCArIDgzXCI7XG5cdFx0fVxuXHRcdGNhbGxiYWNrKHZhbHVlLmhvdGtleSk7XG5cdH0pO1xufVxuXG5TdG9yYWdlLmdldEhvdGtleUlmRW5hYmxlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFtcImhvdGtleUVuYWJsZWRcIiwgXCJob3RrZXlcIl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYodHlwZW9mKHZhbHVlLmhvdGtleUVuYWJsZWQpID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YodmFsdWUuaG90a2V5KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdGNhbGxiYWNrKFwiXCIpO1xuXHRcdH0gZWxzZSBpZih2YWx1ZS5ob3RrZXlFbmFibGVkKSB7XG5cdFx0XHRjYWxsYmFjayh2YWx1ZS5ob3RrZXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjayhcIlwiKTtcblx0XHR9XG5cdH0pO1xufVxuXG5TdG9yYWdlLnNob3VsZFNob3dQb3BVbmRlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soZmFsc2UpO1xufVxuXG5TdG9yYWdlLnNldFBvcFVuZGVyU2hvd24gPSBmdW5jdGlvbigpIHtcblx0XG5cdHZhciBlbmREYXRlID0gRGF0ZS5ub3coKS5hZGQoMSkuZGF5cygpO1xuXHRcblx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1xuXHRcdG5leHRQb3BVbmRlcjogZW5kRGF0ZS50b1N0cmluZyhTdG9yYWdlLmRhdGVGb3JtYXQpXG5cdH0pO1xufVxuXG5TdG9yYWdlLmxvZyA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KGlucHV0LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGNvbnNvbGUubG9nKHZhbHVlKTtcblx0fSk7XG59XG5cblN0b3JhZ2UuZW1wdHlXb3JkcyA9IGZ1bmN0aW9uKCkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7XG5cdFx0XCJ3b3Jkc0xlZnRcIjogMFxuXHR9KTtcbn1cblxuU3RvcmFnZS5jbGVhbkluc3RhbGwgPSBmdW5jdGlvbigpIHtcblx0d2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmNsZWFyKGZ1bmN0aW9uKCkge1xuXHRcdGNocm9tZS5ydW50aW1lLnJlbG9hZCgpO1xuXHR9KTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3NlbGVjdC1hbmQtc3BlYWsvc3RvcmFnZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")},20:function(module,exports){eval('\nvar sku_sub = \'sepak_sub\';\nvar sku_sub_monthly = sku_sub + \'_monthly\';\nvar sku_sub_yearly = sku_sub + \'_yearly\';\nvar purchase_sku = sku_sub;\n\nvar paypal_server = \'https://www.ispeech.org/services/selspeak/subscribe\';\n// var paypal_server = \'http://localhost/paypal.php\';\n\nbuy = function buy(sku, onPurchase, onPurchaseFail) {\n\tgoogle.payments.inapp.buy({\n\t\t\'parameters\': { \'env\': \'prod\' },\n\t\t\'sku\': sku,\n\t\t\'success\': onPurchase,\n\t\t\'failure\': onPurchaseFail\n\t});\n};\n\nisSubbed = function isSubbed(callback) {\n\t// callback(true); return;\n\tif (window.isFreeMode) {\n\t\tcallback(true);\n\t\treturn;\n\t}\n\tisPurchased(sku_sub, function (subbed) {\n\t\tif (subbed) {\n\t\t\tcallback(true);\n\t\t} else {\n\t\t\tStorage.hasValidPaypal(function (paypalValid) {\n\t\t\t\tif (paypalValid) {\n\t\t\t\t\tcallback(true);\n\t\t\t\t} else {\n\t\t\t\t\thasProFromEducation(function (educationValid) {\n\t\t\t\t\t\tif (educationValid) {\n\t\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tStorage.inProPeriod(callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n};\n\nisPurchased = function isPurchased(sku, callback) {\n\n\tvar onLicenseUpdate = function onLicenseUpdate(response) {\n\t\tvar licenses = response.response.details;\n\t\tvar count = licenses.length;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tvar license = licenses[i];\n\n\t\t\tif (license.sku.startsWith(sku) && license.state === "ACTIVE") {\n\t\t\t\tcallback(true);\n\t\t\t\tfound = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!found) {\n\t\t\tcallback(false);\n\t\t}\n\t};\n\n\tvar onLicenseUpdateFail = function onLicenseUpdateFail() {\n\t\tcallback(false);\n\t};\n\n\tgoogle.payments.inapp.getPurchases({\n\t\t\'parameters\': { env: "prod" },\n\t\t\'success\': onLicenseUpdate,\n\t\t\'failure\': onLicenseUpdateFail\n\t});\n};\n\nstartPaypal = function startPaypal(sub_type) {\n\t//   var desc = chrome.i18n.getMessage("free_trial") + " - " + chrome.i18n.getMessage(sub_type + "_desc");\n\tvar desc = chrome.i18n.getMessage(sub_type + "_desc");\n\twindow.open(paypal_server + \'?step=start&sub_type=\' + sub_type + \'&sub_desc=\' + encodeURI(desc)).focus();\n};\n\nstartBuy = function startBuy(logFunc, sku) {\n\n\tif (typeof sku === \'undefined\') {\n\t\tsku = purchase_sku;\n\t}\n\n\tlogFunc(\'general\', \'sub_started\');\n\n\tbuy(sku, function () {\n\t\tshowSubConf();\n\t\t// document.getElementById(\'subButton\').innerHTML = "Subscribed!";\n\t\tlogFunc(\'general\', \'subAdded\');\n\t}, function () {\n\t\tlogFunc(\'general\', \'subFailed\');\n\t});\n};\n\nopenOptions = function openOptions(showBox) {\n\n\tif (typeof showBox === \'undefined\') {\n\t\tshowBox = true;\n\t}\n\n\tvar optionsUrl = chrome.extension.getURL(\'options.html?\');\n\toptionsUrl += showBox ? "canceled" : "";\n\tvar optionsWindow = window.open(optionsUrl);\n};\n\nopenEdu = function openEdu() {\n\twindow.open(chrome.extension.getURL(\'options.html?step=edu\'));\n};\n\nactivatePaypal = function activatePaypal(profile_id, callback) {\n\tcallback = callback || function () {};\n\n\tisSubbed(function (valid) {\n\t\tif (valid) {\n\t\t\tcallback(true);\n\t\t\treturn;\n\t\t} else {\n\t\t\tvar xml = new XMLHttpRequest();\n\n\t\t\txml.onreadystatechange = function () {\n\t\t\t\tif (xml.readyState == 4 && xml.status == 200) {\n\t\t\t\t\tvar response = JSON.parse(xml.responseText);\n\t\t\t\t\tif (response.result == "success") {\n\t\t\t\t\t\tStorage.storePaypal(profile_id);\n\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t}\n\t\t\t\t} else if (xml.readyState == 4) {\n\t\t\t\t\tcallback(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txml.open("GET", "https://www.ispeech.org/services/selspeak/activate?profile_id=" + profile_id, true);\n\t\t\txml.send();\n\t\t}\n\t});\n};\n\napplyMeta = function applyMeta(metaObj) {\n\n\tif (metaObj.result != \'success\') {\n\t\treturn;\n\t}\n\n\tswitch (metaObj.action) {\n\t\tcase \'subbed\':\n\t\t\t// Storage.storePaypal(metaObj.profile_id);\n\t\t\tactivatePaypal(metaObj.profile_id, function () {\n\t\t\t\twindow.sendMessage("track", { "tag": \'payment\', "msg": \'paypal_added\' });\n\t\t\t\twindow.sendMessage("appView", { "tag": "Subscribed" });\n\t\t\t\twindow.sendMessage("subbed");\n\t\t\t});\n\t\t\tbreak;\n\n\t\tcase \'canceled\':\n\t\t\twindow.sendMessage("track", { "tag": \'payment\', "msg": \'paypal_canceled\' });\n\t\t\twindow.sendMessage("appView", { "tag": "Payment Canceled" });\n\t\t\twindow.sendMessage("sub_canceled");\n\t\t\tbreak;\n\n\t\tcase \'eduCanceled\':\n\t\t\twindow.sendMessage("edu_canceled");\n\t\t\twindow.sendMessage("appView", { "tag": "Edu Payment Canceled" });\n\t\t\tbreak;\n\n\t\tcase \'eduPaid\':\n\t\t\twindow.sendMessage("appView", { "tag": "Edu Paid" });\n\t\t\tbreak;\n\t}\n};\n\nhasProFromEducation = function hasProFromEducation(callback) {\n\tStorage.getEducationKey(function (key) {\n\t\tif (key) {\n\t\t\tStorage.shouldCheck(function (check) {\n\t\t\t\tvalidateEducationKey(key, function (valid) {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tcallback(false);\n\t\t}\n\t});\n};\n\nvar validEducationKey = false;\nvalidateEducationKey = function validateEducationKey(key, callback) {\n\tvar checkTokenRequest = new XMLHttpRequest();\n\n\t//   if(validEducationKey) { callback(validEducationKey); return; }\n\n\tcheckTokenRequest.onreadystatechange = function () {\n\t\tif (checkTokenRequest.readyState == 4) {\n\t\t\tvar response = JSON.parse(checkTokenRequest.responseText);\n\t\t\tvar credits = response.credits;\n\t\t\tvalidEducationKey = typeof credits !== \'undefined\';\n\t\t\tcallback(validEducationKey);\n\t\t}\n\t};\n\n\tcheckTokenRequest.open("GET", "https://api.ispeech.org/api/rest?action=information&output=json&apikey=" + key, true);\n\tcheckTokenRequest.send();\n};\n\nactivateEducationKey = function activateEducationKey(key, callback) {\n\tkey = key || "";\n\n\tif (key.length == 0) {\n\t\tcallback(false);\n\t\treturn;\n\t}\n\n\tStorage.getEducationKey(function (eduKey) {\n\t\tif (eduKey == key) {\n\t\t\tcallback(true);\n\t\t} else {\n\t\t\tvar checkTokenRequest = new XMLHttpRequest();\n\n\t\t\tcheckTokenRequest.onreadystatechange = function () {\n\t\t\t\tif (checkTokenRequest.readyState == 4) {\n\t\t\t\t\tvar response = JSON.parse(checkTokenRequest.responseText);\n\t\t\t\t\tvar credits = response.credits;\n\t\t\t\t\tif (credits > 0) {\n\t\t\t\t\t\tuseEducationKey(key, function (successful) {\n\t\t\t\t\t\t\tif (successful) {\n\t\t\t\t\t\t\t\tStorage.setEducationKey(key);\n\t\t\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tcheckTokenRequest.open("GET", "https://api.ispeech.org/api/rest?action=information&output=json&apikey=" + key, true);\n\t\t\tcheckTokenRequest.send();\n\t\t}\n\t});\n};\n\nuseEducationKey = function useEducationKey(key, callback) {\n\tvar checkTokenRequest = new XMLHttpRequest();\n\n\tcheckTokenRequest.onreadystatechange = function () {\n\t\tif (checkTokenRequest.readyState == 2) {\n\t\t\tvar successful = checkTokenRequest.getResponseHeader(\'Content-Type\').startsWith(\'audio\');\n\t\t\tcallback(successful);\n\t\t}\n\t};\n\n\tcheckTokenRequest.open("GET", "https://api.ispeech.org/api/rest?action=convert&text=something&voice=voice&apikey=" + key, true);\n\tcheckTokenRequest.send();\n};\n\ndoPopUnder = function doPopUnder(tabs) {\n\tif (typeof tabs === "string") tabs = [tabs];\n\tchrome.tabs.query({ active: true, currentWindow: true }, function (arrayOfTabs) {\n\t\tvar activeTab = arrayOfTabs[0];\n\t\tvar activeTabId = arrayOfTabs[0].id;\n\n\t\tfor (var i = 0; i < tabs.length; i++) {\n\t\t\twindow.open(tabs[i]);\n\t\t}\n\t\tsetTimeout(function () {\n\t\t\tchrome.tabs.update(activeTabId, { selected: true });\n\t\t}, 0);\n\t});\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL2J1eVV0aWxzLmpzP2NmMDEiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgc2t1X3N1YiA9ICdzZXBha19zdWInO1xudmFyIHNrdV9zdWJfbW9udGhseSA9IHNrdV9zdWIgKyAnX21vbnRobHknO1xudmFyIHNrdV9zdWJfeWVhcmx5ID0gc2t1X3N1YiArICdfeWVhcmx5JztcbnZhciBwdXJjaGFzZV9za3UgPSBza3Vfc3ViO1xuXG52YXIgcGF5cGFsX3NlcnZlciA9ICdodHRwczovL3d3dy5pc3BlZWNoLm9yZy9zZXJ2aWNlcy9zZWxzcGVhay9zdWJzY3JpYmUnO1xuLy8gdmFyIHBheXBhbF9zZXJ2ZXIgPSAnaHR0cDovL2xvY2FsaG9zdC9wYXlwYWwucGhwJztcblxuYnV5ID0gZnVuY3Rpb24oc2t1LCBvblB1cmNoYXNlLCBvblB1cmNoYXNlRmFpbCkge1xuXHRnb29nbGUucGF5bWVudHMuaW5hcHAuYnV5KHtcblx0XHQncGFyYW1ldGVycyc6IHsnZW52JzogJ3Byb2QnfSxcblx0XHQnc2t1Jzogc2t1LFxuXHRcdCdzdWNjZXNzJzogb25QdXJjaGFzZSxcblx0XHQnZmFpbHVyZSc6IG9uUHVyY2hhc2VGYWlsXG5cdH0pO1xufTtcblxuaXNTdWJiZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHQvLyBjYWxsYmFjayh0cnVlKTsgcmV0dXJuO1xuXHRpZih3aW5kb3cuaXNGcmVlTW9kZSkge1xuXHRcdGNhbGxiYWNrKHRydWUpO1xuXHRcdHJldHVybjtcblx0fVxuXHRpc1B1cmNoYXNlZChza3Vfc3ViLCBmdW5jdGlvbihzdWJiZWQpIHtcblx0XHRpZihzdWJiZWQpIHtcblx0XHRcdGNhbGxiYWNrKHRydWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRTdG9yYWdlLmhhc1ZhbGlkUGF5cGFsKGZ1bmN0aW9uKHBheXBhbFZhbGlkKSB7XG5cdFx0XHRcdGlmKHBheXBhbFZhbGlkKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGFzUHJvRnJvbUVkdWNhdGlvbihmdW5jdGlvbihlZHVjYXRpb25WYWxpZCkge1xuXHRcdFx0XHRcdFx0aWYoZWR1Y2F0aW9uVmFsaWQpIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRTdG9yYWdlLmluUHJvUGVyaW9kKGNhbGxiYWNrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuaXNQdXJjaGFzZWQgPSBmdW5jdGlvbihza3UsIGNhbGxiYWNrKSB7XG5cblx0dmFyIG9uTGljZW5zZVVwZGF0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0dmFyIGxpY2Vuc2VzID0gcmVzcG9uc2UucmVzcG9uc2UuZGV0YWlscztcblx0XHR2YXIgY291bnQgPSBsaWNlbnNlcy5sZW5ndGg7XG5cdFx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0XHR2YXIgbGljZW5zZSA9IGxpY2Vuc2VzW2ldO1xuXG5cdFx0XHRpZihsaWNlbnNlLnNrdS5zdGFydHNXaXRoKHNrdSkgJiYgbGljZW5zZS5zdGF0ZSA9PT0gXCJBQ1RJVkVcIikge1xuXHRcdFx0XHRjYWxsYmFjayh0cnVlKTtcblx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoIWZvdW5kKSB7XG5cdFx0XHRjYWxsYmFjayhmYWxzZSk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBvbkxpY2Vuc2VVcGRhdGVGYWlsID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHR9O1xuXG5cdGdvb2dsZS5wYXltZW50cy5pbmFwcC5nZXRQdXJjaGFzZXMoe1xuXHRcdCdwYXJhbWV0ZXJzJzoge2VudjogXCJwcm9kXCJ9LFxuXHRcdCdzdWNjZXNzJzogb25MaWNlbnNlVXBkYXRlLFxuXHRcdCdmYWlsdXJlJzogb25MaWNlbnNlVXBkYXRlRmFpbFxuXHR9KTtcbn1cblxuc3RhcnRQYXlwYWwgPSBmdW5jdGlvbihzdWJfdHlwZSkge1xuLy8gICB2YXIgZGVzYyA9IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoXCJmcmVlX3RyaWFsXCIpICsgXCIgLSBcIiArIGNocm9tZS5pMThuLmdldE1lc3NhZ2Uoc3ViX3R5cGUgKyBcIl9kZXNjXCIpO1xuXHR2YXIgZGVzYyA9IGNocm9tZS5pMThuLmdldE1lc3NhZ2Uoc3ViX3R5cGUgKyBcIl9kZXNjXCIpO1xuXHR3aW5kb3cub3BlbihwYXlwYWxfc2VydmVyICsgJz9zdGVwPXN0YXJ0JnN1Yl90eXBlPScgKyBzdWJfdHlwZSArICcmc3ViX2Rlc2M9JyArIGVuY29kZVVSSShkZXNjKSkuZm9jdXMoKTtcbn1cblxuc3RhcnRCdXkgPSBmdW5jdGlvbihsb2dGdW5jLCBza3UpIHtcblxuXHRpZih0eXBlb2Ygc2t1ID09PSAndW5kZWZpbmVkJykge1xuXHRcdHNrdSA9IHB1cmNoYXNlX3NrdTtcblx0fVxuXG5cdGxvZ0Z1bmMoJ2dlbmVyYWwnLCAnc3ViX3N0YXJ0ZWQnKTtcblxuXHRidXkoc2t1LCBmdW5jdGlvbigpIHtcblx0XHRzaG93U3ViQ29uZigpO1xuXHRcdC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJCdXR0b24nKS5pbm5lckhUTUwgPSBcIlN1YnNjcmliZWQhXCI7XG5cdFx0bG9nRnVuYygnZ2VuZXJhbCcsICdzdWJBZGRlZCcpO1xuXHR9LCBmdW5jdGlvbigpIHtcblx0XHRsb2dGdW5jKCdnZW5lcmFsJywgJ3N1YkZhaWxlZCcpO1xuXHR9KTtcbn07XG5cbm9wZW5PcHRpb25zID0gZnVuY3Rpb24oc2hvd0JveCkge1xuXG5cdGlmKHR5cGVvZiBzaG93Qm94ID09PSAndW5kZWZpbmVkJykge1xuXHRcdHNob3dCb3ggPSB0cnVlO1xuXHR9XG5cblx0dmFyIG9wdGlvbnNVcmwgPSBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgnb3B0aW9ucy5odG1sPycpO1xuXHRvcHRpb25zVXJsICs9IChzaG93Qm94ID8gXCJjYW5jZWxlZFwiIDogXCJcIik7XG5cdHZhciBvcHRpb25zV2luZG93ID0gd2luZG93Lm9wZW4ob3B0aW9uc1VybCk7XG59O1xuXG5vcGVuRWR1ID0gZnVuY3Rpb24oKSB7XG5cdHdpbmRvdy5vcGVuKGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCdvcHRpb25zLmh0bWw/c3RlcD1lZHUnKSk7XG59XG5cbmFjdGl2YXRlUGF5cGFsID0gZnVuY3Rpb24ocHJvZmlsZV9pZCwgY2FsbGJhY2spIHtcblx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuXG5cdGlzU3ViYmVkKGZ1bmN0aW9uKHZhbGlkKSB7XG5cdFx0aWYodmFsaWQpIHtcblx0XHRcdGNhbGxiYWNrKHRydWUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0XHRcdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYoeG1sLnJlYWR5U3RhdGUgPT0gNCAmJiB4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UoeG1sLnJlc3BvbnNlVGV4dCk7XG5cdFx0XHRcdFx0aWYocmVzcG9uc2UucmVzdWx0ID09IFwic3VjY2Vzc1wiKSB7XG5cdFx0XHRcdFx0XHRTdG9yYWdlLnN0b3JlUGF5cGFsKHByb2ZpbGVfaWQpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZih4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHhtbC5vcGVuKFwiR0VUXCIsIFwiaHR0cHM6Ly93d3cuaXNwZWVjaC5vcmcvc2VydmljZXMvc2Vsc3BlYWsvYWN0aXZhdGU/cHJvZmlsZV9pZD1cIiArIHByb2ZpbGVfaWQsIHRydWUpO1xuXHRcdFx0eG1sLnNlbmQoKTtcblx0XHR9XG5cdH0pO1xufVxuXG5hcHBseU1ldGEgPSBmdW5jdGlvbihtZXRhT2JqKSB7XG5cblx0aWYobWV0YU9iai5yZXN1bHQgIT0gJ3N1Y2Nlc3MnKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0c3dpdGNoKG1ldGFPYmouYWN0aW9uKSB7XG5cdFx0Y2FzZSAnc3ViYmVkJzpcblx0XHRcdC8vIFN0b3JhZ2Uuc3RvcmVQYXlwYWwobWV0YU9iai5wcm9maWxlX2lkKTtcblx0XHRcdGFjdGl2YXRlUGF5cGFsKG1ldGFPYmoucHJvZmlsZV9pZCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcInRyYWNrXCIsIHtcInRhZ1wiOiAncGF5bWVudCcsIFwibXNnXCI6ICAncGF5cGFsX2FkZGVkJ30pO1xuXHRcdFx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhcHBWaWV3XCIsIHtcInRhZ1wiOiBcIlN1YnNjcmliZWRcIn0pO1xuXHRcdFx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJzdWJiZWRcIik7XG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnY2FuY2VsZWQnOlxuXHRcdFx0d2luZG93LnNlbmRNZXNzYWdlKFwidHJhY2tcIiwge1widGFnXCI6ICdwYXltZW50JywgXCJtc2dcIjogICdwYXlwYWxfY2FuY2VsZWQnfSk7XG5cdFx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhcHBWaWV3XCIsIHtcInRhZ1wiOiBcIlBheW1lbnQgQ2FuY2VsZWRcIn0pXG5cdFx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJzdWJfY2FuY2VsZWRcIik7XG5cdFx0XHRicmVhaztcblx0XHRcdFxuXHRcdGNhc2UgJ2VkdUNhbmNlbGVkJzpcblx0XHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImVkdV9jYW5jZWxlZFwiKTtcblx0XHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImFwcFZpZXdcIiwge1widGFnXCI6IFwiRWR1IFBheW1lbnQgQ2FuY2VsZWRcIn0pXG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ2VkdVBhaWQnOlxuXHRcdFx0d2luZG93LnNlbmRNZXNzYWdlKFwiYXBwVmlld1wiLCB7XCJ0YWdcIjogXCJFZHUgUGFpZFwifSk7XG5cdFx0XHRicmVhaztcblx0fVxufVxuXG5oYXNQcm9Gcm9tRWR1Y2F0aW9uID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0U3RvcmFnZS5nZXRFZHVjYXRpb25LZXkoZnVuY3Rpb24oa2V5KSB7XG5cdFx0aWYoa2V5KSB7XG5cdFx0XHRTdG9yYWdlLnNob3VsZENoZWNrKGZ1bmN0aW9uKGNoZWNrKSB7XG5cdFx0XHRcdHZhbGlkYXRlRWR1Y2F0aW9uS2V5KGtleSwgZnVuY3Rpb24odmFsaWQpIHtcblx0XHRcdFx0XHRpZih2YWxpZCkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbGxiYWNrKGZhbHNlKTtcblx0XHR9XG5cdH0pO1xufVxuXG52YXIgdmFsaWRFZHVjYXRpb25LZXkgPSBmYWxzZVxudmFsaWRhdGVFZHVjYXRpb25LZXkgPSBmdW5jdGlvbihrZXksIGNhbGxiYWNrKSB7XG5cdHZhciBjaGVja1Rva2VuUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcbi8vICAgaWYodmFsaWRFZHVjYXRpb25LZXkpIHsgY2FsbGJhY2sodmFsaWRFZHVjYXRpb25LZXkpOyByZXR1cm47IH1cblx0XG5cdGNoZWNrVG9rZW5SZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKGNoZWNrVG9rZW5SZXF1ZXN0LnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0dmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShjaGVja1Rva2VuUmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXHRcdFx0dmFyIGNyZWRpdHMgPSByZXNwb25zZS5jcmVkaXRzO1xuXHRcdFx0dmFsaWRFZHVjYXRpb25LZXkgPSB0eXBlb2YoY3JlZGl0cykgIT09ICd1bmRlZmluZWQnO1xuXHRcdFx0Y2FsbGJhY2sodmFsaWRFZHVjYXRpb25LZXkpO1xuXHRcdH1cblx0fTtcblx0XG5cdGNoZWNrVG9rZW5SZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgXCJodHRwczovL2FwaS5pc3BlZWNoLm9yZy9hcGkvcmVzdD9hY3Rpb249aW5mb3JtYXRpb24mb3V0cHV0PWpzb24mYXBpa2V5PVwiICsga2V5LCB0cnVlKTtcblx0Y2hlY2tUb2tlblJlcXVlc3Quc2VuZCgpO1xufVxuXG5hY3RpdmF0ZUVkdWNhdGlvbktleSA9IGZ1bmN0aW9uKGtleSwgY2FsbGJhY2spIHtcblx0a2V5ID0ga2V5IHx8IFwiXCI7XG5cblx0aWYoa2V5Lmxlbmd0aCA9PSAwKSB7XG5cdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdFN0b3JhZ2UuZ2V0RWR1Y2F0aW9uS2V5KGZ1bmN0aW9uKGVkdUtleSkge1xuXHRcdGlmKGVkdUtleSA9PSBrZXkpIHtcblx0XHRcdGNhbGxiYWNrKHRydWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgY2hlY2tUb2tlblJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFxuXHRcdFx0Y2hlY2tUb2tlblJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKGNoZWNrVG9rZW5SZXF1ZXN0LnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UoY2hlY2tUb2tlblJlcXVlc3QucmVzcG9uc2VUZXh0KTtcblx0XHRcdFx0XHR2YXIgY3JlZGl0cyA9IHJlc3BvbnNlLmNyZWRpdHM7XG5cdFx0XHRcdFx0aWYoY3JlZGl0cyA+IDApIHtcblx0XHRcdFx0XHRcdHVzZUVkdWNhdGlvbktleShrZXksIGZ1bmN0aW9uKHN1Y2Nlc3NmdWwpIHtcblx0XHRcdFx0XHRcdFx0aWYoc3VjY2Vzc2Z1bCkge1xuXHRcdFx0XHRcdFx0XHRcdFN0b3JhZ2Uuc2V0RWR1Y2F0aW9uS2V5KGtleSk7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soZmFsc2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0Y2hlY2tUb2tlblJlcXVlc3Qub3BlbihcIkdFVFwiLCBcImh0dHBzOi8vYXBpLmlzcGVlY2gub3JnL2FwaS9yZXN0P2FjdGlvbj1pbmZvcm1hdGlvbiZvdXRwdXQ9anNvbiZhcGlrZXk9XCIgKyBrZXksIHRydWUpO1xuXHRcdFx0Y2hlY2tUb2tlblJlcXVlc3Quc2VuZCgpO1xuXHRcdH1cblx0fSk7XG59XG5cbnVzZUVkdWNhdGlvbktleSA9IGZ1bmN0aW9uKGtleSwgY2FsbGJhY2spIHtcblx0dmFyIGNoZWNrVG9rZW5SZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHRjaGVja1Rva2VuUmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZihjaGVja1Rva2VuUmVxdWVzdC5yZWFkeVN0YXRlID09IDIpIHtcblx0XHRcdHZhciBzdWNjZXNzZnVsID0gY2hlY2tUb2tlblJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpLnN0YXJ0c1dpdGgoJ2F1ZGlvJyk7XG5cdFx0XHRjYWxsYmFjayhzdWNjZXNzZnVsKTtcblx0XHR9XG5cdH07XG5cdFxuXHRjaGVja1Rva2VuUmVxdWVzdC5vcGVuKFwiR0VUXCIsIFwiaHR0cHM6Ly9hcGkuaXNwZWVjaC5vcmcvYXBpL3Jlc3Q/YWN0aW9uPWNvbnZlcnQmdGV4dD1zb21ldGhpbmcmdm9pY2U9dm9pY2UmYXBpa2V5PVwiICsga2V5LCB0cnVlKTtcblx0Y2hlY2tUb2tlblJlcXVlc3Quc2VuZCgpO1xufVxuXG5kb1BvcFVuZGVyID0gZnVuY3Rpb24odGFicykge1xuXHRpZih0eXBlb2YgdGFicyA9PT0gXCJzdHJpbmdcIikgdGFicyA9IFt0YWJzXTtcblx0Y2hyb21lLnRhYnMucXVlcnkoe2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX0sIGZ1bmN0aW9uKGFycmF5T2ZUYWJzKSB7XG5cdFx0dmFyIGFjdGl2ZVRhYiA9IGFycmF5T2ZUYWJzWzBdO1xuXHRcdHZhciBhY3RpdmVUYWJJZCA9IGFycmF5T2ZUYWJzWzBdLmlkO1xuXHRcblxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0YWJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR3aW5kb3cub3Blbih0YWJzW2ldKTtcblx0XHR9XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdGNocm9tZS50YWJzLnVwZGF0ZShhY3RpdmVUYWJJZCwge3NlbGVjdGVkOiB0cnVlfSk7XG5cdFx0fSwgMCk7XG5cdH0pO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvdXRpbHMvYnV5VXRpbHMuanMiXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},21:function(module,exports){eval('/**\n * Version: 1.0 Alpha-1 \n * Build Date: 13-Nov-2007\n * Copyright (c) 2006-2007, Coolite Inc. (http://www.coolite.com/). All rights reserved.\n * License: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. \n * Website: http://www.datejs.com/ or http://www.coolite.com/datejs/\n */\nDate.CultureInfo = { name: "en-US", englishName: "English (United States)", nativeName: "English (United States)", dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], abbreviatedDayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], shortestDayNames: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], firstLetterDayNames: ["S", "M", "T", "W", "T", "F", "S"], monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], abbreviatedMonthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], amDesignator: "AM", pmDesignator: "PM", firstDayOfWeek: 0, twoDigitYearMax: 2029, dateElementOrder: "mdy", formatPatterns: { shortDate: "M/d/yyyy", longDate: "dddd, MMMM dd, yyyy", shortTime: "h:mm tt", longTime: "h:mm:ss tt", fullDateTime: "dddd, MMMM dd, yyyy h:mm:ss tt", sortableDateTime: "yyyy-MM-ddTHH:mm:ss", universalSortableDateTime: "yyyy-MM-dd HH:mm:ssZ", rfc1123: "ddd, dd MMM yyyy HH:mm:ss GMT", monthDay: "MMMM dd", yearMonth: "MMMM, yyyy" }, regexPatterns: { jan: /^jan(uary)?/i, feb: /^feb(ruary)?/i, mar: /^mar(ch)?/i, apr: /^apr(il)?/i, may: /^may/i, jun: /^jun(e)?/i, jul: /^jul(y)?/i, aug: /^aug(ust)?/i, sep: /^sep(t(ember)?)?/i, oct: /^oct(ober)?/i, nov: /^nov(ember)?/i, dec: /^dec(ember)?/i, sun: /^su(n(day)?)?/i, mon: /^mo(n(day)?)?/i, tue: /^tu(e(s(day)?)?)?/i, wed: /^we(d(nesday)?)?/i, thu: /^th(u(r(s(day)?)?)?)?/i, fri: /^fr(i(day)?)?/i, sat: /^sa(t(urday)?)?/i, future: /^next/i, past: /^last|past|prev(ious)?/i, add: /^(\\+|after|from)/i, subtract: /^(\\-|before|ago)/i, yesterday: /^yesterday/i, today: /^t(oday)?/i, tomorrow: /^tomorrow/i, now: /^n(ow)?/i, millisecond: /^ms|milli(second)?s?/i, second: /^sec(ond)?s?/i, minute: /^min(ute)?s?/i, hour: /^h(ou)?rs?/i, week: /^w(ee)?k/i, month: /^m(o(nth)?s?)?/i, day: /^d(ays?)?/i, year: /^y((ea)?rs?)?/i, shortMeridian: /^(a|p)/i, longMeridian: /^(a\\.?m?\\.?|p\\.?m?\\.?)/i, timezone: /^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt)/i, ordinalSuffix: /^\\s*(st|nd|rd|th)/i, timeContext: /^\\s*(\\:|a|p)/i }, abbreviatedTimeZoneStandard: { GMT: "-000", EST: "-0400", CST: "-0500", MST: "-0600", PST: "-0700" }, abbreviatedTimeZoneDST: { GMT: "-000", EDT: "-0500", CDT: "-0600", MDT: "-0700", PDT: "-0800" } };\nDate.getMonthNumberFromName = function (name) {\n  var n = Date.CultureInfo.monthNames,\n      m = Date.CultureInfo.abbreviatedMonthNames,\n      s = name.toLowerCase();for (var i = 0; i < n.length; i++) {\n    if (n[i].toLowerCase() == s || m[i].toLowerCase() == s) {\n      return i;\n    }\n  }\n  return -1;\n};Date.getDayNumberFromName = function (name) {\n  var n = Date.CultureInfo.dayNames,\n      m = Date.CultureInfo.abbreviatedDayNames,\n      o = Date.CultureInfo.shortestDayNames,\n      s = name.toLowerCase();for (var i = 0; i < n.length; i++) {\n    if (n[i].toLowerCase() == s || m[i].toLowerCase() == s) {\n      return i;\n    }\n  }\n  return -1;\n};Date.isLeapYear = function (year) {\n  return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n};Date.getDaysInMonth = function (year, month) {\n  return [31, Date.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n};Date.getTimezoneOffset = function (s, dst) {\n  return dst || false ? Date.CultureInfo.abbreviatedTimeZoneDST[s.toUpperCase()] : Date.CultureInfo.abbreviatedTimeZoneStandard[s.toUpperCase()];\n};Date.getTimezoneAbbreviation = function (offset, dst) {\n  var n = dst || false ? Date.CultureInfo.abbreviatedTimeZoneDST : Date.CultureInfo.abbreviatedTimeZoneStandard,\n      p;for (p in n) {\n    if (n[p] === offset) {\n      return p;\n    }\n  }\n  return null;\n};Date.prototype.clone = function () {\n  return new Date(this.getTime());\n};Date.prototype.compareTo = function (date) {\n  if (isNaN(this)) {\n    throw new Error(this);\n  }\n  if (date instanceof Date && !isNaN(date)) {\n    return this > date ? 1 : this < date ? -1 : 0;\n  } else {\n    throw new TypeError(date);\n  }\n};Date.prototype.equals = function (date) {\n  return this.compareTo(date) === 0;\n};Date.prototype.between = function (start, end) {\n  var t = this.getTime();return t >= start.getTime() && t <= end.getTime();\n};Date.prototype.addMilliseconds = function (value) {\n  this.setMilliseconds(this.getMilliseconds() + value);return this;\n};Date.prototype.addSeconds = function (value) {\n  return this.addMilliseconds(value * 1000);\n};Date.prototype.addMinutes = function (value) {\n  return this.addMilliseconds(value * 60000);\n};Date.prototype.addHours = function (value) {\n  return this.addMilliseconds(value * 3600000);\n};Date.prototype.addDays = function (value) {\n  return this.addMilliseconds(value * 86400000);\n};Date.prototype.addWeeks = function (value) {\n  return this.addMilliseconds(value * 604800000);\n};Date.prototype.addMonths = function (value) {\n  var n = this.getDate();this.setDate(1);this.setMonth(this.getMonth() + value);this.setDate(Math.min(n, this.getDaysInMonth()));return this;\n};Date.prototype.addYears = function (value) {\n  return this.addMonths(value * 12);\n};Date.prototype.add = function (config) {\n  if (typeof config == "number") {\n    this._orient = config;return this;\n  }\n  var x = config;if (x.millisecond || x.milliseconds) {\n    this.addMilliseconds(x.millisecond || x.milliseconds);\n  }\n  if (x.second || x.seconds) {\n    this.addSeconds(x.second || x.seconds);\n  }\n  if (x.minute || x.minutes) {\n    this.addMinutes(x.minute || x.minutes);\n  }\n  if (x.hour || x.hours) {\n    this.addHours(x.hour || x.hours);\n  }\n  if (x.month || x.months) {\n    this.addMonths(x.month || x.months);\n  }\n  if (x.year || x.years) {\n    this.addYears(x.year || x.years);\n  }\n  if (x.day || x.days) {\n    this.addDays(x.day || x.days);\n  }\n  return this;\n};Date._validate = function (value, min, max, name) {\n  if (typeof value != "number") {\n    throw new TypeError(value + " is not a Number.");\n  } else if (value < min || value > max) {\n    throw new RangeError(value + " is not a valid value for " + name + ".");\n  }\n  return true;\n};Date.validateMillisecond = function (n) {\n  return Date._validate(n, 0, 999, "milliseconds");\n};Date.validateSecond = function (n) {\n  return Date._validate(n, 0, 59, "seconds");\n};Date.validateMinute = function (n) {\n  return Date._validate(n, 0, 59, "minutes");\n};Date.validateHour = function (n) {\n  return Date._validate(n, 0, 23, "hours");\n};Date.validateDay = function (n, year, month) {\n  return Date._validate(n, 1, Date.getDaysInMonth(year, month), "days");\n};Date.validateMonth = function (n) {\n  return Date._validate(n, 0, 11, "months");\n};Date.validateYear = function (n) {\n  return Date._validate(n, 1, 9999, "seconds");\n};Date.prototype.set = function (config) {\n  var x = config;if (!x.millisecond && x.millisecond !== 0) {\n    x.millisecond = -1;\n  }\n  if (!x.second && x.second !== 0) {\n    x.second = -1;\n  }\n  if (!x.minute && x.minute !== 0) {\n    x.minute = -1;\n  }\n  if (!x.hour && x.hour !== 0) {\n    x.hour = -1;\n  }\n  if (!x.day && x.day !== 0) {\n    x.day = -1;\n  }\n  if (!x.month && x.month !== 0) {\n    x.month = -1;\n  }\n  if (!x.year && x.year !== 0) {\n    x.year = -1;\n  }\n  if (x.millisecond != -1 && Date.validateMillisecond(x.millisecond)) {\n    this.addMilliseconds(x.millisecond - this.getMilliseconds());\n  }\n  if (x.second != -1 && Date.validateSecond(x.second)) {\n    this.addSeconds(x.second - this.getSeconds());\n  }\n  if (x.minute != -1 && Date.validateMinute(x.minute)) {\n    this.addMinutes(x.minute - this.getMinutes());\n  }\n  if (x.hour != -1 && Date.validateHour(x.hour)) {\n    this.addHours(x.hour - this.getHours());\n  }\n  if (x.month !== -1 && Date.validateMonth(x.month)) {\n    this.addMonths(x.month - this.getMonth());\n  }\n  if (x.year != -1 && Date.validateYear(x.year)) {\n    this.addYears(x.year - this.getFullYear());\n  }\n  if (x.day != -1 && Date.validateDay(x.day, this.getFullYear(), this.getMonth())) {\n    this.addDays(x.day - this.getDate());\n  }\n  if (x.timezone) {\n    this.setTimezone(x.timezone);\n  }\n  if (x.timezoneOffset) {\n    this.setTimezoneOffset(x.timezoneOffset);\n  }\n  return this;\n};Date.prototype.clearTime = function () {\n  this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;\n};Date.prototype.isLeapYear = function () {\n  var y = this.getFullYear();return y % 4 === 0 && y % 100 !== 0 || y % 400 === 0;\n};Date.prototype.isWeekday = function () {\n  return !(this.is().sat() || this.is().sun());\n};Date.prototype.getDaysInMonth = function () {\n  return Date.getDaysInMonth(this.getFullYear(), this.getMonth());\n};Date.prototype.moveToFirstDayOfMonth = function () {\n  return this.set({ day: 1 });\n};Date.prototype.moveToLastDayOfMonth = function () {\n  return this.set({ day: this.getDaysInMonth() });\n};Date.prototype.moveToDayOfWeek = function (day, orient) {\n  var diff = (day - this.getDay() + 7 * (orient || +1)) % 7;return this.addDays(diff === 0 ? diff += 7 * (orient || +1) : diff);\n};Date.prototype.moveToMonth = function (month, orient) {\n  var diff = (month - this.getMonth() + 12 * (orient || +1)) % 12;return this.addMonths(diff === 0 ? diff += 12 * (orient || +1) : diff);\n};Date.prototype.getDayOfYear = function () {\n  return Math.floor((this - new Date(this.getFullYear(), 0, 1)) / 86400000);\n};Date.prototype.getWeekOfYear = function (firstDayOfWeek) {\n  var y = this.getFullYear(),\n      m = this.getMonth(),\n      d = this.getDate();var dow = firstDayOfWeek || Date.CultureInfo.firstDayOfWeek;var offset = 7 + 1 - new Date(y, 0, 1).getDay();if (offset == 8) {\n    offset = 1;\n  }\n  var daynum = (Date.UTC(y, m, d, 0, 0, 0) - Date.UTC(y, 0, 1, 0, 0, 0)) / 86400000 + 1;var w = Math.floor((daynum - offset + 7) / 7);if (w === dow) {\n    y--;var prevOffset = 7 + 1 - new Date(y, 0, 1).getDay();if (prevOffset == 2 || prevOffset == 8) {\n      w = 53;\n    } else {\n      w = 52;\n    }\n  }\n  return w;\n};Date.prototype.isDST = function () {\n  console.log(\'isDST\');return this.toString().match(/(E|C|M|P)(S|D)T/)[2] == "D";\n};Date.prototype.getTimezone = function () {\n  return Date.getTimezoneAbbreviation(this.getUTCOffset, this.isDST());\n};Date.prototype.setTimezoneOffset = function (s) {\n  var here = this.getTimezoneOffset(),\n      there = Number(s) * -6 / 10;this.addMinutes(there - here);return this;\n};Date.prototype.setTimezone = function (s) {\n  return this.setTimezoneOffset(Date.getTimezoneOffset(s));\n};Date.prototype.getUTCOffset = function () {\n  var n = this.getTimezoneOffset() * -10 / 6,\n      r;if (n < 0) {\n    r = (n - 10000).toString();return r[0] + r.substr(2);\n  } else {\n    r = (n + 10000).toString();return "+" + r.substr(1);\n  }\n};Date.prototype.getDayName = function (abbrev) {\n  return abbrev ? Date.CultureInfo.abbreviatedDayNames[this.getDay()] : Date.CultureInfo.dayNames[this.getDay()];\n};Date.prototype.getMonthName = function (abbrev) {\n  return abbrev ? Date.CultureInfo.abbreviatedMonthNames[this.getMonth()] : Date.CultureInfo.monthNames[this.getMonth()];\n};Date.prototype._toString = Date.prototype.toString;Date.prototype.toString = function (format) {\n  var self = this;var p = function p(s) {\n    return s.toString().length == 1 ? "0" + s : s;\n  };return format ? format.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g, function (format) {\n    switch (format) {case "hh":\n        return p(self.getHours() < 13 ? self.getHours() : self.getHours() - 12);case "h":\n        return self.getHours() < 13 ? self.getHours() : self.getHours() - 12;case "HH":\n        return p(self.getHours());case "H":\n        return self.getHours();case "mm":\n        return p(self.getMinutes());case "m":\n        return self.getMinutes();case "ss":\n        return p(self.getSeconds());case "s":\n        return self.getSeconds();case "yyyy":\n        return self.getFullYear();case "yy":\n        return self.getFullYear().toString().substring(2, 4);case "dddd":\n        return self.getDayName();case "ddd":\n        return self.getDayName(true);case "dd":\n        return p(self.getDate());case "d":\n        return self.getDate().toString();case "MMMM":\n        return self.getMonthName();case "MMM":\n        return self.getMonthName(true);case "MM":\n        return p(self.getMonth() + 1);case "M":\n        return self.getMonth() + 1;case "t":\n        return self.getHours() < 12 ? Date.CultureInfo.amDesignator.substring(0, 1) : Date.CultureInfo.pmDesignator.substring(0, 1);case "tt":\n        return self.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":\n        return "";}\n  }) : this._toString();\n};\nDate.now = function () {\n  return new Date();\n};Date.today = function () {\n  return Date.now().clearTime();\n};Date.prototype._orient = +1;Date.prototype.next = function () {\n  this._orient = +1;return this;\n};Date.prototype.last = Date.prototype.prev = Date.prototype.previous = function () {\n  this._orient = -1;return this;\n};Date.prototype._is = false;Date.prototype.is = function () {\n  this._is = true;return this;\n};Number.prototype._dateElement = "day";Number.prototype.fromNow = function () {\n  var c = {};c[this._dateElement] = this;return Date.now().add(c);\n};Number.prototype.ago = function () {\n  var c = {};c[this._dateElement] = this * -1;return Date.now().add(c);\n};(function () {\n  var $D = Date.prototype,\n      $N = Number.prototype;var dx = "sunday monday tuesday wednesday thursday friday saturday".split(/\\s/),\n      mx = "january february march april may june july august september october november december".split(/\\s/),\n      px = "Millisecond Second Minute Hour Day Week Month Year".split(/\\s/),\n      de;var df = function df(n) {\n    return function () {\n      if (this._is) {\n        this._is = false;return this.getDay() == n;\n      }\n      return this.moveToDayOfWeek(n, this._orient);\n    };\n  };for (var i = 0; i < dx.length; i++) {\n    $D[dx[i]] = $D[dx[i].substring(0, 3)] = df(i);\n  }\n  var mf = function mf(n) {\n    return function () {\n      if (this._is) {\n        this._is = false;return this.getMonth() === n;\n      }\n      return this.moveToMonth(n, this._orient);\n    };\n  };for (var j = 0; j < mx.length; j++) {\n    $D[mx[j]] = $D[mx[j].substring(0, 3)] = mf(j);\n  }\n  var ef = function ef(j) {\n    return function () {\n      if (j.substring(j.length - 1) != "s") {\n        j += "s";\n      }\n      return this["add" + j](this._orient);\n    };\n  };var nf = function nf(n) {\n    return function () {\n      this._dateElement = n;return this;\n    };\n  };for (var k = 0; k < px.length; k++) {\n    de = px[k].toLowerCase();$D[de] = $D[de + "s"] = ef(px[k]);$N[de] = $N[de + "s"] = nf(de);\n  }\n})();Date.prototype.toJSONString = function () {\n  return this.toString("yyyy-MM-ddThh:mm:ssZ");\n};Date.prototype.toShortDateString = function () {\n  return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern);\n};Date.prototype.toLongDateString = function () {\n  return this.toString(Date.CultureInfo.formatPatterns.longDatePattern);\n};Date.prototype.toShortTimeString = function () {\n  return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern);\n};Date.prototype.toLongTimeString = function () {\n  return this.toString(Date.CultureInfo.formatPatterns.longTimePattern);\n};Date.prototype.getOrdinal = function () {\n  switch (this.getDate()) {case 1:case 21:case 31:\n      return "st";case 2:case 22:\n      return "nd";case 3:case 23:\n      return "rd";default:\n      return "th";}\n};\n(function () {\n  Date.Parsing = { Exception: function Exception(s) {\n      this.message = "Parse error at \'" + s.substring(0, 10) + " ...\'";\n    } };var $P = Date.Parsing;var _ = $P.Operators = { rtoken: function rtoken(r) {\n      return function (s) {\n        var mx = s.match(r);if (mx) {\n          return [mx[0], s.substring(mx[0].length)];\n        } else {\n          throw new $P.Exception(s);\n        }\n      };\n    }, token: function token(s) {\n      return function (s) {\n        return _.rtoken(new RegExp("^\\s*" + s + "\\s*"))(s);\n      };\n    }, stoken: function stoken(s) {\n      return _.rtoken(new RegExp("^" + s));\n    }, until: function until(p) {\n      return function (s) {\n        var qx = [],\n            rx = null;while (s.length) {\n          try {\n            rx = p.call(this, s);\n          } catch (e) {\n            qx.push(rx[0]);s = rx[1];continue;\n          }\n          break;\n        }\n        return [qx, s];\n      };\n    }, many: function many(p) {\n      return function (s) {\n        var rx = [],\n            r = null;while (s.length) {\n          try {\n            r = p.call(this, s);\n          } catch (e) {\n            return [rx, s];\n          }\n          rx.push(r[0]);s = r[1];\n        }\n        return [rx, s];\n      };\n    }, optional: function optional(p) {\n      return function (s) {\n        var r = null;try {\n          r = p.call(this, s);\n        } catch (e) {\n          return [null, s];\n        }\n        return [r[0], r[1]];\n      };\n    }, not: function not(p) {\n      return function (s) {\n        try {\n          p.call(this, s);\n        } catch (e) {\n          return [null, s];\n        }\n        throw new $P.Exception(s);\n      };\n    }, ignore: function ignore(p) {\n      return p ? function (s) {\n        var r = null;r = p.call(this, s);return [null, r[1]];\n      } : null;\n    }, product: function product() {\n      var px = arguments[0],\n          qx = Array.prototype.slice.call(arguments, 1),\n          rx = [];for (var i = 0; i < px.length; i++) {\n        rx.push(_.each(px[i], qx));\n      }\n      return rx;\n    }, cache: function cache(rule) {\n      var cache = {},\n          r = null;return function (s) {\n        try {\n          r = cache[s] = cache[s] || rule.call(this, s);\n        } catch (e) {\n          r = cache[s] = e;\n        }\n        if (r instanceof $P.Exception) {\n          throw r;\n        } else {\n          return r;\n        }\n      };\n    }, any: function any() {\n      var px = arguments;return function (s) {\n        var r = null;for (var i = 0; i < px.length; i++) {\n          if (px[i] == null) {\n            continue;\n          }\n          try {\n            r = px[i].call(this, s);\n          } catch (e) {\n            r = null;\n          }\n          if (r) {\n            return r;\n          }\n        }\n        throw new $P.Exception(s);\n      };\n    }, each: function each() {\n      var px = arguments;return function (s) {\n        var rx = [],\n            r = null;for (var i = 0; i < px.length; i++) {\n          if (px[i] == null) {\n            continue;\n          }\n          try {\n            r = px[i].call(this, s);\n          } catch (e) {\n            throw new $P.Exception(s);\n          }\n          rx.push(r[0]);s = r[1];\n        }\n        return [rx, s];\n      };\n    }, all: function all() {\n      var px = arguments,\n          _ = _;return _.each(_.optional(px));\n    }, sequence: function sequence(px, d, c) {\n      d = d || _.rtoken(/^\\s*/);c = c || null;if (px.length == 1) {\n        return px[0];\n      }\n      return function (s) {\n        var r = null,\n            q = null;var rx = [];for (var i = 0; i < px.length; i++) {\n          try {\n            r = px[i].call(this, s);\n          } catch (e) {\n            break;\n          }\n          rx.push(r[0]);try {\n            q = d.call(this, r[1]);\n          } catch (ex) {\n            q = null;break;\n          }\n          s = q[1];\n        }\n        if (!r) {\n          throw new $P.Exception(s);\n        }\n        if (q) {\n          throw new $P.Exception(q[1]);\n        }\n        if (c) {\n          try {\n            r = c.call(this, r[1]);\n          } catch (ey) {\n            throw new $P.Exception(r[1]);\n          }\n        }\n        return [rx, r ? r[1] : s];\n      };\n    }, between: function between(d1, p, d2) {\n      d2 = d2 || d1;var _fn = _.each(_.ignore(d1), p, _.ignore(d2));return function (s) {\n        var rx = _fn.call(this, s);return [[rx[0][0], r[0][2]], rx[1]];\n      };\n    }, list: function list(p, d, c) {\n      d = d || _.rtoken(/^\\s*/);c = c || null;return p instanceof Array ? _.each(_.product(p.slice(0, -1), _.ignore(d)), p.slice(-1), _.ignore(c)) : _.each(_.many(_.each(p, _.ignore(d))), px, _.ignore(c));\n    }, set: function set(px, d, c) {\n      d = d || _.rtoken(/^\\s*/);c = c || null;return function (s) {\n        var r = null,\n            p = null,\n            q = null,\n            rx = null,\n            best = [[], s],\n            last = false;for (var i = 0; i < px.length; i++) {\n          q = null;p = null;r = null;last = px.length == 1;try {\n            r = px[i].call(this, s);\n          } catch (e) {\n            continue;\n          }\n          rx = [[r[0]], r[1]];if (r[1].length > 0 && !last) {\n            try {\n              q = d.call(this, r[1]);\n            } catch (ex) {\n              last = true;\n            }\n          } else {\n            last = true;\n          }\n          if (!last && q[1].length === 0) {\n            last = true;\n          }\n          if (!last) {\n            var qx = [];for (var j = 0; j < px.length; j++) {\n              if (i != j) {\n                qx.push(px[j]);\n              }\n            }\n            p = _.set(qx, d).call(this, q[1]);if (p[0].length > 0) {\n              rx[0] = rx[0].concat(p[0]);rx[1] = p[1];\n            }\n          }\n          if (rx[1].length < best[1].length) {\n            best = rx;\n          }\n          if (best[1].length === 0) {\n            break;\n          }\n        }\n        if (best[0].length === 0) {\n          return best;\n        }\n        if (c) {\n          try {\n            q = c.call(this, best[1]);\n          } catch (ey) {\n            throw new $P.Exception(best[1]);\n          }\n          best[1] = q[1];\n        }\n        return best;\n      };\n    }, forward: function forward(gr, fname) {\n      return function (s) {\n        return gr[fname].call(this, s);\n      };\n    }, replace: function replace(rule, repl) {\n      return function (s) {\n        var r = rule.call(this, s);return [repl, r[1]];\n      };\n    }, process: function process(rule, fn) {\n      return function (s) {\n        var r = rule.call(this, s);return [fn.call(this, r[0]), r[1]];\n      };\n    }, min: function min(_min, rule) {\n      return function (s) {\n        var rx = rule.call(this, s);if (rx[0].length < _min) {\n          throw new $P.Exception(s);\n        }\n        return rx;\n      };\n    } };var _generator = function _generator(op) {\n    return function () {\n      var args = null,\n          rx = [];if (arguments.length > 1) {\n        args = Array.prototype.slice.call(arguments);\n      } else if (arguments[0] instanceof Array) {\n        args = arguments[0];\n      }\n      if (args) {\n        for (var i = 0, px = args.shift(); i < px.length; i++) {\n          args.unshift(px[i]);rx.push(op.apply(null, args));args.shift();return rx;\n        }\n      } else {\n        return op.apply(null, arguments);\n      }\n    };\n  };var gx = "optional not ignore cache".split(/\\s/);for (var i = 0; i < gx.length; i++) {\n    _[gx[i]] = _generator(_[gx[i]]);\n  }\n  var _vector = function _vector(op) {\n    return function () {\n      if (arguments[0] instanceof Array) {\n        return op.apply(null, arguments[0]);\n      } else {\n        return op.apply(null, arguments);\n      }\n    };\n  };var vx = "each any all".split(/\\s/);for (var j = 0; j < vx.length; j++) {\n    _[vx[j]] = _vector(_[vx[j]]);\n  }\n})();(function () {\n  var flattenAndCompact = function flattenAndCompact(ax) {\n    var rx = [];for (var i = 0; i < ax.length; i++) {\n      if (ax[i] instanceof Array) {\n        rx = rx.concat(flattenAndCompact(ax[i]));\n      } else {\n        if (ax[i]) {\n          rx.push(ax[i]);\n        }\n      }\n    }\n    return rx;\n  };Date.Grammar = {};Date.Translator = { hour: function hour(s) {\n      return function () {\n        this.hour = Number(s);\n      };\n    }, minute: function minute(s) {\n      return function () {\n        this.minute = Number(s);\n      };\n    }, second: function second(s) {\n      return function () {\n        this.second = Number(s);\n      };\n    }, meridian: function meridian(s) {\n      return function () {\n        this.meridian = s.slice(0, 1).toLowerCase();\n      };\n    }, timezone: function timezone(s) {\n      return function () {\n        var n = s.replace(/[^\\d\\+\\-]/g, "");if (n.length) {\n          this.timezoneOffset = Number(n);\n        } else {\n          this.timezone = s.toLowerCase();\n        }\n      };\n    }, day: function day(x) {\n      var s = x[0];return function () {\n        this.day = Number(s.match(/\\d+/)[0]);\n      };\n    }, month: function month(s) {\n      return function () {\n        this.month = s.length == 3 ? Date.getMonthNumberFromName(s) : Number(s) - 1;\n      };\n    }, year: function year(s) {\n      return function () {\n        var n = Number(s);this.year = s.length > 2 ? n : n + (n + 2000 < Date.CultureInfo.twoDigitYearMax ? 2000 : 1900);\n      };\n    }, rday: function rday(s) {\n      return function () {\n        switch (s) {case "yesterday":\n            this.days = -1;break;case "tomorrow":\n            this.days = 1;break;case "today":\n            this.days = 0;break;case "now":\n            this.days = 0;this.now = true;break;}\n      };\n    }, finishExact: function finishExact(x) {\n      x = x instanceof Array ? x : [x];var now = new Date();this.year = now.getFullYear();this.month = now.getMonth();this.day = 1;this.hour = 0;this.minute = 0;this.second = 0;for (var i = 0; i < x.length; i++) {\n        if (x[i]) {\n          x[i].call(this);\n        }\n      }\n      this.hour = this.meridian == "p" && this.hour < 13 ? this.hour + 12 : this.hour;if (this.day > Date.getDaysInMonth(this.year, this.month)) {\n        throw new RangeError(this.day + " is not a valid value for days.");\n      }\n      var r = new Date(this.year, this.month, this.day, this.hour, this.minute, this.second);if (this.timezone) {\n        r.set({ timezone: this.timezone });\n      } else if (this.timezoneOffset) {\n        r.set({ timezoneOffset: this.timezoneOffset });\n      }\n      return r;\n    }, finish: function finish(x) {\n      x = x instanceof Array ? flattenAndCompact(x) : [x];if (x.length === 0) {\n        return null;\n      }\n      for (var i = 0; i < x.length; i++) {\n        if (typeof x[i] == "function") {\n          x[i].call(this);\n        }\n      }\n      if (this.now) {\n        return new Date();\n      }\n      var today = Date.today();var method = null;var expression = !!(this.days != null || this.orient || this.operator);if (expression) {\n        var gap, mod, orient;orient = this.orient == "past" || this.operator == "subtract" ? -1 : 1;if (this.weekday) {\n          this.unit = "day";gap = Date.getDayNumberFromName(this.weekday) - today.getDay();mod = 7;this.days = gap ? (gap + orient * mod) % mod : orient * mod;\n        }\n        if (this.month) {\n          this.unit = "month";gap = this.month - today.getMonth();mod = 12;this.months = gap ? (gap + orient * mod) % mod : orient * mod;this.month = null;\n        }\n        if (!this.unit) {\n          this.unit = "day";\n        }\n        if (this[this.unit + "s"] == null || this.operator != null) {\n          if (!this.value) {\n            this.value = 1;\n          }\n          if (this.unit == "week") {\n            this.unit = "day";this.value = this.value * 7;\n          }\n          this[this.unit + "s"] = this.value * orient;\n        }\n        return today.add(this);\n      } else {\n        if (this.meridian && this.hour) {\n          this.hour = this.hour < 13 && this.meridian == "p" ? this.hour + 12 : this.hour;\n        }\n        if (this.weekday && !this.day) {\n          this.day = today.addDays(Date.getDayNumberFromName(this.weekday) - today.getDay()).getDate();\n        }\n        if (this.month && !this.day) {\n          this.day = 1;\n        }\n        return today.set(this);\n      }\n    } };var _ = Date.Parsing.Operators,\n      g = Date.Grammar,\n      t = Date.Translator,\n      _fn;g.datePartDelimiter = _.rtoken(/^([\\s\\-\\.\\,\\/\\x27]+)/);g.timePartDelimiter = _.stoken(":");g.whiteSpace = _.rtoken(/^\\s*/);g.generalDelimiter = _.rtoken(/^(([\\s\\,]|at|on)+)/);var _C = {};g.ctoken = function (keys) {\n    var fn = _C[keys];if (!fn) {\n      var c = Date.CultureInfo.regexPatterns;var kx = keys.split(/\\s+/),\n          px = [];for (var i = 0; i < kx.length; i++) {\n        px.push(_.replace(_.rtoken(c[kx[i]]), kx[i]));\n      }\n      fn = _C[keys] = _.any.apply(null, px);\n    }\n    return fn;\n  };g.ctoken2 = function (key) {\n    return _.rtoken(Date.CultureInfo.regexPatterns[key]);\n  };g.h = _.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/), t.hour));g.hh = _.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/), t.hour));g.H = _.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/), t.hour));g.HH = _.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/), t.hour));g.m = _.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/), t.minute));g.mm = _.cache(_.process(_.rtoken(/^[0-5][0-9]/), t.minute));g.s = _.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/), t.second));g.ss = _.cache(_.process(_.rtoken(/^[0-5][0-9]/), t.second));g.hms = _.cache(_.sequence([g.H, g.mm, g.ss], g.timePartDelimiter));g.t = _.cache(_.process(g.ctoken2("shortMeridian"), t.meridian));g.tt = _.cache(_.process(g.ctoken2("longMeridian"), t.meridian));g.z = _.cache(_.process(_.rtoken(/^(\\+|\\-)?\\s*\\d\\d\\d\\d?/), t.timezone));g.zz = _.cache(_.process(_.rtoken(/^(\\+|\\-)\\s*\\d\\d\\d\\d/), t.timezone));g.zzz = _.cache(_.process(g.ctoken2("timezone"), t.timezone));g.timeSuffix = _.each(_.ignore(g.whiteSpace), _.set([g.tt, g.zzz]));g.time = _.each(_.optional(_.ignore(_.stoken("T"))), g.hms, g.timeSuffix);g.d = _.cache(_.process(_.each(_.rtoken(/^([0-2]\\d|3[0-1]|\\d)/), _.optional(g.ctoken2("ordinalSuffix"))), t.day));g.dd = _.cache(_.process(_.each(_.rtoken(/^([0-2]\\d|3[0-1])/), _.optional(g.ctoken2("ordinalSuffix"))), t.day));g.ddd = g.dddd = _.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"), function (s) {\n    return function () {\n      this.weekday = s;\n    };\n  }));g.M = _.cache(_.process(_.rtoken(/^(1[0-2]|0\\d|\\d)/), t.month));g.MM = _.cache(_.process(_.rtoken(/^(1[0-2]|0\\d)/), t.month));g.MMM = g.MMMM = _.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"), t.month));g.y = _.cache(_.process(_.rtoken(/^(\\d\\d?)/), t.year));g.yy = _.cache(_.process(_.rtoken(/^(\\d\\d)/), t.year));g.yyy = _.cache(_.process(_.rtoken(/^(\\d\\d?\\d?\\d?)/), t.year));g.yyyy = _.cache(_.process(_.rtoken(/^(\\d\\d\\d\\d)/), t.year));_fn = function _fn() {\n    return _.each(_.any.apply(null, arguments), _.not(g.ctoken2("timeContext")));\n  };g.day = _fn(g.d, g.dd);g.month = _fn(g.M, g.MMM);g.year = _fn(g.yyyy, g.yy);g.orientation = _.process(g.ctoken("past future"), function (s) {\n    return function () {\n      this.orient = s;\n    };\n  });g.operator = _.process(g.ctoken("add subtract"), function (s) {\n    return function () {\n      this.operator = s;\n    };\n  });g.rday = _.process(g.ctoken("yesterday tomorrow today now"), t.rday);g.unit = _.process(g.ctoken("minute hour day week month year"), function (s) {\n    return function () {\n      this.unit = s;\n    };\n  });g.value = _.process(_.rtoken(/^\\d\\d?(st|nd|rd|th)?/), function (s) {\n    return function () {\n      this.value = s.replace(/\\D/g, "");\n    };\n  });g.expression = _.set([g.rday, g.operator, g.value, g.unit, g.orientation, g.ddd, g.MMM]);_fn = function _fn() {\n    return _.set(arguments, g.datePartDelimiter);\n  };g.mdy = _fn(g.ddd, g.month, g.day, g.year);g.ymd = _fn(g.ddd, g.year, g.month, g.day);g.dmy = _fn(g.ddd, g.day, g.month, g.year);g.date = function (s) {\n    return (g[Date.CultureInfo.dateElementOrder] || g.mdy).call(this, s);\n  };g.format = _.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/), function (fmt) {\n    if (g[fmt]) {\n      return g[fmt];\n    } else {\n      throw Date.Parsing.Exception(fmt);\n    }\n  }), _.process(_.rtoken(/^[^dMyhHmstz]+/), function (s) {\n    return _.ignore(_.stoken(s));\n  }))), function (rules) {\n    return _.process(_.each.apply(null, rules), t.finishExact);\n  });var _F = {};var _get = function _get(f) {\n    return _F[f] = _F[f] || g.format(f)[0];\n  };g.formats = function (fx) {\n    if (fx instanceof Array) {\n      var rx = [];for (var i = 0; i < fx.length; i++) {\n        rx.push(_get(fx[i]));\n      }\n      return _.any.apply(null, rx);\n    } else {\n      return _get(fx);\n    }\n  };g._formats = g.formats(["yyyy-MM-ddTHH:mm:ss", "ddd, MMM dd, yyyy H:mm:ss tt", "ddd MMM d yyyy HH:mm:ss zzz", "d"]);g._start = _.process(_.set([g.date, g.time, g.expression], g.generalDelimiter, g.whiteSpace), t.finish);g.start = function (s) {\n    try {\n      var r = g._formats.call({}, s);if (r[1].length === 0) {\n        return r;\n      }\n    } catch (e) {}\n    return g._start.call({}, s);\n  };\n})();Date._parse = Date.parse;Date.parse = function (s) {\n  var r = null;if (!s) {\n    return null;\n  }\n  try {\n    r = Date.Grammar.start.call({}, s);\n  } catch (e) {\n    return null;\n  }\n  return r[1].length === 0 ? r[0] : null;\n};Date.getParseFunction = function (fx) {\n  var fn = Date.Grammar.formats(fx);return function (s) {\n    var r = null;try {\n      r = fn.call({}, s);\n    } catch (e) {\n      return null;\n    }\n    return r[1].length === 0 ? r[0] : null;\n  };\n};Date.parseExact = function (s, fx) {\n  return Date.getParseFunction(fx)(s);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL2RhdGUuanM/ZDNiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZlcnNpb246IDEuMCBBbHBoYS0xIFxuICogQnVpbGQgRGF0ZTogMTMtTm92LTIwMDdcbiAqIENvcHlyaWdodCAoYykgMjAwNi0yMDA3LCBDb29saXRlIEluYy4gKGh0dHA6Ly93d3cuY29vbGl0ZS5jb20vKS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2U6IExpY2Vuc2VkIHVuZGVyIFRoZSBNSVQgTGljZW5zZS4gU2VlIGxpY2Vuc2UudHh0IGFuZCBodHRwOi8vd3d3LmRhdGVqcy5jb20vbGljZW5zZS8uIFxuICogV2Vic2l0ZTogaHR0cDovL3d3dy5kYXRlanMuY29tLyBvciBodHRwOi8vd3d3LmNvb2xpdGUuY29tL2RhdGVqcy9cbiAqL1xuRGF0ZS5DdWx0dXJlSW5mbz17bmFtZTpcImVuLVVTXCIsZW5nbGlzaE5hbWU6XCJFbmdsaXNoIChVbml0ZWQgU3RhdGVzKVwiLG5hdGl2ZU5hbWU6XCJFbmdsaXNoIChVbml0ZWQgU3RhdGVzKVwiLGRheU5hbWVzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLGFiYnJldmlhdGVkRGF5TmFtZXM6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLHNob3J0ZXN0RGF5TmFtZXM6W1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sZmlyc3RMZXR0ZXJEYXlOYW1lczpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLG1vbnRoTmFtZXM6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLGFiYnJldmlhdGVkTW9udGhOYW1lczpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGFtRGVzaWduYXRvcjpcIkFNXCIscG1EZXNpZ25hdG9yOlwiUE1cIixmaXJzdERheU9mV2VlazowLHR3b0RpZ2l0WWVhck1heDoyMDI5LGRhdGVFbGVtZW50T3JkZXI6XCJtZHlcIixmb3JtYXRQYXR0ZXJuczp7c2hvcnREYXRlOlwiTS9kL3l5eXlcIixsb25nRGF0ZTpcImRkZGQsIE1NTU0gZGQsIHl5eXlcIixzaG9ydFRpbWU6XCJoOm1tIHR0XCIsbG9uZ1RpbWU6XCJoOm1tOnNzIHR0XCIsZnVsbERhdGVUaW1lOlwiZGRkZCwgTU1NTSBkZCwgeXl5eSBoOm1tOnNzIHR0XCIsc29ydGFibGVEYXRlVGltZTpcInl5eXktTU0tZGRUSEg6bW06c3NcIix1bml2ZXJzYWxTb3J0YWJsZURhdGVUaW1lOlwieXl5eS1NTS1kZCBISDptbTpzc1pcIixyZmMxMTIzOlwiZGRkLCBkZCBNTU0geXl5eSBISDptbTpzcyBHTVRcIixtb250aERheTpcIk1NTU0gZGRcIix5ZWFyTW9udGg6XCJNTU1NLCB5eXl5XCJ9LHJlZ2V4UGF0dGVybnM6e2phbjovXmphbih1YXJ5KT8vaSxmZWI6L15mZWIocnVhcnkpPy9pLG1hcjovXm1hcihjaCk/L2ksYXByOi9eYXByKGlsKT8vaSxtYXk6L15tYXkvaSxqdW46L15qdW4oZSk/L2ksanVsOi9eanVsKHkpPy9pLGF1ZzovXmF1Zyh1c3QpPy9pLHNlcDovXnNlcCh0KGVtYmVyKT8pPy9pLG9jdDovXm9jdChvYmVyKT8vaSxub3Y6L15ub3YoZW1iZXIpPy9pLGRlYzovXmRlYyhlbWJlcik/L2ksc3VuOi9ec3UobihkYXkpPyk/L2ksbW9uOi9ebW8obihkYXkpPyk/L2ksdHVlOi9edHUoZShzKGRheSk/KT8pPy9pLHdlZDovXndlKGQobmVzZGF5KT8pPy9pLHRodTovXnRoKHUocihzKGRheSk/KT8pPyk/L2ksZnJpOi9eZnIoaShkYXkpPyk/L2ksc2F0Oi9ec2EodCh1cmRheSk/KT8vaSxmdXR1cmU6L15uZXh0L2kscGFzdDovXmxhc3R8cGFzdHxwcmV2KGlvdXMpPy9pLGFkZDovXihcXCt8YWZ0ZXJ8ZnJvbSkvaSxzdWJ0cmFjdDovXihcXC18YmVmb3JlfGFnbykvaSx5ZXN0ZXJkYXk6L155ZXN0ZXJkYXkvaSx0b2RheTovXnQob2RheSk/L2ksdG9tb3Jyb3c6L150b21vcnJvdy9pLG5vdzovXm4ob3cpPy9pLG1pbGxpc2Vjb25kOi9ebXN8bWlsbGkoc2Vjb25kKT9zPy9pLHNlY29uZDovXnNlYyhvbmQpP3M/L2ksbWludXRlOi9ebWluKHV0ZSk/cz8vaSxob3VyOi9eaChvdSk/cnM/L2ksd2VlazovXncoZWUpP2svaSxtb250aDovXm0obyhudGgpP3M/KT8vaSxkYXk6L15kKGF5cz8pPy9pLHllYXI6L155KChlYSk/cnM/KT8vaSxzaG9ydE1lcmlkaWFuOi9eKGF8cCkvaSxsb25nTWVyaWRpYW46L14oYVxcLj9tP1xcLj98cFxcLj9tP1xcLj8pL2ksdGltZXpvbmU6L14oKGUoc3xkKXR8YyhzfGQpdHxtKHN8ZCl0fHAoc3xkKXQpfCgoZ210KT9cXHMqKFxcK3xcXC0pXFxzKlxcZFxcZFxcZFxcZD8pfGdtdCkvaSxvcmRpbmFsU3VmZml4Oi9eXFxzKihzdHxuZHxyZHx0aCkvaSx0aW1lQ29udGV4dDovXlxccyooXFw6fGF8cCkvaX0sYWJicmV2aWF0ZWRUaW1lWm9uZVN0YW5kYXJkOntHTVQ6XCItMDAwXCIsRVNUOlwiLTA0MDBcIixDU1Q6XCItMDUwMFwiLE1TVDpcIi0wNjAwXCIsUFNUOlwiLTA3MDBcIn0sYWJicmV2aWF0ZWRUaW1lWm9uZURTVDp7R01UOlwiLTAwMFwiLEVEVDpcIi0wNTAwXCIsQ0RUOlwiLTA2MDBcIixNRFQ6XCItMDcwMFwiLFBEVDpcIi0wODAwXCJ9fTtcbkRhdGUuZ2V0TW9udGhOdW1iZXJGcm9tTmFtZT1mdW5jdGlvbihuYW1lKXt2YXIgbj1EYXRlLkN1bHR1cmVJbmZvLm1vbnRoTmFtZXMsbT1EYXRlLkN1bHR1cmVJbmZvLmFiYnJldmlhdGVkTW9udGhOYW1lcyxzPW5hbWUudG9Mb3dlckNhc2UoKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7aWYobltpXS50b0xvd2VyQ2FzZSgpPT1zfHxtW2ldLnRvTG93ZXJDYXNlKCk9PXMpe3JldHVybiBpO319XG5yZXR1cm4tMTt9O0RhdGUuZ2V0RGF5TnVtYmVyRnJvbU5hbWU9ZnVuY3Rpb24obmFtZSl7dmFyIG49RGF0ZS5DdWx0dXJlSW5mby5kYXlOYW1lcyxtPURhdGUuQ3VsdHVyZUluZm8uYWJicmV2aWF0ZWREYXlOYW1lcyxvPURhdGUuQ3VsdHVyZUluZm8uc2hvcnRlc3REYXlOYW1lcyxzPW5hbWUudG9Mb3dlckNhc2UoKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7aWYobltpXS50b0xvd2VyQ2FzZSgpPT1zfHxtW2ldLnRvTG93ZXJDYXNlKCk9PXMpe3JldHVybiBpO319XG5yZXR1cm4tMTt9O0RhdGUuaXNMZWFwWWVhcj1mdW5jdGlvbih5ZWFyKXtyZXR1cm4oKCh5ZWFyJTQ9PT0wKSYmKHllYXIlMTAwIT09MCkpfHwoeWVhciU0MDA9PT0wKSk7fTtEYXRlLmdldERheXNJbk1vbnRoPWZ1bmN0aW9uKHllYXIsbW9udGgpe3JldHVyblszMSwoRGF0ZS5pc0xlYXBZZWFyKHllYXIpPzI5OjI4KSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV1bbW9udGhdO307RGF0ZS5nZXRUaW1lem9uZU9mZnNldD1mdW5jdGlvbihzLGRzdCl7cmV0dXJuKGRzdHx8ZmFsc2UpP0RhdGUuQ3VsdHVyZUluZm8uYWJicmV2aWF0ZWRUaW1lWm9uZURTVFtzLnRvVXBwZXJDYXNlKCldOkRhdGUuQ3VsdHVyZUluZm8uYWJicmV2aWF0ZWRUaW1lWm9uZVN0YW5kYXJkW3MudG9VcHBlckNhc2UoKV07fTtEYXRlLmdldFRpbWV6b25lQWJicmV2aWF0aW9uPWZ1bmN0aW9uKG9mZnNldCxkc3Qpe3ZhciBuPShkc3R8fGZhbHNlKT9EYXRlLkN1bHR1cmVJbmZvLmFiYnJldmlhdGVkVGltZVpvbmVEU1Q6RGF0ZS5DdWx0dXJlSW5mby5hYmJyZXZpYXRlZFRpbWVab25lU3RhbmRhcmQscDtmb3IocCBpbiBuKXtpZihuW3BdPT09b2Zmc2V0KXtyZXR1cm4gcDt9fVxucmV0dXJuIG51bGw7fTtEYXRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmdldFRpbWUoKSk7fTtEYXRlLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZGF0ZSl7aWYoaXNOYU4odGhpcykpe3Rocm93IG5ldyBFcnJvcih0aGlzKTt9XG5pZihkYXRlIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGRhdGUpKXtyZXR1cm4odGhpcz5kYXRlKT8xOih0aGlzPGRhdGUpPy0xOjA7fWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcihkYXRlKTt9fTtEYXRlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuKHRoaXMuY29tcGFyZVRvKGRhdGUpPT09MCk7fTtEYXRlLnByb3RvdHlwZS5iZXR3ZWVuPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7dmFyIHQ9dGhpcy5nZXRUaW1lKCk7cmV0dXJuIHQ+PXN0YXJ0LmdldFRpbWUoKSYmdDw9ZW5kLmdldFRpbWUoKTt9O0RhdGUucHJvdG90eXBlLmFkZE1pbGxpc2Vjb25kcz1mdW5jdGlvbih2YWx1ZSl7dGhpcy5zZXRNaWxsaXNlY29uZHModGhpcy5nZXRNaWxsaXNlY29uZHMoKSt2YWx1ZSk7cmV0dXJuIHRoaXM7fTtEYXRlLnByb3RvdHlwZS5hZGRTZWNvbmRzPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdGhpcy5hZGRNaWxsaXNlY29uZHModmFsdWUqMTAwMCk7fTtEYXRlLnByb3RvdHlwZS5hZGRNaW51dGVzPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdGhpcy5hZGRNaWxsaXNlY29uZHModmFsdWUqNjAwMDApO307RGF0ZS5wcm90b3R5cGUuYWRkSG91cnM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLmFkZE1pbGxpc2Vjb25kcyh2YWx1ZSozNjAwMDAwKTt9O0RhdGUucHJvdG90eXBlLmFkZERheXM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLmFkZE1pbGxpc2Vjb25kcyh2YWx1ZSo4NjQwMDAwMCk7fTtEYXRlLnByb3RvdHlwZS5hZGRXZWVrcz1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHRoaXMuYWRkTWlsbGlzZWNvbmRzKHZhbHVlKjYwNDgwMDAwMCk7fTtEYXRlLnByb3RvdHlwZS5hZGRNb250aHM9ZnVuY3Rpb24odmFsdWUpe3ZhciBuPXRoaXMuZ2V0RGF0ZSgpO3RoaXMuc2V0RGF0ZSgxKTt0aGlzLnNldE1vbnRoKHRoaXMuZ2V0TW9udGgoKSt2YWx1ZSk7dGhpcy5zZXREYXRlKE1hdGgubWluKG4sdGhpcy5nZXREYXlzSW5Nb250aCgpKSk7cmV0dXJuIHRoaXM7fTtEYXRlLnByb3RvdHlwZS5hZGRZZWFycz1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHRoaXMuYWRkTW9udGhzKHZhbHVlKjEyKTt9O0RhdGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihjb25maWcpe2lmKHR5cGVvZiBjb25maWc9PVwibnVtYmVyXCIpe3RoaXMuX29yaWVudD1jb25maWc7cmV0dXJuIHRoaXM7fVxudmFyIHg9Y29uZmlnO2lmKHgubWlsbGlzZWNvbmR8fHgubWlsbGlzZWNvbmRzKXt0aGlzLmFkZE1pbGxpc2Vjb25kcyh4Lm1pbGxpc2Vjb25kfHx4Lm1pbGxpc2Vjb25kcyk7fVxuaWYoeC5zZWNvbmR8fHguc2Vjb25kcyl7dGhpcy5hZGRTZWNvbmRzKHguc2Vjb25kfHx4LnNlY29uZHMpO31cbmlmKHgubWludXRlfHx4Lm1pbnV0ZXMpe3RoaXMuYWRkTWludXRlcyh4Lm1pbnV0ZXx8eC5taW51dGVzKTt9XG5pZih4LmhvdXJ8fHguaG91cnMpe3RoaXMuYWRkSG91cnMoeC5ob3VyfHx4LmhvdXJzKTt9XG5pZih4Lm1vbnRofHx4Lm1vbnRocyl7dGhpcy5hZGRNb250aHMoeC5tb250aHx8eC5tb250aHMpO31cbmlmKHgueWVhcnx8eC55ZWFycyl7dGhpcy5hZGRZZWFycyh4LnllYXJ8fHgueWVhcnMpO31cbmlmKHguZGF5fHx4LmRheXMpe3RoaXMuYWRkRGF5cyh4LmRheXx8eC5kYXlzKTt9XG5yZXR1cm4gdGhpczt9O0RhdGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKHZhbHVlLG1pbixtYXgsbmFtZSl7aWYodHlwZW9mIHZhbHVlIT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlK1wiIGlzIG5vdCBhIE51bWJlci5cIik7fWVsc2UgaWYodmFsdWU8bWlufHx2YWx1ZT5tYXgpe3Rocm93IG5ldyBSYW5nZUVycm9yKHZhbHVlK1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBcIituYW1lK1wiLlwiKTt9XG5yZXR1cm4gdHJ1ZTt9O0RhdGUudmFsaWRhdGVNaWxsaXNlY29uZD1mdW5jdGlvbihuKXtyZXR1cm4gRGF0ZS5fdmFsaWRhdGUobiwwLDk5OSxcIm1pbGxpc2Vjb25kc1wiKTt9O0RhdGUudmFsaWRhdGVTZWNvbmQ9ZnVuY3Rpb24obil7cmV0dXJuIERhdGUuX3ZhbGlkYXRlKG4sMCw1OSxcInNlY29uZHNcIik7fTtEYXRlLnZhbGlkYXRlTWludXRlPWZ1bmN0aW9uKG4pe3JldHVybiBEYXRlLl92YWxpZGF0ZShuLDAsNTksXCJtaW51dGVzXCIpO307RGF0ZS52YWxpZGF0ZUhvdXI9ZnVuY3Rpb24obil7cmV0dXJuIERhdGUuX3ZhbGlkYXRlKG4sMCwyMyxcImhvdXJzXCIpO307RGF0ZS52YWxpZGF0ZURheT1mdW5jdGlvbihuLHllYXIsbW9udGgpe3JldHVybiBEYXRlLl92YWxpZGF0ZShuLDEsRGF0ZS5nZXREYXlzSW5Nb250aCh5ZWFyLG1vbnRoKSxcImRheXNcIik7fTtEYXRlLnZhbGlkYXRlTW9udGg9ZnVuY3Rpb24obil7cmV0dXJuIERhdGUuX3ZhbGlkYXRlKG4sMCwxMSxcIm1vbnRoc1wiKTt9O0RhdGUudmFsaWRhdGVZZWFyPWZ1bmN0aW9uKG4pe3JldHVybiBEYXRlLl92YWxpZGF0ZShuLDEsOTk5OSxcInNlY29uZHNcIik7fTtEYXRlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oY29uZmlnKXt2YXIgeD1jb25maWc7aWYoIXgubWlsbGlzZWNvbmQmJngubWlsbGlzZWNvbmQhPT0wKXt4Lm1pbGxpc2Vjb25kPS0xO31cbmlmKCF4LnNlY29uZCYmeC5zZWNvbmQhPT0wKXt4LnNlY29uZD0tMTt9XG5pZigheC5taW51dGUmJngubWludXRlIT09MCl7eC5taW51dGU9LTE7fVxuaWYoIXguaG91ciYmeC5ob3VyIT09MCl7eC5ob3VyPS0xO31cbmlmKCF4LmRheSYmeC5kYXkhPT0wKXt4LmRheT0tMTt9XG5pZigheC5tb250aCYmeC5tb250aCE9PTApe3gubW9udGg9LTE7fVxuaWYoIXgueWVhciYmeC55ZWFyIT09MCl7eC55ZWFyPS0xO31cbmlmKHgubWlsbGlzZWNvbmQhPS0xJiZEYXRlLnZhbGlkYXRlTWlsbGlzZWNvbmQoeC5taWxsaXNlY29uZCkpe3RoaXMuYWRkTWlsbGlzZWNvbmRzKHgubWlsbGlzZWNvbmQtdGhpcy5nZXRNaWxsaXNlY29uZHMoKSk7fVxuaWYoeC5zZWNvbmQhPS0xJiZEYXRlLnZhbGlkYXRlU2Vjb25kKHguc2Vjb25kKSl7dGhpcy5hZGRTZWNvbmRzKHguc2Vjb25kLXRoaXMuZ2V0U2Vjb25kcygpKTt9XG5pZih4Lm1pbnV0ZSE9LTEmJkRhdGUudmFsaWRhdGVNaW51dGUoeC5taW51dGUpKXt0aGlzLmFkZE1pbnV0ZXMoeC5taW51dGUtdGhpcy5nZXRNaW51dGVzKCkpO31cbmlmKHguaG91ciE9LTEmJkRhdGUudmFsaWRhdGVIb3VyKHguaG91cikpe3RoaXMuYWRkSG91cnMoeC5ob3VyLXRoaXMuZ2V0SG91cnMoKSk7fVxuaWYoeC5tb250aCE9PS0xJiZEYXRlLnZhbGlkYXRlTW9udGgoeC5tb250aCkpe3RoaXMuYWRkTW9udGhzKHgubW9udGgtdGhpcy5nZXRNb250aCgpKTt9XG5pZih4LnllYXIhPS0xJiZEYXRlLnZhbGlkYXRlWWVhcih4LnllYXIpKXt0aGlzLmFkZFllYXJzKHgueWVhci10aGlzLmdldEZ1bGxZZWFyKCkpO31cbmlmKHguZGF5IT0tMSYmRGF0ZS52YWxpZGF0ZURheSh4LmRheSx0aGlzLmdldEZ1bGxZZWFyKCksdGhpcy5nZXRNb250aCgpKSl7dGhpcy5hZGREYXlzKHguZGF5LXRoaXMuZ2V0RGF0ZSgpKTt9XG5pZih4LnRpbWV6b25lKXt0aGlzLnNldFRpbWV6b25lKHgudGltZXpvbmUpO31cbmlmKHgudGltZXpvbmVPZmZzZXQpe3RoaXMuc2V0VGltZXpvbmVPZmZzZXQoeC50aW1lem9uZU9mZnNldCk7fVxucmV0dXJuIHRoaXM7fTtEYXRlLnByb3RvdHlwZS5jbGVhclRpbWU9ZnVuY3Rpb24oKXt0aGlzLnNldEhvdXJzKDApO3RoaXMuc2V0TWludXRlcygwKTt0aGlzLnNldFNlY29uZHMoMCk7dGhpcy5zZXRNaWxsaXNlY29uZHMoMCk7cmV0dXJuIHRoaXM7fTtEYXRlLnByb3RvdHlwZS5pc0xlYXBZZWFyPWZ1bmN0aW9uKCl7dmFyIHk9dGhpcy5nZXRGdWxsWWVhcigpO3JldHVybigoKHklND09PTApJiYoeSUxMDAhPT0wKSl8fCh5JTQwMD09PTApKTt9O0RhdGUucHJvdG90eXBlLmlzV2Vla2RheT1mdW5jdGlvbigpe3JldHVybiEodGhpcy5pcygpLnNhdCgpfHx0aGlzLmlzKCkuc3VuKCkpO307RGF0ZS5wcm90b3R5cGUuZ2V0RGF5c0luTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5nZXREYXlzSW5Nb250aCh0aGlzLmdldEZ1bGxZZWFyKCksdGhpcy5nZXRNb250aCgpKTt9O0RhdGUucHJvdG90eXBlLm1vdmVUb0ZpcnN0RGF5T2ZNb250aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldCh7ZGF5OjF9KTt9O0RhdGUucHJvdG90eXBlLm1vdmVUb0xhc3REYXlPZk1vbnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KHtkYXk6dGhpcy5nZXREYXlzSW5Nb250aCgpfSk7fTtEYXRlLnByb3RvdHlwZS5tb3ZlVG9EYXlPZldlZWs9ZnVuY3Rpb24oZGF5LG9yaWVudCl7dmFyIGRpZmY9KGRheS10aGlzLmdldERheSgpKzcqKG9yaWVudHx8KzEpKSU3O3JldHVybiB0aGlzLmFkZERheXMoKGRpZmY9PT0wKT9kaWZmKz03KihvcmllbnR8fCsxKTpkaWZmKTt9O0RhdGUucHJvdG90eXBlLm1vdmVUb01vbnRoPWZ1bmN0aW9uKG1vbnRoLG9yaWVudCl7dmFyIGRpZmY9KG1vbnRoLXRoaXMuZ2V0TW9udGgoKSsxMioob3JpZW50fHwrMSkpJTEyO3JldHVybiB0aGlzLmFkZE1vbnRocygoZGlmZj09PTApP2RpZmYrPTEyKihvcmllbnR8fCsxKTpkaWZmKTt9O0RhdGUucHJvdG90eXBlLmdldERheU9mWWVhcj1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCh0aGlzLW5ldyBEYXRlKHRoaXMuZ2V0RnVsbFllYXIoKSwwLDEpKS84NjQwMDAwMCk7fTtEYXRlLnByb3RvdHlwZS5nZXRXZWVrT2ZZZWFyPWZ1bmN0aW9uKGZpcnN0RGF5T2ZXZWVrKXt2YXIgeT10aGlzLmdldEZ1bGxZZWFyKCksbT10aGlzLmdldE1vbnRoKCksZD10aGlzLmdldERhdGUoKTt2YXIgZG93PWZpcnN0RGF5T2ZXZWVrfHxEYXRlLkN1bHR1cmVJbmZvLmZpcnN0RGF5T2ZXZWVrO3ZhciBvZmZzZXQ9NysxLW5ldyBEYXRlKHksMCwxKS5nZXREYXkoKTtpZihvZmZzZXQ9PTgpe29mZnNldD0xO31cbnZhciBkYXludW09KChEYXRlLlVUQyh5LG0sZCwwLDAsMCktRGF0ZS5VVEMoeSwwLDEsMCwwLDApKS84NjQwMDAwMCkrMTt2YXIgdz1NYXRoLmZsb29yKChkYXludW0tb2Zmc2V0KzcpLzcpO2lmKHc9PT1kb3cpe3ktLTt2YXIgcHJldk9mZnNldD03KzEtbmV3IERhdGUoeSwwLDEpLmdldERheSgpO2lmKHByZXZPZmZzZXQ9PTJ8fHByZXZPZmZzZXQ9PTgpe3c9NTM7fWVsc2V7dz01Mjt9fVxucmV0dXJuIHc7fTtEYXRlLnByb3RvdHlwZS5pc0RTVD1mdW5jdGlvbigpe2NvbnNvbGUubG9nKCdpc0RTVCcpO3JldHVybiB0aGlzLnRvU3RyaW5nKCkubWF0Y2goLyhFfEN8TXxQKShTfEQpVC8pWzJdPT1cIkRcIjt9O0RhdGUucHJvdG90eXBlLmdldFRpbWV6b25lPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUuZ2V0VGltZXpvbmVBYmJyZXZpYXRpb24odGhpcy5nZXRVVENPZmZzZXQsdGhpcy5pc0RTVCgpKTt9O0RhdGUucHJvdG90eXBlLnNldFRpbWV6b25lT2Zmc2V0PWZ1bmN0aW9uKHMpe3ZhciBoZXJlPXRoaXMuZ2V0VGltZXpvbmVPZmZzZXQoKSx0aGVyZT1OdW1iZXIocykqLTYvMTA7dGhpcy5hZGRNaW51dGVzKHRoZXJlLWhlcmUpO3JldHVybiB0aGlzO307RGF0ZS5wcm90b3R5cGUuc2V0VGltZXpvbmU9ZnVuY3Rpb24ocyl7cmV0dXJuIHRoaXMuc2V0VGltZXpvbmVPZmZzZXQoRGF0ZS5nZXRUaW1lem9uZU9mZnNldChzKSk7fTtEYXRlLnByb3RvdHlwZS5nZXRVVENPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmdldFRpbWV6b25lT2Zmc2V0KCkqLTEwLzYscjtpZihuPDApe3I9KG4tMTAwMDApLnRvU3RyaW5nKCk7cmV0dXJuIHJbMF0rci5zdWJzdHIoMik7fWVsc2V7cj0obisxMDAwMCkudG9TdHJpbmcoKTtyZXR1cm5cIitcIityLnN1YnN0cigxKTt9fTtEYXRlLnByb3RvdHlwZS5nZXREYXlOYW1lPWZ1bmN0aW9uKGFiYnJldil7cmV0dXJuIGFiYnJldj9EYXRlLkN1bHR1cmVJbmZvLmFiYnJldmlhdGVkRGF5TmFtZXNbdGhpcy5nZXREYXkoKV06RGF0ZS5DdWx0dXJlSW5mby5kYXlOYW1lc1t0aGlzLmdldERheSgpXTt9O0RhdGUucHJvdG90eXBlLmdldE1vbnRoTmFtZT1mdW5jdGlvbihhYmJyZXYpe3JldHVybiBhYmJyZXY/RGF0ZS5DdWx0dXJlSW5mby5hYmJyZXZpYXRlZE1vbnRoTmFtZXNbdGhpcy5nZXRNb250aCgpXTpEYXRlLkN1bHR1cmVJbmZvLm1vbnRoTmFtZXNbdGhpcy5nZXRNb250aCgpXTt9O0RhdGUucHJvdG90eXBlLl90b1N0cmluZz1EYXRlLnByb3RvdHlwZS50b1N0cmluZztEYXRlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihmb3JtYXQpe3ZhciBzZWxmPXRoaXM7dmFyIHA9ZnVuY3Rpb24gcChzKXtyZXR1cm4ocy50b1N0cmluZygpLmxlbmd0aD09MSk/XCIwXCIrczpzO307cmV0dXJuIGZvcm1hdD9mb3JtYXQucmVwbGFjZSgvZGQ/ZD9kP3xNTT9NP00/fHl5P3k/eT98aGg/fEhIP3xtbT98c3M/fHR0P3x6ej96Py9nLGZ1bmN0aW9uKGZvcm1hdCl7c3dpdGNoKGZvcm1hdCl7Y2FzZVwiaGhcIjpyZXR1cm4gcChzZWxmLmdldEhvdXJzKCk8MTM/c2VsZi5nZXRIb3VycygpOihzZWxmLmdldEhvdXJzKCktMTIpKTtjYXNlXCJoXCI6cmV0dXJuIHNlbGYuZ2V0SG91cnMoKTwxMz9zZWxmLmdldEhvdXJzKCk6KHNlbGYuZ2V0SG91cnMoKS0xMik7Y2FzZVwiSEhcIjpyZXR1cm4gcChzZWxmLmdldEhvdXJzKCkpO2Nhc2VcIkhcIjpyZXR1cm4gc2VsZi5nZXRIb3VycygpO2Nhc2VcIm1tXCI6cmV0dXJuIHAoc2VsZi5nZXRNaW51dGVzKCkpO2Nhc2VcIm1cIjpyZXR1cm4gc2VsZi5nZXRNaW51dGVzKCk7Y2FzZVwic3NcIjpyZXR1cm4gcChzZWxmLmdldFNlY29uZHMoKSk7Y2FzZVwic1wiOnJldHVybiBzZWxmLmdldFNlY29uZHMoKTtjYXNlXCJ5eXl5XCI6cmV0dXJuIHNlbGYuZ2V0RnVsbFllYXIoKTtjYXNlXCJ5eVwiOnJldHVybiBzZWxmLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiw0KTtjYXNlXCJkZGRkXCI6cmV0dXJuIHNlbGYuZ2V0RGF5TmFtZSgpO2Nhc2VcImRkZFwiOnJldHVybiBzZWxmLmdldERheU5hbWUodHJ1ZSk7Y2FzZVwiZGRcIjpyZXR1cm4gcChzZWxmLmdldERhdGUoKSk7Y2FzZVwiZFwiOnJldHVybiBzZWxmLmdldERhdGUoKS50b1N0cmluZygpO2Nhc2VcIk1NTU1cIjpyZXR1cm4gc2VsZi5nZXRNb250aE5hbWUoKTtjYXNlXCJNTU1cIjpyZXR1cm4gc2VsZi5nZXRNb250aE5hbWUodHJ1ZSk7Y2FzZVwiTU1cIjpyZXR1cm4gcCgoc2VsZi5nZXRNb250aCgpKzEpKTtjYXNlXCJNXCI6cmV0dXJuIHNlbGYuZ2V0TW9udGgoKSsxO2Nhc2VcInRcIjpyZXR1cm4gc2VsZi5nZXRIb3VycygpPDEyP0RhdGUuQ3VsdHVyZUluZm8uYW1EZXNpZ25hdG9yLnN1YnN0cmluZygwLDEpOkRhdGUuQ3VsdHVyZUluZm8ucG1EZXNpZ25hdG9yLnN1YnN0cmluZygwLDEpO2Nhc2VcInR0XCI6cmV0dXJuIHNlbGYuZ2V0SG91cnMoKTwxMj9EYXRlLkN1bHR1cmVJbmZvLmFtRGVzaWduYXRvcjpEYXRlLkN1bHR1cmVJbmZvLnBtRGVzaWduYXRvcjtjYXNlXCJ6enpcIjpjYXNlXCJ6elwiOmNhc2VcInpcIjpyZXR1cm5cIlwiO319KTp0aGlzLl90b1N0cmluZygpO307XG5EYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSgpO307RGF0ZS50b2RheT1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLmNsZWFyVGltZSgpO307RGF0ZS5wcm90b3R5cGUuX29yaWVudD0rMTtEYXRlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5fb3JpZW50PSsxO3JldHVybiB0aGlzO307RGF0ZS5wcm90b3R5cGUubGFzdD1EYXRlLnByb3RvdHlwZS5wcmV2PURhdGUucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7dGhpcy5fb3JpZW50PS0xO3JldHVybiB0aGlzO307RGF0ZS5wcm90b3R5cGUuX2lzPWZhbHNlO0RhdGUucHJvdG90eXBlLmlzPWZ1bmN0aW9uKCl7dGhpcy5faXM9dHJ1ZTtyZXR1cm4gdGhpczt9O051bWJlci5wcm90b3R5cGUuX2RhdGVFbGVtZW50PVwiZGF5XCI7TnVtYmVyLnByb3RvdHlwZS5mcm9tTm93PWZ1bmN0aW9uKCl7dmFyIGM9e307Y1t0aGlzLl9kYXRlRWxlbWVudF09dGhpcztyZXR1cm4gRGF0ZS5ub3coKS5hZGQoYyk7fTtOdW1iZXIucHJvdG90eXBlLmFnbz1mdW5jdGlvbigpe3ZhciBjPXt9O2NbdGhpcy5fZGF0ZUVsZW1lbnRdPXRoaXMqLTE7cmV0dXJuIERhdGUubm93KCkuYWRkKGMpO307KGZ1bmN0aW9uKCl7dmFyICREPURhdGUucHJvdG90eXBlLCROPU51bWJlci5wcm90b3R5cGU7dmFyIGR4PShcInN1bmRheSBtb25kYXkgdHVlc2RheSB3ZWRuZXNkYXkgdGh1cnNkYXkgZnJpZGF5IHNhdHVyZGF5XCIpLnNwbGl0KC9cXHMvKSxteD0oXCJqYW51YXJ5IGZlYnJ1YXJ5IG1hcmNoIGFwcmlsIG1heSBqdW5lIGp1bHkgYXVndXN0IHNlcHRlbWJlciBvY3RvYmVyIG5vdmVtYmVyIGRlY2VtYmVyXCIpLnNwbGl0KC9cXHMvKSxweD0oXCJNaWxsaXNlY29uZCBTZWNvbmQgTWludXRlIEhvdXIgRGF5IFdlZWsgTW9udGggWWVhclwiKS5zcGxpdCgvXFxzLyksZGU7dmFyIGRmPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2lmKHRoaXMuX2lzKXt0aGlzLl9pcz1mYWxzZTtyZXR1cm4gdGhpcy5nZXREYXkoKT09bjt9XG5yZXR1cm4gdGhpcy5tb3ZlVG9EYXlPZldlZWsobix0aGlzLl9vcmllbnQpO307fTtmb3IodmFyIGk9MDtpPGR4Lmxlbmd0aDtpKyspeyREW2R4W2ldXT0kRFtkeFtpXS5zdWJzdHJpbmcoMCwzKV09ZGYoaSk7fVxudmFyIG1mPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2lmKHRoaXMuX2lzKXt0aGlzLl9pcz1mYWxzZTtyZXR1cm4gdGhpcy5nZXRNb250aCgpPT09bjt9XG5yZXR1cm4gdGhpcy5tb3ZlVG9Nb250aChuLHRoaXMuX29yaWVudCk7fTt9O2Zvcih2YXIgaj0wO2o8bXgubGVuZ3RoO2orKyl7JERbbXhbal1dPSREW214W2pdLnN1YnN0cmluZygwLDMpXT1tZihqKTt9XG52YXIgZWY9ZnVuY3Rpb24oail7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoai5zdWJzdHJpbmcoai5sZW5ndGgtMSkhPVwic1wiKXtqKz1cInNcIjt9XG5yZXR1cm4gdGhpc1tcImFkZFwiK2pdKHRoaXMuX29yaWVudCk7fTt9O3ZhciBuZj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLl9kYXRlRWxlbWVudD1uO3JldHVybiB0aGlzO307fTtmb3IodmFyIGs9MDtrPHB4Lmxlbmd0aDtrKyspe2RlPXB4W2tdLnRvTG93ZXJDYXNlKCk7JERbZGVdPSREW2RlK1wic1wiXT1lZihweFtrXSk7JE5bZGVdPSROW2RlK1wic1wiXT1uZihkZSk7fX0oKSk7RGF0ZS5wcm90b3R5cGUudG9KU09OU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoXCJ5eXl5LU1NLWRkVGhoOm1tOnNzWlwiKTt9O0RhdGUucHJvdG90eXBlLnRvU2hvcnREYXRlU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoRGF0ZS5DdWx0dXJlSW5mby5mb3JtYXRQYXR0ZXJucy5zaG9ydERhdGVQYXR0ZXJuKTt9O0RhdGUucHJvdG90eXBlLnRvTG9uZ0RhdGVTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZyhEYXRlLkN1bHR1cmVJbmZvLmZvcm1hdFBhdHRlcm5zLmxvbmdEYXRlUGF0dGVybik7fTtEYXRlLnByb3RvdHlwZS50b1Nob3J0VGltZVN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKERhdGUuQ3VsdHVyZUluZm8uZm9ybWF0UGF0dGVybnMuc2hvcnRUaW1lUGF0dGVybik7fTtEYXRlLnByb3RvdHlwZS50b0xvbmdUaW1lU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoRGF0ZS5DdWx0dXJlSW5mby5mb3JtYXRQYXR0ZXJucy5sb25nVGltZVBhdHRlcm4pO307RGF0ZS5wcm90b3R5cGUuZ2V0T3JkaW5hbD1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmdldERhdGUoKSl7Y2FzZSAxOmNhc2UgMjE6Y2FzZSAzMTpyZXR1cm5cInN0XCI7Y2FzZSAyOmNhc2UgMjI6cmV0dXJuXCJuZFwiO2Nhc2UgMzpjYXNlIDIzOnJldHVyblwicmRcIjtkZWZhdWx0OnJldHVyblwidGhcIjt9fTtcbihmdW5jdGlvbigpe0RhdGUuUGFyc2luZz17RXhjZXB0aW9uOmZ1bmN0aW9uKHMpe3RoaXMubWVzc2FnZT1cIlBhcnNlIGVycm9yIGF0ICdcIitzLnN1YnN0cmluZygwLDEwKStcIiAuLi4nXCI7fX07dmFyICRQPURhdGUuUGFyc2luZzt2YXIgXz0kUC5PcGVyYXRvcnM9e3J0b2tlbjpmdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24ocyl7dmFyIG14PXMubWF0Y2gocik7aWYobXgpe3JldHVybihbbXhbMF0scy5zdWJzdHJpbmcobXhbMF0ubGVuZ3RoKV0pO31lbHNle3Rocm93IG5ldyAkUC5FeGNlcHRpb24ocyk7fX07fSx0b2tlbjpmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIF8ucnRva2VuKG5ldyBSZWdFeHAoXCJeXFxzKlwiK3MrXCJcXHMqXCIpKShzKTt9O30sc3Rva2VuOmZ1bmN0aW9uKHMpe3JldHVybiBfLnJ0b2tlbihuZXcgUmVnRXhwKFwiXlwiK3MpKTt9LHVudGlsOmZ1bmN0aW9uKHApe3JldHVybiBmdW5jdGlvbihzKXt2YXIgcXg9W10scng9bnVsbDt3aGlsZShzLmxlbmd0aCl7dHJ5e3J4PXAuY2FsbCh0aGlzLHMpO31jYXRjaChlKXtxeC5wdXNoKHJ4WzBdKTtzPXJ4WzFdO2NvbnRpbnVlO31cbmJyZWFrO31cbnJldHVybltxeCxzXTt9O30sbWFueTpmdW5jdGlvbihwKXtyZXR1cm4gZnVuY3Rpb24ocyl7dmFyIHJ4PVtdLHI9bnVsbDt3aGlsZShzLmxlbmd0aCl7dHJ5e3I9cC5jYWxsKHRoaXMscyk7fWNhdGNoKGUpe3JldHVybltyeCxzXTt9XG5yeC5wdXNoKHJbMF0pO3M9clsxXTt9XG5yZXR1cm5bcngsc107fTt9LG9wdGlvbmFsOmZ1bmN0aW9uKHApe3JldHVybiBmdW5jdGlvbihzKXt2YXIgcj1udWxsO3RyeXtyPXAuY2FsbCh0aGlzLHMpO31jYXRjaChlKXtyZXR1cm5bbnVsbCxzXTt9XG5yZXR1cm5bclswXSxyWzFdXTt9O30sbm90OmZ1bmN0aW9uKHApe3JldHVybiBmdW5jdGlvbihzKXt0cnl7cC5jYWxsKHRoaXMscyk7fWNhdGNoKGUpe3JldHVybltudWxsLHNdO31cbnRocm93IG5ldyAkUC5FeGNlcHRpb24ocyk7fTt9LGlnbm9yZTpmdW5jdGlvbihwKXtyZXR1cm4gcD9mdW5jdGlvbihzKXt2YXIgcj1udWxsO3I9cC5jYWxsKHRoaXMscyk7cmV0dXJuW251bGwsclsxXV07fTpudWxsO30scHJvZHVjdDpmdW5jdGlvbigpe3ZhciBweD1hcmd1bWVudHNbMF0scXg9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHJ4PVtdO2Zvcih2YXIgaT0wO2k8cHgubGVuZ3RoO2krKyl7cngucHVzaChfLmVhY2gocHhbaV0scXgpKTt9XG5yZXR1cm4gcng7fSxjYWNoZTpmdW5jdGlvbihydWxlKXt2YXIgY2FjaGU9e30scj1udWxsO3JldHVybiBmdW5jdGlvbihzKXt0cnl7cj1jYWNoZVtzXT0oY2FjaGVbc118fHJ1bGUuY2FsbCh0aGlzLHMpKTt9Y2F0Y2goZSl7cj1jYWNoZVtzXT1lO31cbmlmKHIgaW5zdGFuY2VvZiAkUC5FeGNlcHRpb24pe3Rocm93IHI7fWVsc2V7cmV0dXJuIHI7fX07fSxhbnk6ZnVuY3Rpb24oKXt2YXIgcHg9YXJndW1lbnRzO3JldHVybiBmdW5jdGlvbihzKXt2YXIgcj1udWxsO2Zvcih2YXIgaT0wO2k8cHgubGVuZ3RoO2krKyl7aWYocHhbaV09PW51bGwpe2NvbnRpbnVlO31cbnRyeXtyPShweFtpXS5jYWxsKHRoaXMscykpO31jYXRjaChlKXtyPW51bGw7fVxuaWYocil7cmV0dXJuIHI7fX1cbnRocm93IG5ldyAkUC5FeGNlcHRpb24ocyk7fTt9LGVhY2g6ZnVuY3Rpb24oKXt2YXIgcHg9YXJndW1lbnRzO3JldHVybiBmdW5jdGlvbihzKXt2YXIgcng9W10scj1udWxsO2Zvcih2YXIgaT0wO2k8cHgubGVuZ3RoO2krKyl7aWYocHhbaV09PW51bGwpe2NvbnRpbnVlO31cbnRyeXtyPShweFtpXS5jYWxsKHRoaXMscykpO31jYXRjaChlKXt0aHJvdyBuZXcgJFAuRXhjZXB0aW9uKHMpO31cbnJ4LnB1c2goclswXSk7cz1yWzFdO31cbnJldHVybltyeCxzXTt9O30sYWxsOmZ1bmN0aW9uKCl7dmFyIHB4PWFyZ3VtZW50cyxfPV87cmV0dXJuIF8uZWFjaChfLm9wdGlvbmFsKHB4KSk7fSxzZXF1ZW5jZTpmdW5jdGlvbihweCxkLGMpe2Q9ZHx8Xy5ydG9rZW4oL15cXHMqLyk7Yz1jfHxudWxsO2lmKHB4Lmxlbmd0aD09MSl7cmV0dXJuIHB4WzBdO31cbnJldHVybiBmdW5jdGlvbihzKXt2YXIgcj1udWxsLHE9bnVsbDt2YXIgcng9W107Zm9yKHZhciBpPTA7aTxweC5sZW5ndGg7aSsrKXt0cnl7cj1weFtpXS5jYWxsKHRoaXMscyk7fWNhdGNoKGUpe2JyZWFrO31cbnJ4LnB1c2goclswXSk7dHJ5e3E9ZC5jYWxsKHRoaXMsclsxXSk7fWNhdGNoKGV4KXtxPW51bGw7YnJlYWs7fVxucz1xWzFdO31cbmlmKCFyKXt0aHJvdyBuZXcgJFAuRXhjZXB0aW9uKHMpO31cbmlmKHEpe3Rocm93IG5ldyAkUC5FeGNlcHRpb24ocVsxXSk7fVxuaWYoYyl7dHJ5e3I9Yy5jYWxsKHRoaXMsclsxXSk7fWNhdGNoKGV5KXt0aHJvdyBuZXcgJFAuRXhjZXB0aW9uKHJbMV0pO319XG5yZXR1cm5bcngsKHI/clsxXTpzKV07fTt9LGJldHdlZW46ZnVuY3Rpb24oZDEscCxkMil7ZDI9ZDJ8fGQxO3ZhciBfZm49Xy5lYWNoKF8uaWdub3JlKGQxKSxwLF8uaWdub3JlKGQyKSk7cmV0dXJuIGZ1bmN0aW9uKHMpe3ZhciByeD1fZm4uY2FsbCh0aGlzLHMpO3JldHVybltbcnhbMF1bMF0sclswXVsyXV0scnhbMV1dO307fSxsaXN0OmZ1bmN0aW9uKHAsZCxjKXtkPWR8fF8ucnRva2VuKC9eXFxzKi8pO2M9Y3x8bnVsbDtyZXR1cm4ocCBpbnN0YW5jZW9mIEFycmF5P18uZWFjaChfLnByb2R1Y3QocC5zbGljZSgwLC0xKSxfLmlnbm9yZShkKSkscC5zbGljZSgtMSksXy5pZ25vcmUoYykpOl8uZWFjaChfLm1hbnkoXy5lYWNoKHAsXy5pZ25vcmUoZCkpKSxweCxfLmlnbm9yZShjKSkpO30sc2V0OmZ1bmN0aW9uKHB4LGQsYyl7ZD1kfHxfLnJ0b2tlbigvXlxccyovKTtjPWN8fG51bGw7cmV0dXJuIGZ1bmN0aW9uKHMpe3ZhciByPW51bGwscD1udWxsLHE9bnVsbCxyeD1udWxsLGJlc3Q9W1tdLHNdLGxhc3Q9ZmFsc2U7Zm9yKHZhciBpPTA7aTxweC5sZW5ndGg7aSsrKXtxPW51bGw7cD1udWxsO3I9bnVsbDtsYXN0PShweC5sZW5ndGg9PTEpO3RyeXtyPXB4W2ldLmNhbGwodGhpcyxzKTt9Y2F0Y2goZSl7Y29udGludWU7fVxucng9W1tyWzBdXSxyWzFdXTtpZihyWzFdLmxlbmd0aD4wJiYhbGFzdCl7dHJ5e3E9ZC5jYWxsKHRoaXMsclsxXSk7fWNhdGNoKGV4KXtsYXN0PXRydWU7fX1lbHNle2xhc3Q9dHJ1ZTt9XG5pZighbGFzdCYmcVsxXS5sZW5ndGg9PT0wKXtsYXN0PXRydWU7fVxuaWYoIWxhc3Qpe3ZhciBxeD1bXTtmb3IodmFyIGo9MDtqPHB4Lmxlbmd0aDtqKyspe2lmKGkhPWope3F4LnB1c2gocHhbal0pO319XG5wPV8uc2V0KHF4LGQpLmNhbGwodGhpcyxxWzFdKTtpZihwWzBdLmxlbmd0aD4wKXtyeFswXT1yeFswXS5jb25jYXQocFswXSk7cnhbMV09cFsxXTt9fVxuaWYocnhbMV0ubGVuZ3RoPGJlc3RbMV0ubGVuZ3RoKXtiZXN0PXJ4O31cbmlmKGJlc3RbMV0ubGVuZ3RoPT09MCl7YnJlYWs7fX1cbmlmKGJlc3RbMF0ubGVuZ3RoPT09MCl7cmV0dXJuIGJlc3Q7fVxuaWYoYyl7dHJ5e3E9Yy5jYWxsKHRoaXMsYmVzdFsxXSk7fWNhdGNoKGV5KXt0aHJvdyBuZXcgJFAuRXhjZXB0aW9uKGJlc3RbMV0pO31cbmJlc3RbMV09cVsxXTt9XG5yZXR1cm4gYmVzdDt9O30sZm9yd2FyZDpmdW5jdGlvbihncixmbmFtZSl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBncltmbmFtZV0uY2FsbCh0aGlzLHMpO307fSxyZXBsYWNlOmZ1bmN0aW9uKHJ1bGUscmVwbCl7cmV0dXJuIGZ1bmN0aW9uKHMpe3ZhciByPXJ1bGUuY2FsbCh0aGlzLHMpO3JldHVybltyZXBsLHJbMV1dO307fSxwcm9jZXNzOmZ1bmN0aW9uKHJ1bGUsZm4pe3JldHVybiBmdW5jdGlvbihzKXt2YXIgcj1ydWxlLmNhbGwodGhpcyxzKTtyZXR1cm5bZm4uY2FsbCh0aGlzLHJbMF0pLHJbMV1dO307fSxtaW46ZnVuY3Rpb24obWluLHJ1bGUpe3JldHVybiBmdW5jdGlvbihzKXt2YXIgcng9cnVsZS5jYWxsKHRoaXMscyk7aWYocnhbMF0ubGVuZ3RoPG1pbil7dGhyb3cgbmV3ICRQLkV4Y2VwdGlvbihzKTt9XG5yZXR1cm4gcng7fTt9fTt2YXIgX2dlbmVyYXRvcj1mdW5jdGlvbihvcCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGFyZ3M9bnVsbCxyeD1bXTtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2FyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXthcmdzPWFyZ3VtZW50c1swXTt9XG5pZihhcmdzKXtmb3IodmFyIGk9MCxweD1hcmdzLnNoaWZ0KCk7aTxweC5sZW5ndGg7aSsrKXthcmdzLnVuc2hpZnQocHhbaV0pO3J4LnB1c2gob3AuYXBwbHkobnVsbCxhcmdzKSk7YXJncy5zaGlmdCgpO3JldHVybiByeDt9fWVsc2V7cmV0dXJuIG9wLmFwcGx5KG51bGwsYXJndW1lbnRzKTt9fTt9O3ZhciBneD1cIm9wdGlvbmFsIG5vdCBpZ25vcmUgY2FjaGVcIi5zcGxpdCgvXFxzLyk7Zm9yKHZhciBpPTA7aTxneC5sZW5ndGg7aSsrKXtfW2d4W2ldXT1fZ2VuZXJhdG9yKF9bZ3hbaV1dKTt9XG52YXIgX3ZlY3Rvcj1mdW5jdGlvbihvcCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheSl7cmV0dXJuIG9wLmFwcGx5KG51bGwsYXJndW1lbnRzWzBdKTt9ZWxzZXtyZXR1cm4gb3AuYXBwbHkobnVsbCxhcmd1bWVudHMpO319O307dmFyIHZ4PVwiZWFjaCBhbnkgYWxsXCIuc3BsaXQoL1xccy8pO2Zvcih2YXIgaj0wO2o8dngubGVuZ3RoO2orKyl7X1t2eFtqXV09X3ZlY3RvcihfW3Z4W2pdXSk7fX0oKSk7KGZ1bmN0aW9uKCl7dmFyIGZsYXR0ZW5BbmRDb21wYWN0PWZ1bmN0aW9uKGF4KXt2YXIgcng9W107Zm9yKHZhciBpPTA7aTxheC5sZW5ndGg7aSsrKXtpZihheFtpXWluc3RhbmNlb2YgQXJyYXkpe3J4PXJ4LmNvbmNhdChmbGF0dGVuQW5kQ29tcGFjdChheFtpXSkpO31lbHNle2lmKGF4W2ldKXtyeC5wdXNoKGF4W2ldKTt9fX1cbnJldHVybiByeDt9O0RhdGUuR3JhbW1hcj17fTtEYXRlLlRyYW5zbGF0b3I9e2hvdXI6ZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5ob3VyPU51bWJlcihzKTt9O30sbWludXRlOmZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3RoaXMubWludXRlPU51bWJlcihzKTt9O30sc2Vjb25kOmZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc2Vjb25kPU51bWJlcihzKTt9O30sbWVyaWRpYW46ZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5tZXJpZGlhbj1zLnNsaWNlKDAsMSkudG9Mb3dlckNhc2UoKTt9O30sdGltZXpvbmU6ZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49cy5yZXBsYWNlKC9bXlxcZFxcK1xcLV0vZyxcIlwiKTtpZihuLmxlbmd0aCl7dGhpcy50aW1lem9uZU9mZnNldD1OdW1iZXIobik7fWVsc2V7dGhpcy50aW1lem9uZT1zLnRvTG93ZXJDYXNlKCk7fX07fSxkYXk6ZnVuY3Rpb24oeCl7dmFyIHM9eFswXTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmRheT1OdW1iZXIocy5tYXRjaCgvXFxkKy8pWzBdKTt9O30sbW9udGg6ZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5tb250aD0oKHMubGVuZ3RoPT0zKT9EYXRlLmdldE1vbnRoTnVtYmVyRnJvbU5hbWUocyk6KE51bWJlcihzKS0xKSk7fTt9LHllYXI6ZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49TnVtYmVyKHMpO3RoaXMueWVhcj0oKHMubGVuZ3RoPjIpP246KG4rKCgobisyMDAwKTxEYXRlLkN1bHR1cmVJbmZvLnR3b0RpZ2l0WWVhck1heCk/MjAwMDoxOTAwKSkpO307fSxyZGF5OmZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3N3aXRjaChzKXtjYXNlXCJ5ZXN0ZXJkYXlcIjp0aGlzLmRheXM9LTE7YnJlYWs7Y2FzZVwidG9tb3Jyb3dcIjp0aGlzLmRheXM9MTticmVhaztjYXNlXCJ0b2RheVwiOnRoaXMuZGF5cz0wO2JyZWFrO2Nhc2VcIm5vd1wiOnRoaXMuZGF5cz0wO3RoaXMubm93PXRydWU7YnJlYWs7fX07fSxmaW5pc2hFeGFjdDpmdW5jdGlvbih4KXt4PSh4IGluc3RhbmNlb2YgQXJyYXkpP3g6W3hdO3ZhciBub3c9bmV3IERhdGUoKTt0aGlzLnllYXI9bm93LmdldEZ1bGxZZWFyKCk7dGhpcy5tb250aD1ub3cuZ2V0TW9udGgoKTt0aGlzLmRheT0xO3RoaXMuaG91cj0wO3RoaXMubWludXRlPTA7dGhpcy5zZWNvbmQ9MDtmb3IodmFyIGk9MDtpPHgubGVuZ3RoO2krKyl7aWYoeFtpXSl7eFtpXS5jYWxsKHRoaXMpO319XG50aGlzLmhvdXI9KHRoaXMubWVyaWRpYW49PVwicFwiJiZ0aGlzLmhvdXI8MTMpP3RoaXMuaG91cisxMjp0aGlzLmhvdXI7aWYodGhpcy5kYXk+RGF0ZS5nZXREYXlzSW5Nb250aCh0aGlzLnllYXIsdGhpcy5tb250aCkpe3Rocm93IG5ldyBSYW5nZUVycm9yKHRoaXMuZGF5K1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBkYXlzLlwiKTt9XG52YXIgcj1uZXcgRGF0ZSh0aGlzLnllYXIsdGhpcy5tb250aCx0aGlzLmRheSx0aGlzLmhvdXIsdGhpcy5taW51dGUsdGhpcy5zZWNvbmQpO2lmKHRoaXMudGltZXpvbmUpe3Iuc2V0KHt0aW1lem9uZTp0aGlzLnRpbWV6b25lfSk7fWVsc2UgaWYodGhpcy50aW1lem9uZU9mZnNldCl7ci5zZXQoe3RpbWV6b25lT2Zmc2V0OnRoaXMudGltZXpvbmVPZmZzZXR9KTt9XG5yZXR1cm4gcjt9LGZpbmlzaDpmdW5jdGlvbih4KXt4PSh4IGluc3RhbmNlb2YgQXJyYXkpP2ZsYXR0ZW5BbmRDb21wYWN0KHgpOlt4XTtpZih4Lmxlbmd0aD09PTApe3JldHVybiBudWxsO31cbmZvcih2YXIgaT0wO2k8eC5sZW5ndGg7aSsrKXtpZih0eXBlb2YgeFtpXT09XCJmdW5jdGlvblwiKXt4W2ldLmNhbGwodGhpcyk7fX1cbmlmKHRoaXMubm93KXtyZXR1cm4gbmV3IERhdGUoKTt9XG52YXIgdG9kYXk9RGF0ZS50b2RheSgpO3ZhciBtZXRob2Q9bnVsbDt2YXIgZXhwcmVzc2lvbj0hISh0aGlzLmRheXMhPW51bGx8fHRoaXMub3JpZW50fHx0aGlzLm9wZXJhdG9yKTtpZihleHByZXNzaW9uKXt2YXIgZ2FwLG1vZCxvcmllbnQ7b3JpZW50PSgodGhpcy5vcmllbnQ9PVwicGFzdFwifHx0aGlzLm9wZXJhdG9yPT1cInN1YnRyYWN0XCIpPy0xOjEpO2lmKHRoaXMud2Vla2RheSl7dGhpcy51bml0PVwiZGF5XCI7Z2FwPShEYXRlLmdldERheU51bWJlckZyb21OYW1lKHRoaXMud2Vla2RheSktdG9kYXkuZ2V0RGF5KCkpO21vZD03O3RoaXMuZGF5cz1nYXA/KChnYXArKG9yaWVudCptb2QpKSVtb2QpOihvcmllbnQqbW9kKTt9XG5pZih0aGlzLm1vbnRoKXt0aGlzLnVuaXQ9XCJtb250aFwiO2dhcD0odGhpcy5tb250aC10b2RheS5nZXRNb250aCgpKTttb2Q9MTI7dGhpcy5tb250aHM9Z2FwPygoZ2FwKyhvcmllbnQqbW9kKSklbW9kKToob3JpZW50Km1vZCk7dGhpcy5tb250aD1udWxsO31cbmlmKCF0aGlzLnVuaXQpe3RoaXMudW5pdD1cImRheVwiO31cbmlmKHRoaXNbdGhpcy51bml0K1wic1wiXT09bnVsbHx8dGhpcy5vcGVyYXRvciE9bnVsbCl7aWYoIXRoaXMudmFsdWUpe3RoaXMudmFsdWU9MTt9XG5pZih0aGlzLnVuaXQ9PVwid2Vla1wiKXt0aGlzLnVuaXQ9XCJkYXlcIjt0aGlzLnZhbHVlPXRoaXMudmFsdWUqNzt9XG50aGlzW3RoaXMudW5pdCtcInNcIl09dGhpcy52YWx1ZSpvcmllbnQ7fVxucmV0dXJuIHRvZGF5LmFkZCh0aGlzKTt9ZWxzZXtpZih0aGlzLm1lcmlkaWFuJiZ0aGlzLmhvdXIpe3RoaXMuaG91cj0odGhpcy5ob3VyPDEzJiZ0aGlzLm1lcmlkaWFuPT1cInBcIik/dGhpcy5ob3VyKzEyOnRoaXMuaG91cjt9XG5pZih0aGlzLndlZWtkYXkmJiF0aGlzLmRheSl7dGhpcy5kYXk9KHRvZGF5LmFkZERheXMoKERhdGUuZ2V0RGF5TnVtYmVyRnJvbU5hbWUodGhpcy53ZWVrZGF5KS10b2RheS5nZXREYXkoKSkpKS5nZXREYXRlKCk7fVxuaWYodGhpcy5tb250aCYmIXRoaXMuZGF5KXt0aGlzLmRheT0xO31cbnJldHVybiB0b2RheS5zZXQodGhpcyk7fX19O3ZhciBfPURhdGUuUGFyc2luZy5PcGVyYXRvcnMsZz1EYXRlLkdyYW1tYXIsdD1EYXRlLlRyYW5zbGF0b3IsX2ZuO2cuZGF0ZVBhcnREZWxpbWl0ZXI9Xy5ydG9rZW4oL14oW1xcc1xcLVxcLlxcLFxcL1xceDI3XSspLyk7Zy50aW1lUGFydERlbGltaXRlcj1fLnN0b2tlbihcIjpcIik7Zy53aGl0ZVNwYWNlPV8ucnRva2VuKC9eXFxzKi8pO2cuZ2VuZXJhbERlbGltaXRlcj1fLnJ0b2tlbigvXigoW1xcc1xcLF18YXR8b24pKykvKTt2YXIgX0M9e307Zy5jdG9rZW49ZnVuY3Rpb24oa2V5cyl7dmFyIGZuPV9DW2tleXNdO2lmKCFmbil7dmFyIGM9RGF0ZS5DdWx0dXJlSW5mby5yZWdleFBhdHRlcm5zO3ZhciBreD1rZXlzLnNwbGl0KC9cXHMrLykscHg9W107Zm9yKHZhciBpPTA7aTxreC5sZW5ndGg7aSsrKXtweC5wdXNoKF8ucmVwbGFjZShfLnJ0b2tlbihjW2t4W2ldXSksa3hbaV0pKTt9XG5mbj1fQ1trZXlzXT1fLmFueS5hcHBseShudWxsLHB4KTt9XG5yZXR1cm4gZm47fTtnLmN0b2tlbjI9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gXy5ydG9rZW4oRGF0ZS5DdWx0dXJlSW5mby5yZWdleFBhdHRlcm5zW2tleV0pO307Zy5oPV8uY2FjaGUoXy5wcm9jZXNzKF8ucnRva2VuKC9eKDBbMC05XXwxWzAtMl18WzEtOV0pLyksdC5ob3VyKSk7Zy5oaD1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXigwWzAtOV18MVswLTJdKS8pLHQuaG91cikpO2cuSD1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXihbMC0xXVswLTldfDJbMC0zXXxbMC05XSkvKSx0LmhvdXIpKTtnLkhIPV8uY2FjaGUoXy5wcm9jZXNzKF8ucnRva2VuKC9eKFswLTFdWzAtOV18MlswLTNdKS8pLHQuaG91cikpO2cubT1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXihbMC01XVswLTldfFswLTldKS8pLHQubWludXRlKSk7Zy5tbT1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXlswLTVdWzAtOV0vKSx0Lm1pbnV0ZSkpO2cucz1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXihbMC01XVswLTldfFswLTldKS8pLHQuc2Vjb25kKSk7Zy5zcz1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXlswLTVdWzAtOV0vKSx0LnNlY29uZCkpO2cuaG1zPV8uY2FjaGUoXy5zZXF1ZW5jZShbZy5ILGcubW0sZy5zc10sZy50aW1lUGFydERlbGltaXRlcikpO2cudD1fLmNhY2hlKF8ucHJvY2VzcyhnLmN0b2tlbjIoXCJzaG9ydE1lcmlkaWFuXCIpLHQubWVyaWRpYW4pKTtnLnR0PV8uY2FjaGUoXy5wcm9jZXNzKGcuY3Rva2VuMihcImxvbmdNZXJpZGlhblwiKSx0Lm1lcmlkaWFuKSk7Zy56PV8uY2FjaGUoXy5wcm9jZXNzKF8ucnRva2VuKC9eKFxcK3xcXC0pP1xccypcXGRcXGRcXGRcXGQ/LyksdC50aW1lem9uZSkpO2cueno9Xy5jYWNoZShfLnByb2Nlc3MoXy5ydG9rZW4oL14oXFwrfFxcLSlcXHMqXFxkXFxkXFxkXFxkLyksdC50aW1lem9uZSkpO2cuenp6PV8uY2FjaGUoXy5wcm9jZXNzKGcuY3Rva2VuMihcInRpbWV6b25lXCIpLHQudGltZXpvbmUpKTtnLnRpbWVTdWZmaXg9Xy5lYWNoKF8uaWdub3JlKGcud2hpdGVTcGFjZSksXy5zZXQoW2cudHQsZy56enpdKSk7Zy50aW1lPV8uZWFjaChfLm9wdGlvbmFsKF8uaWdub3JlKF8uc3Rva2VuKFwiVFwiKSkpLGcuaG1zLGcudGltZVN1ZmZpeCk7Zy5kPV8uY2FjaGUoXy5wcm9jZXNzKF8uZWFjaChfLnJ0b2tlbigvXihbMC0yXVxcZHwzWzAtMV18XFxkKS8pLF8ub3B0aW9uYWwoZy5jdG9rZW4yKFwib3JkaW5hbFN1ZmZpeFwiKSkpLHQuZGF5KSk7Zy5kZD1fLmNhY2hlKF8ucHJvY2VzcyhfLmVhY2goXy5ydG9rZW4oL14oWzAtMl1cXGR8M1swLTFdKS8pLF8ub3B0aW9uYWwoZy5jdG9rZW4yKFwib3JkaW5hbFN1ZmZpeFwiKSkpLHQuZGF5KSk7Zy5kZGQ9Zy5kZGRkPV8uY2FjaGUoXy5wcm9jZXNzKGcuY3Rva2VuKFwic3VuIG1vbiB0dWUgd2VkIHRodSBmcmkgc2F0XCIpLGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3RoaXMud2Vla2RheT1zO307fSkpO2cuTT1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXigxWzAtMl18MFxcZHxcXGQpLyksdC5tb250aCkpO2cuTU09Xy5jYWNoZShfLnByb2Nlc3MoXy5ydG9rZW4oL14oMVswLTJdfDBcXGQpLyksdC5tb250aCkpO2cuTU1NPWcuTU1NTT1fLmNhY2hlKF8ucHJvY2VzcyhnLmN0b2tlbihcImphbiBmZWIgbWFyIGFwciBtYXkganVuIGp1bCBhdWcgc2VwIG9jdCBub3YgZGVjXCIpLHQubW9udGgpKTtnLnk9Xy5jYWNoZShfLnByb2Nlc3MoXy5ydG9rZW4oL14oXFxkXFxkPykvKSx0LnllYXIpKTtnLnl5PV8uY2FjaGUoXy5wcm9jZXNzKF8ucnRva2VuKC9eKFxcZFxcZCkvKSx0LnllYXIpKTtnLnl5eT1fLmNhY2hlKF8ucHJvY2VzcyhfLnJ0b2tlbigvXihcXGRcXGQ/XFxkP1xcZD8pLyksdC55ZWFyKSk7Zy55eXl5PV8uY2FjaGUoXy5wcm9jZXNzKF8ucnRva2VuKC9eKFxcZFxcZFxcZFxcZCkvKSx0LnllYXIpKTtfZm49ZnVuY3Rpb24oKXtyZXR1cm4gXy5lYWNoKF8uYW55LmFwcGx5KG51bGwsYXJndW1lbnRzKSxfLm5vdChnLmN0b2tlbjIoXCJ0aW1lQ29udGV4dFwiKSkpO307Zy5kYXk9X2ZuKGcuZCxnLmRkKTtnLm1vbnRoPV9mbihnLk0sZy5NTU0pO2cueWVhcj1fZm4oZy55eXl5LGcueXkpO2cub3JpZW50YXRpb249Xy5wcm9jZXNzKGcuY3Rva2VuKFwicGFzdCBmdXR1cmVcIiksZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5vcmllbnQ9czt9O30pO2cub3BlcmF0b3I9Xy5wcm9jZXNzKGcuY3Rva2VuKFwiYWRkIHN1YnRyYWN0XCIpLGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3RoaXMub3BlcmF0b3I9czt9O30pO2cucmRheT1fLnByb2Nlc3MoZy5jdG9rZW4oXCJ5ZXN0ZXJkYXkgdG9tb3Jyb3cgdG9kYXkgbm93XCIpLHQucmRheSk7Zy51bml0PV8ucHJvY2VzcyhnLmN0b2tlbihcIm1pbnV0ZSBob3VyIGRheSB3ZWVrIG1vbnRoIHllYXJcIiksZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy51bml0PXM7fTt9KTtnLnZhbHVlPV8ucHJvY2VzcyhfLnJ0b2tlbigvXlxcZFxcZD8oc3R8bmR8cmR8dGgpPy8pLGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbigpe3RoaXMudmFsdWU9cy5yZXBsYWNlKC9cXEQvZyxcIlwiKTt9O30pO2cuZXhwcmVzc2lvbj1fLnNldChbZy5yZGF5LGcub3BlcmF0b3IsZy52YWx1ZSxnLnVuaXQsZy5vcmllbnRhdGlvbixnLmRkZCxnLk1NTV0pO19mbj1mdW5jdGlvbigpe3JldHVybiBfLnNldChhcmd1bWVudHMsZy5kYXRlUGFydERlbGltaXRlcik7fTtnLm1keT1fZm4oZy5kZGQsZy5tb250aCxnLmRheSxnLnllYXIpO2cueW1kPV9mbihnLmRkZCxnLnllYXIsZy5tb250aCxnLmRheSk7Zy5kbXk9X2ZuKGcuZGRkLGcuZGF5LGcubW9udGgsZy55ZWFyKTtnLmRhdGU9ZnVuY3Rpb24ocyl7cmV0dXJuKChnW0RhdGUuQ3VsdHVyZUluZm8uZGF0ZUVsZW1lbnRPcmRlcl18fGcubWR5KS5jYWxsKHRoaXMscykpO307Zy5mb3JtYXQ9Xy5wcm9jZXNzKF8ubWFueShfLmFueShfLnByb2Nlc3MoXy5ydG9rZW4oL14oZGQ/ZD9kP3xNTT9NP00/fHl5P3k/eT98aGg/fEhIP3xtbT98c3M/fHR0P3x6ej96PykvKSxmdW5jdGlvbihmbXQpe2lmKGdbZm10XSl7cmV0dXJuIGdbZm10XTt9ZWxzZXt0aHJvdyBEYXRlLlBhcnNpbmcuRXhjZXB0aW9uKGZtdCk7fX0pLF8ucHJvY2VzcyhfLnJ0b2tlbigvXlteZE15aEhtc3R6XSsvKSxmdW5jdGlvbihzKXtyZXR1cm4gXy5pZ25vcmUoXy5zdG9rZW4ocykpO30pKSksZnVuY3Rpb24ocnVsZXMpe3JldHVybiBfLnByb2Nlc3MoXy5lYWNoLmFwcGx5KG51bGwscnVsZXMpLHQuZmluaXNoRXhhY3QpO30pO3ZhciBfRj17fTt2YXIgX2dldD1mdW5jdGlvbihmKXtyZXR1cm4gX0ZbZl09KF9GW2ZdfHxnLmZvcm1hdChmKVswXSk7fTtnLmZvcm1hdHM9ZnVuY3Rpb24oZngpe2lmKGZ4IGluc3RhbmNlb2YgQXJyYXkpe3ZhciByeD1bXTtmb3IodmFyIGk9MDtpPGZ4Lmxlbmd0aDtpKyspe3J4LnB1c2goX2dldChmeFtpXSkpO31cbnJldHVybiBfLmFueS5hcHBseShudWxsLHJ4KTt9ZWxzZXtyZXR1cm4gX2dldChmeCk7fX07Zy5fZm9ybWF0cz1nLmZvcm1hdHMoW1wieXl5eS1NTS1kZFRISDptbTpzc1wiLFwiZGRkLCBNTU0gZGQsIHl5eXkgSDptbTpzcyB0dFwiLFwiZGRkIE1NTSBkIHl5eXkgSEg6bW06c3Mgenp6XCIsXCJkXCJdKTtnLl9zdGFydD1fLnByb2Nlc3MoXy5zZXQoW2cuZGF0ZSxnLnRpbWUsZy5leHByZXNzaW9uXSxnLmdlbmVyYWxEZWxpbWl0ZXIsZy53aGl0ZVNwYWNlKSx0LmZpbmlzaCk7Zy5zdGFydD1mdW5jdGlvbihzKXt0cnl7dmFyIHI9Zy5fZm9ybWF0cy5jYWxsKHt9LHMpO2lmKHJbMV0ubGVuZ3RoPT09MCl7cmV0dXJuIHI7fX1jYXRjaChlKXt9XG5yZXR1cm4gZy5fc3RhcnQuY2FsbCh7fSxzKTt9O30oKSk7RGF0ZS5fcGFyc2U9RGF0ZS5wYXJzZTtEYXRlLnBhcnNlPWZ1bmN0aW9uKHMpe3ZhciByPW51bGw7aWYoIXMpe3JldHVybiBudWxsO31cbnRyeXtyPURhdGUuR3JhbW1hci5zdGFydC5jYWxsKHt9LHMpO31jYXRjaChlKXtyZXR1cm4gbnVsbDt9XG5yZXR1cm4oKHJbMV0ubGVuZ3RoPT09MCk/clswXTpudWxsKTt9O0RhdGUuZ2V0UGFyc2VGdW5jdGlvbj1mdW5jdGlvbihmeCl7dmFyIGZuPURhdGUuR3JhbW1hci5mb3JtYXRzKGZ4KTtyZXR1cm4gZnVuY3Rpb24ocyl7dmFyIHI9bnVsbDt0cnl7cj1mbi5jYWxsKHt9LHMpO31jYXRjaChlKXtyZXR1cm4gbnVsbDt9XG5yZXR1cm4oKHJbMV0ubGVuZ3RoPT09MCk/clswXTpudWxsKTt9O307RGF0ZS5wYXJzZUV4YWN0PWZ1bmN0aW9uKHMsZngpe3JldHVybiBEYXRlLmdldFBhcnNlRnVuY3Rpb24oZngpKHMpO307XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3V0aWxzL2RhdGUuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=')},22:function(module,exports){eval('(function () {\n\n\tvar handlers = {};\n\twindow.addHandler = function (event, func) {\n\t\tif (!(event in handlers)) handlers[event] = [];\n\n\t\thandlers[event].push(func);\n\t};\n\n\thandleMessage = function handleMessage(request, sender, sendResponse) {\n\t\tvar event = request.event;\n\n\t\t// if(typeof event !== "undefined") console.log("got event: " + event);\n\t\tif (event in handlers) {\n\t\t\tfor (var i = 0; i < handlers[event].length; i++) {\n\t\t\t\thandlers[event][i](request.data, sender, sendResponse);\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tchrome.runtime.onMessage.addListener(handleMessage);\n\n\tfunction isBackground() {\n\t\treturn chrome && chrome.extension && location.href.indexOf("background") > 0;\n\t}\n\n\tif (isBackground()) window.sendMessage = function (event, data, callback, tabFilter) {\n\t\t// console.log("put event: " + event);\n\t\ttabFilter = tabFilter || {};\n\t\tcallback = callback || function () {};\n\n\t\t// handleMessage({\n\t\t// \t"event": event,\n\t\t// \t"data": data\n\t\t// }, null, callback);\n\n\t\tif (typeof tabFilter === "number") {\n\t\t\tchrome.tabs.sendMessage(tabFilter, {\n\t\t\t\t"event": event,\n\t\t\t\t"data": data\n\t\t\t}, function (d) {\n\t\t\t\tcallback(d, tabFilter);\n\t\t\t});\n\t\t} else {\n\t\t\tchrome.tabs.query(tabFilter, function (tabList) {\n\t\t\t\tfor (var i = 0; i < tabList.length; i++) {\n\t\t\t\t\tvar tabId = tabList[i].id;\n\t\t\t\t\tchrome.tabs.sendMessage(tabId, {\n\t\t\t\t\t\t"event": event,\n\t\t\t\t\t\t"data": data\n\t\t\t\t\t}, function (d) {\n\t\t\t\t\t\tcallback(d, tabId);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};else window.sendMessage = function (event, data, callback) {\n\t\t// console.log("put event: " + event);\n\t\t// handleMessage({\n\t\t// \t"event": event,\n\t\t// \t"data": data\n\t\t// }, null, callback);\n\t\tchrome.runtime.sendMessage({\n\t\t\t"event": event,\n\t\t\t"data": data\n\t\t}, callback);\n\t};\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL21lc3NhZ2VTeXN0ZW0uanM/OTEwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbnZhciBoYW5kbGVycyA9IHt9O1xud2luZG93LmFkZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgZnVuYykge1xuXHRpZighKGV2ZW50IGluIGhhbmRsZXJzKSkgaGFuZGxlcnNbZXZlbnRdID0gW107XG5cblx0aGFuZGxlcnNbZXZlbnRdLnB1c2goZnVuYyk7XG59XG5cbmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbihyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuXHR2YXIgZXZlbnQgPSByZXF1ZXN0LmV2ZW50O1xuXG5cdC8vIGlmKHR5cGVvZiBldmVudCAhPT0gXCJ1bmRlZmluZWRcIikgY29uc29sZS5sb2coXCJnb3QgZXZlbnQ6IFwiICsgZXZlbnQpO1xuXHRpZihldmVudCBpbiBoYW5kbGVycykge1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBoYW5kbGVyc1tldmVudF0ubGVuZ3RoOyBpKyspIHtcblx0XHRcdCBoYW5kbGVyc1tldmVudF1baV0ocmVxdWVzdC5kYXRhLCBzZW5kZXIsIHNlbmRSZXNwb25zZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59O1xuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoaGFuZGxlTWVzc2FnZSk7XG5cbmZ1bmN0aW9uIGlzQmFja2dyb3VuZCgpIHtcbiAgICByZXR1cm4gY2hyb21lICYmIGNocm9tZS5leHRlbnNpb24gJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKSA+IDA7ICAgIFxufVxuXG5pZihpc0JhY2tncm91bmQoKSkgd2luZG93LnNlbmRNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEsIGNhbGxiYWNrLCB0YWJGaWx0ZXIpIHtcblx0Ly8gY29uc29sZS5sb2coXCJwdXQgZXZlbnQ6IFwiICsgZXZlbnQpO1xuXHR0YWJGaWx0ZXIgPSB0YWJGaWx0ZXIgfHwge307XG5cdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKXt9O1xuXG5cdC8vIGhhbmRsZU1lc3NhZ2Uoe1xuXHQvLyBcdFwiZXZlbnRcIjogZXZlbnQsXG5cdC8vIFx0XCJkYXRhXCI6IGRhdGFcblx0Ly8gfSwgbnVsbCwgY2FsbGJhY2spO1xuXG5cdGlmKHR5cGVvZih0YWJGaWx0ZXIpID09PSBcIm51bWJlclwiKSB7XG5cdFx0Y2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiRmlsdGVyLCB7XG5cdFx0XHRcImV2ZW50XCI6IGV2ZW50LFxuXHRcdFx0XCJkYXRhXCI6IGRhdGFcblx0XHR9LCBmdW5jdGlvbihkKSB7XG5cdFx0XHRjYWxsYmFjayhkLCB0YWJGaWx0ZXIpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGNocm9tZS50YWJzLnF1ZXJ5KHRhYkZpbHRlciwgZnVuY3Rpb24odGFiTGlzdCkge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRhYkxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHRhYklkID0gdGFiTGlzdFtpXS5pZDtcblx0XHRcdFx0Y2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiSWQsIHtcblx0XHRcdFx0XHRcImV2ZW50XCI6IGV2ZW50LFxuXHRcdFx0XHRcdFwiZGF0YVwiOiBkYXRhXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRjYWxsYmFjayhkLCB0YWJJZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59O1xuZWxzZSB3aW5kb3cuc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCwgZGF0YSwgY2FsbGJhY2spIHtcblx0Ly8gY29uc29sZS5sb2coXCJwdXQgZXZlbnQ6IFwiICsgZXZlbnQpO1xuXHQvLyBoYW5kbGVNZXNzYWdlKHtcblx0Ly8gXHRcImV2ZW50XCI6IGV2ZW50LFxuXHQvLyBcdFwiZGF0YVwiOiBkYXRhXG5cdC8vIH0sIG51bGwsIGNhbGxiYWNrKTtcblx0Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFwiZXZlbnRcIjogZXZlbnQsXG5cdFx0XCJkYXRhXCI6IGRhdGFcblx0fSwgY2FsbGJhY2spO1xufTtcblxuXG59KSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvdXRpbHMvbWVzc2FnZVN5c3RlbS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBR0EiLCJzb3VyY2VSb290IjoiIn0=')},23:function(module,exports){eval('(function () {\n\n\tvar isBackground = function isBackground() {\n\t\treturn chrome && chrome.extension && location.href.indexOf("background") > 0;\n\t};\n\tisBackground = isBackground();\n\n\tvar settings = {};\n\tvar settingsHandlers = {};\n\n\tvar saveLocally = function saveLocally() {\n\t\tchrome.storage.sync.set({\n\t\t\t"settings": settings\n\t\t});\n\t};\n\n\twindow.getSetting = function (s) {\n\t\treturn settings[s];\n\t};\n\n\twindow.setSetting = function (s, v) {\n\t\tsettings[s] = v;\n\t\trunHandlers(s, v);\n\n\t\tvar data = {};\n\t\tdata[s] = v;\n\t\twindow.sendMessage("set_settings", data);\n\t\tif (isBackground) {\n\t\t\tsaveLocally();\n\t\t}\n\t};\n\n\twindow.addSettingsHandler = function (sName, func) {\n\t\tif (!(sName in settingsHandlers)) settingsHandlers[sName] = [];\n\n\t\tsettingsHandlers[sName].push(func);\n\t};\n\n\tvar runHandlers = function runHandlers(sName, sValue) {\n\t\tif (sName in settingsHandlers) {\n\t\t\tfor (var i = 0; i < settingsHandlers[sName].length; i++) {\n\t\t\t\tsettingsHandlers[sName][i](sValue);\n\t\t\t}\n\t\t}\n\t};\n\n\twindow.addHandler("set_settings", function (data) {\n\t\tvar keys = Object.keys(data);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tsettings[keys[i]] = data[keys[i]];\n\t\t\trunHandlers(keys[i], data[keys[i]]);\n\t\t}\n\t\tif (isBackground) {\n\t\t\twindow.sendMessage("set_settings", data);\n\t\t\tsaveLocally();\n\t\t}\n\t});\n\n\tif (isBackground) {\n\t\twindow.loadSettings = function (dSet, loaded) {\n\t\t\tloaded = loaded || function () {};\n\t\t\tStorage.getAppSettings(function (oSet) {\n\t\t\t\tchrome.storage.sync.get(["settings"], function (nSet) {\n\t\t\t\t\tnSet = nSet.settings || {};\n\t\t\t\t\toSet = oSet || {};\n\t\t\t\t\tdSet = dSet || {};\n\n\t\t\t\t\tvar keyList = {};\n\n\t\t\t\t\tfor (var k in dSet) {\n\t\t\t\t\t\tkeyList[k] = 1;\n\t\t\t\t\t}for (var k in oSet) {\n\t\t\t\t\t\tkeyList[k] = 1;\n\t\t\t\t\t}for (var k in nSet) {\n\t\t\t\t\t\tkeyList[k] = 1;\n\t\t\t\t\t}keyList = Object.keys(keyList);\n\n\t\t\t\t\tfor (var i = 0; i < keyList.length; i++) {\n\t\t\t\t\t\tvar k = keyList[i];\n\t\t\t\t\t\tif (k in dSet) settings[k] = dSet[k];\n\t\t\t\t\t\tif (k in oSet) settings[k] = oSet[k];\n\t\t\t\t\t\tif (k in nSet) settings[k] = nSet[k];\n\t\t\t\t\t}\n\n\t\t\t\t\tloaded();\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\twindow.addHandler("get_settings", function (data, sender, sendResponse) {\n\t\t\tsendResponse(settings);\n\t\t});\n\t} else {\n\t\twindow.loadSettings = function (dSet, loaded) {\n\t\t\tif (typeof dSet === "function" && typeof loaded === "undefined") loaded = dSet;\n\t\t\tloaded = loaded || function () {};\n\n\t\t\twindow.sendMessage("get_settings", undefined, function (s) {\n\t\t\t\tsettings = s;\n\t\t\t\tloaded();\n\t\t\t});\n\t\t};\n\t}\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL3NldHRpbmdzU3lzdGVtLmpzPzI5MmEiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuXG52YXIgaXNCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBjaHJvbWUgJiYgY2hyb21lLmV4dGVuc2lvbiAmJiBsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpID4gMDtcbn1cbmlzQmFja2dyb3VuZCA9IGlzQmFja2dyb3VuZCgpO1xuXG52YXIgc2V0dGluZ3MgPSB7fTtcbnZhciBzZXR0aW5nc0hhbmRsZXJzID0ge307XG5cbnZhciBzYXZlTG9jYWxseSA9IGZ1bmN0aW9uKCkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7XG5cdFx0XCJzZXR0aW5nc1wiOiBzZXR0aW5nc1xuXHR9KTtcbn1cblxud2luZG93LmdldFNldHRpbmcgPSBmdW5jdGlvbihzKSB7XG5cdHJldHVybiBzZXR0aW5nc1tzXTtcbn1cblxud2luZG93LnNldFNldHRpbmcgPSBmdW5jdGlvbihzLCB2KSB7XG5cdHNldHRpbmdzW3NdID0gdjtcblx0cnVuSGFuZGxlcnMocywgdik7XG5cblx0dmFyIGRhdGEgPSB7fTtcblx0ZGF0YVtzXT12O1xuXHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJzZXRfc2V0dGluZ3NcIiwgZGF0YSk7XG5cdGlmKGlzQmFja2dyb3VuZCkge1xuXHRcdHNhdmVMb2NhbGx5KCk7XG5cdH1cbn1cblxud2luZG93LmFkZFNldHRpbmdzSGFuZGxlciA9IGZ1bmN0aW9uKHNOYW1lLCBmdW5jKSB7XG5cdGlmKCEoc05hbWUgaW4gc2V0dGluZ3NIYW5kbGVycykpIHNldHRpbmdzSGFuZGxlcnNbc05hbWVdID0gW107XG5cblx0c2V0dGluZ3NIYW5kbGVyc1tzTmFtZV0ucHVzaChmdW5jKTtcbn1cblxudmFyIHJ1bkhhbmRsZXJzID0gZnVuY3Rpb24oc05hbWUsIHNWYWx1ZSkge1xuXHRpZihzTmFtZSBpbiBzZXR0aW5nc0hhbmRsZXJzKSB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNldHRpbmdzSGFuZGxlcnNbc05hbWVdLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRzZXR0aW5nc0hhbmRsZXJzW3NOYW1lXVtpXShzVmFsdWUpO1xuXHRcdH1cblx0fVxufVxuXG53aW5kb3cuYWRkSGFuZGxlcihcInNldF9zZXR0aW5nc1wiLCBmdW5jdGlvbihkYXRhKSB7XG5cdHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c2V0dGluZ3Nba2V5c1tpXV0gPSBkYXRhW2tleXNbaV1dO1xuXHRcdHJ1bkhhbmRsZXJzKGtleXNbaV0sIGRhdGFba2V5c1tpXV0pO1xuXHR9XG5cdGlmKGlzQmFja2dyb3VuZCkge1xuXHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcInNldF9zZXR0aW5nc1wiLCBkYXRhKTtcblx0XHRzYXZlTG9jYWxseSgpXG5cdH1cbn0pO1xuXG5pZihpc0JhY2tncm91bmQpIHtcblx0d2luZG93LmxvYWRTZXR0aW5ncyA9IGZ1bmN0aW9uKGRTZXQsIGxvYWRlZCkge1xuXHRcdGxvYWRlZCA9IGxvYWRlZCB8fCBmdW5jdGlvbigpIHt9O1xuXHRcdFN0b3JhZ2UuZ2V0QXBwU2V0dGluZ3MoZnVuY3Rpb24ob1NldCkge1xuXHRcdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoW1wic2V0dGluZ3NcIl0sIGZ1bmN0aW9uKG5TZXQpIHtcblx0XHRcdFx0blNldCA9IG5TZXQuc2V0dGluZ3MgfHwge307XG5cdFx0XHRcdG9TZXQgPSBvU2V0IHx8IHt9O1xuXHRcdFx0XHRkU2V0ID0gZFNldCB8fCB7fTtcblxuXHRcdFx0XHR2YXIga2V5TGlzdCA9IHt9XG5cblx0XHRcdFx0Zm9yKHZhciBrIGluIGRTZXQpIGtleUxpc3Rba10gPSAxO1xuXHRcdFx0XHRmb3IodmFyIGsgaW4gb1NldCkga2V5TGlzdFtrXSA9IDE7XG5cdFx0XHRcdGZvcih2YXIgayBpbiBuU2V0KSBrZXlMaXN0W2tdID0gMTtcblxuXHRcdFx0XHRrZXlMaXN0ID0gT2JqZWN0LmtleXMoa2V5TGlzdCk7XG5cblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGtleUxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgayA9IGtleUxpc3RbaV07XG5cdFx0XHRcdFx0aWYoayBpbiBkU2V0KSBzZXR0aW5nc1trXSA9IGRTZXRba107XG5cdFx0XHRcdFx0aWYoayBpbiBvU2V0KSBzZXR0aW5nc1trXSA9IG9TZXRba107XG5cdFx0XHRcdFx0aWYoayBpbiBuU2V0KSBzZXR0aW5nc1trXSA9IG5TZXRba107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsb2FkZWQoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJnZXRfc2V0dGluZ3NcIiwgZnVuY3Rpb24oZGF0YSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcblx0XHRzZW5kUmVzcG9uc2Uoc2V0dGluZ3MpO1xuXHR9KTtcbn0gZWxzZSB7XG5cdHdpbmRvdy5sb2FkU2V0dGluZ3MgPSBmdW5jdGlvbihkU2V0LCBsb2FkZWQpIHtcblx0XHRpZih0eXBlb2YgZFNldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBsb2FkZWQgPT09IFwidW5kZWZpbmVkXCIpIGxvYWRlZCA9IGRTZXQ7XG5cdFx0bG9hZGVkID0gbG9hZGVkIHx8IGZ1bmN0aW9uKCl7fTtcblxuXHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImdldF9zZXR0aW5nc1wiLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHMpIHtcblx0XHRcdHNldHRpbmdzID0gcztcblx0XHRcdGxvYWRlZCgpO1xuXHRcdH0pO1xuXHR9XG59XG5cbn0pKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9zZXR0aW5nc1N5c3RlbS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==')},41:function(module,exports){eval('(function () {\n\n\tfunction isBackground() {\n\t\treturn chrome && chrome.extension && location.href.indexOf("background") > 0;\n\t}\n\n\tif (isBackground()) (function () {\n\t\t//BACKGROUND PAGE\n\t\tvar urlCache = [];\n\t\tvar userId = null;\n\t\tvar foundIp = null;\n\t\tvar ipFoundTime = null;\n\n\t\tfunction myIP(callback) {\n\t\t\tvar xml = new XMLHttpRequest();\n\t\t\txml.onreadystatechange = function () {\n\t\t\t\tif (xml.readyState == 4) {\n\t\t\t\t\tvar text = xml.responseText;\n\t\t\t\t\tvar index = text.indexOf("<br>");\n\t\t\t\t\tvar ip = text.substring(0, index);\n\t\t\t\t\tcallback(ip);\n\t\t\t\t}\n\t\t\t};\n\t\t\txml.open("GET", /* @mangle */"http:\\/\\/www.ispeech.org/yourip.php" /* @/mangle */);\n\t\t\txml.send();\n\t\t}\n\t\tfunction refreshIP() {\n\t\t\tmyIP(function (ip) {\n\t\t\t\tfoundIp = ip;\n\t\t\t\tipFoundTime = Date.now();\n\t\t\t});\n\t\t}\n\t\trefreshIP();\n\n\t\tfunction genId() {\n\t\t\tvar n = Math.random();\n\n\t\t\tn = n * 8999999999 + 1000000000;\n\t\t\tn = Math.floor(n);\n\n\t\t\treturn "" + n;\n\t\t}\n\n\t\tfunction maybeSend() {\n\t\t\tif (urlCache.length >= 100 && userId != null) {\n\t\t\t\tvar userAgent = navigator.userAgent;\n\n\t\t\t\twindow.cacheData({\n\t\t\t\t\tplatform: 2,\n\t\t\t\t\tdataType: 10,\n\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t"userId": userId,\n\t\t\t\t\t\t"ua": userAgent,\n\t\t\t\t\t\t"urls": urlCache\n\t\t\t\t\t})\n\t\t\t\t}, function (success) {\n\t\t\t\t\tif (success) urlCache = [];\n\t\t\t\t});\n\t\t\t} else if (urlCache.length >= 100) {\n\t\t\t\tgetUserId();\n\t\t\t}\n\t\t}\n\n\t\tfunction getUserId() {\n\t\t\tchrome.storage.local.get(["userId"], function (values) {\n\t\t\t\tif (typeof values.userId === "undefined") {\n\t\t\t\t\tvalues.userId = genId();\n\t\t\t\t\tchrome.storage.local.set(values);\n\t\t\t\t}\n\t\t\t\tuserId = values.userId;\n\t\t\t});\n\t\t}\n\t\tgetUserId();\n\n\t\tchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n\t\t\tif (request.action == "cache_webpage") {\n\t\t\t\turlCache.push({\n\t\t\t\t\t"url": request.url,\n\t\t\t\t\t"time": Date.now().toISOString(),\n\t\t\t\t\t"ip": foundIp,\n\t\t\t\t\t"ref": request.referrer\n\t\t\t\t});\n\t\t\t\tmaybeSend();\n\n\t\t\t\tif (ipFoundTime != null && ipFoundTime.compareTo(Date.now().add(-30).minute()) < 0) refreshIP();\n\t\t\t}\n\t\t});\n\t})();else (function () {\n\t\t//CONTENT-SCRIPT\n\n\t\tvar send = function send() {\n\t\t\tif (window.location.href.includes("/chrome/newtab")) return;\n\t\t\tchrome.runtime.sendMessage({\n\t\t\t\t"action": "cache_webpage",\n\t\t\t\t"url": window.location.href,\n\t\t\t\t"referrer": document.referrer\n\t\t\t});\n\t\t};\n\t\tsend();\n\n\t\tvar savedHref = window.location.href;\n\t\tsetInterval(function () {\n\t\t\tif (window.location.href != savedHref) {\n\t\t\t\tsend();\n\t\t\t\tsavedHref = window.location.href;\n\t\t\t}\n\t\t}, 2000);\n\t})();\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2FwcC91Zi5qcz8xNDFiIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcblxuZnVuY3Rpb24gaXNCYWNrZ3JvdW5kKCkge1xuXHRyZXR1cm4gY2hyb21lICYmIGNocm9tZS5leHRlbnNpb24gJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKSA+IDA7XG59XG5cbmlmKGlzQmFja2dyb3VuZCgpKSAoZnVuY3Rpb24oKSB7IC8vQkFDS0dST1VORCBQQUdFXG52YXIgdXJsQ2FjaGUgPSBbXTtcbnZhciB1c2VySWQgPSBudWxsO1xudmFyIGZvdW5kSXAgPSBudWxsO1xudmFyIGlwRm91bmRUaW1lID0gbnVsbDtcblxuZnVuY3Rpb24gbXlJUChjYWxsYmFjaykge1xuXHR2YXIgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZih4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHR2YXIgdGV4dCA9IHhtbC5yZXNwb25zZVRleHQ7XG5cdFx0XHR2YXIgaW5kZXggPSB0ZXh0LmluZGV4T2YoXCI8YnI+XCIpO1xuXHRcdFx0dmFyIGlwID0gdGV4dC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuXHRcdFx0Y2FsbGJhY2soaXApO1xuXHRcdH1cblx0fVxuXHR4bWwub3BlbihcIkdFVFwiLCAvKiBAbWFuZ2xlICovIFwiaHR0cDpcXC9cXC93d3cuaXNwZWVjaC5vcmcveW91cmlwLnBocFwiIC8qIEAvbWFuZ2xlICovKTtcblx0eG1sLnNlbmQoKTtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hJUCgpIHtcblx0bXlJUChmdW5jdGlvbihpcCkge1xuXHRcdGZvdW5kSXAgPSBpcDtcblx0XHRpcEZvdW5kVGltZSA9IERhdGUubm93KCk7XG5cdH0pO1xufVxucmVmcmVzaElQKCk7XG5cbmZ1bmN0aW9uIGdlbklkKCkge1xuXHR2YXIgbiA9IE1hdGgucmFuZG9tKCk7XG5cblx0biA9IChuKjg5OTk5OTk5OTkpICsgMTAwMDAwMDAwMDtcblx0biA9IE1hdGguZmxvb3Iobik7XG5cblx0cmV0dXJuIFwiXCIgKyBuO1xufVxuXG5mdW5jdGlvbiBtYXliZVNlbmQoKSB7XG5cdGlmKHVybENhY2hlLmxlbmd0aCA+PSAxMDAgJiYgdXNlcklkICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuXHRcdHdpbmRvdy5jYWNoZURhdGEoe1xuXHRcdFx0cGxhdGZvcm06IDIsXG5cdFx0XHRkYXRhVHlwZTogMTAsXG5cdFx0XHRkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgXCJ1c2VySWRcIjogdXNlcklkLCBcbiAgICAgICAgICAgICAgICBcInVhXCI6IHVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBcInVybHNcIjogdXJsQ2FjaGVcbiAgICAgICAgICAgIH0pXG5cdFx0fSwgZnVuY3Rpb24oc3VjY2Vzcykge1xuXHRcdFx0aWYoc3VjY2Vzcylcblx0XHRcdFx0dXJsQ2FjaGUgPSBbXTtcblx0XHR9KTtcblx0fSBlbHNlIGlmKHVybENhY2hlLmxlbmd0aCA+PSAxMDApIHtcblx0XHRnZXRVc2VySWQoKTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRVc2VySWQoKSB7XG5cdGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbXCJ1c2VySWRcIl0sIGZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdGlmKHR5cGVvZih2YWx1ZXMudXNlcklkKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFsdWVzLnVzZXJJZCA9IGdlbklkKCk7XG5cdFx0XHRjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQodmFsdWVzKTtcblx0XHR9XG5cdFx0dXNlcklkID0gdmFsdWVzLnVzZXJJZDtcblx0fSk7XG59XG5nZXRVc2VySWQoKTtcblxuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24ocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcblx0aWYocmVxdWVzdC5hY3Rpb24gPT0gXCJjYWNoZV93ZWJwYWdlXCIpIHtcblx0XHR1cmxDYWNoZS5wdXNoKHtcblx0XHRcdFwidXJsXCI6IHJlcXVlc3QudXJsLFxuXHRcdFx0XCJ0aW1lXCI6IERhdGUubm93KCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIFwiaXBcIjogZm91bmRJcCxcbiAgICAgICAgICAgIFwicmVmXCI6IHJlcXVlc3QucmVmZXJyZXJcblx0XHR9KTtcblx0XHRtYXliZVNlbmQoKTtcblxuXHRcdGlmKGlwRm91bmRUaW1lICE9IG51bGwgJiYgaXBGb3VuZFRpbWUuY29tcGFyZVRvKERhdGUubm93KCkuYWRkKC0zMCkubWludXRlKCkpIDwgMCkgcmVmcmVzaElQKCk7XG5cdH1cbn0pO1xuXG59KSgpOyBlbHNlIChmdW5jdGlvbigpIHsgLy9DT05URU5ULVNDUklQVFxuXG52YXIgc2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL2Nocm9tZS9uZXd0YWJcIikpIHJldHVybjtcblx0Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFwiYWN0aW9uXCI6IFwiY2FjaGVfd2VicGFnZVwiLFxuICAgICAgICBcInVybFwiOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgXCJyZWZlcnJlclwiOiBkb2N1bWVudC5yZWZlcnJlclxuXHR9KTtcbn07XG5zZW5kKCk7XG5cbnZhciBzYXZlZEhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRpZih3aW5kb3cubG9jYXRpb24uaHJlZiAhPSBzYXZlZEhyZWYpIHtcblx0XHRzZW5kKCk7XG5cdFx0c2F2ZWRIcmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdH1cbn0sIDIwMDApO1xuXG59KSgpO1xufSkoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2FwcC91Zi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFIQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==')},42:function(module,exports){eval("iSpeechAPI = {};\n\niSpeechAPI.urls = {};\niSpeechAPI.urls.generate = 'http://cache.ispeech.org/api/rest';\n\niSpeechAPI.errorCodes = {\n\tinvalidApiKey: 1,\n\tcouldNotConvertText: 2,\n\tnotEnoughCredits: 3,\n\tnoActionSpecified: 4,\n\tinvalidText: 5,\n\ttooManyWords: 6,\n\tinvalidTextEntry: 7,\n\tinvalidVoice: 8,\n\tinvalidFileFormat: 12,\n\tinvalidSpeed: 13,\n\tinvalidDictionary: 14,\n\tinvalidBitrate: 15,\n\tinvalidFrequency: 16,\n\toptionNotEnabled: 30,\n\tinvalidPitch: 32,\n\ttrialPeriodOver: 100,\n\tkeyDisabled: 101,\n\tnoApiAccess: 997,\n\tunsupportedOutputType: 998,\n\tinvalidRequest: 999,\n\tinvalidRequestPostRequired: 1000,\n\tssmlError: 3000\n};\n\n// All regions are labeled using iso-3166-1\niSpeechAPI.regions = {\n\tau: { abbreviation: 'au', name: chrome.i18n.getMessage('Australia'), demonym: chrome.i18n.getMessage('Australia_d') },\n\tbr: { abbreviation: 'br', name: chrome.i18n.getMessage('Brazil'), demonym: chrome.i18n.getMessage('Brazil_d') },\n\tca: { abbreviation: 'ca', name: chrome.i18n.getMessage('Canada'), demonym: chrome.i18n.getMessage('Canada_d') },\n\tcz: { abbreviation: 'cz', name: chrome.i18n.getMessage('Czech'), demonym: chrome.i18n.getMessage('Czech_d') },\n\tdk: { abbreviation: 'dk', name: chrome.i18n.getMessage('Denmark'), demonym: chrome.i18n.getMessage('Denmark_d') },\n\tde: { abbreviation: 'de', name: chrome.i18n.getMessage('Germany'), demonym: chrome.i18n.getMessage('Germany_d') },\n\tes: { abbreviation: 'es', name: chrome.i18n.getMessage('Spain'), demonym: chrome.i18n.getMessage('Spain_d') },\n\tfi: { abbreviation: 'fi', name: chrome.i18n.getMessage('Finland'), demonym: chrome.i18n.getMessage('Finland_d') },\n\tfr: { abbreviation: 'fr', name: chrome.i18n.getMessage('France'), demonym: chrome.i18n.getMessage('France_d') },\n\thk: { abbreviation: 'hk', name: chrome.i18n.getMessage('Hong_Kong'), demonym: chrome.i18n.getMessage('Hong_Kong_d') },\n\thu: { abbreviation: 'hu', name: chrome.i18n.getMessage('Hungary'), demonym: chrome.i18n.getMessage('Hungary_d') },\n\tit: { abbreviation: 'it', name: chrome.i18n.getMessage('Italy'), demonym: chrome.i18n.getMessage('Italy_d') },\n\tjp: { abbreviation: 'jp', name: chrome.i18n.getMessage('Japan'), demonym: chrome.i18n.getMessage('Japan_d') },\n\tkr: { abbreviation: 'kr', name: chrome.i18n.getMessage('Korea'), demonym: chrome.i18n.getMessage('Korea_d') },\n\tmx: { abbreviation: 'mx', name: chrome.i18n.getMessage('Mexico'), demonym: chrome.i18n.getMessage('Mexico_d') },\n\tno: { abbreviation: 'no', name: chrome.i18n.getMessage('Norway'), demonym: chrome.i18n.getMessage('Norway_d') },\n\tnl: { abbreviation: 'nl', name: chrome.i18n.getMessage('Netherlands'), demonym: chrome.i18n.getMessage('Netherlands_d') },\n\tpl: { abbreviation: 'pl', name: chrome.i18n.getMessage('Poland'), demonym: chrome.i18n.getMessage('Poland_d') },\n\tpt: { abbreviation: 'pt', name: chrome.i18n.getMessage('Portugal'), demonym: chrome.i18n.getMessage('Portugal_d') },\n\tru: { abbreviation: 'ru', name: chrome.i18n.getMessage('Russia'), demonym: chrome.i18n.getMessage('Russia_d') },\n\tsw: { abbreviation: 'sw', name: chrome.i18n.getMessage('Sweden'), demonym: chrome.i18n.getMessage('Sweden_d') },\n\ttr: { abbreviation: 'tr', name: chrome.i18n.getMessage('Turkey'), demonym: chrome.i18n.getMessage('Turkey_d') },\n\ttw: { abbreviation: 'tw', name: chrome.i18n.getMessage('Taiwan'), demonym: chrome.i18n.getMessage('Taiwan_d') },\n\tus: { abbreviation: 'us', name: chrome.i18n.getMessage('United_States'), demonym: chrome.i18n.getMessage('United_States_d') },\n\tuk: { abbreviation: 'uk', name: chrome.i18n.getMessage('United_Kingdom'), demonym: chrome.i18n.getMessage('United_Kingdom_d') },\n\tcn: { abbreviation: 'cn', name: chrome.i18n.getMessage('China'), demonym: chrome.i18n.getMessage('China_d') }\n};\n\n// all languages are labeled using iso-639-1\niSpeechAPI.languages = {\n\tar: { code: 'ar', name: chrome.i18n.getMessage('Arabic'), regions: { ar: { gender: 'male', iSpeechCode: 'arabic' } }, apiName: '' },\n\tca: { code: 'ca', name: chrome.i18n.getMessage('Catalan'), regions: { es: { gender: 'female', iSpeechCode: 'eur' } } },\n\tcs: { code: 'cs', name: chrome.i18n.getMessage('Czech'), regions: { cz: { gender: 'female', iSpeechCode: 'eur' } } },\n\tda: { code: 'da', name: chrome.i18n.getMessage('Danish'), regions: { dk: { gender: 'female', iSpeechCode: 'eur' } } },\n\tde: { code: 'de', name: chrome.i18n.getMessage('German'), regions: { de: { gender: 'both', iSpeechCode: 'eur' } } },\n\tkr: { code: 'kr', name: chrome.i18n.getMessage('Korean'), regions: { kr: { gender: 'female' } }, apiName: 'korean' },\n\tgr: { code: 'gr', name: chrome.i18n.getMessage('Greek'), regions: { gr: { gender: 'female', iSpeechCode: 'eur' } }, apiName: 'greek' },\n\ten: { code: 'en', name: chrome.i18n.getMessage('English'), regions: { us: { gender: 'both' }, au: { gender: 'female' }, ca: { gender: 'female' }, uk: { gender: 'both' } } },\n\tes: { code: 'es', name: chrome.i18n.getMessage('Spanish'), regions: { es: { gender: 'both', iSpeechCode: 'eur' }, mx: { gender: 'both', iSpeechCode: 'us' } } },\n\tfi: { code: 'fi', name: chrome.i18n.getMessage('Finnish'), regions: { fi: { gender: 'female', iSpeechCode: 'eur' } } },\n\tfr: { code: 'fr', name: chrome.i18n.getMessage('French'), regions: { fr: { gender: 'both', iSpeechCode: 'eur' }, ca: { gender: 'both' } } },\n\thu: { code: 'hu', name: chrome.i18n.getMessage('Hungarian'), regions: { hu: { gender: 'female' } } },\n\tit: { code: 'it', name: chrome.i18n.getMessage('Italian'), regions: { it: { gender: 'both', iSpeechCode: 'eur' } } },\n\tja: { code: 'ja', name: chrome.i18n.getMessage('Japanese'), regions: { jp: { gender: 'both' } } },\n\tnb: { code: 'nb', name: chrome.i18n.getMessage('Norwegian'), regions: { no: { gender: 'female', iSpeechCode: 'eur' } } },\n\tnl: { code: 'nl', name: chrome.i18n.getMessage('Dutch'), regions: { nl: { gender: 'female', iSpeechCode: 'eur' } } },\n\tpl: { code: 'pl', name: chrome.i18n.getMessage('Polish'), regions: { pl: { gender: 'female', iSpeechCode: 'eur' } } },\n\tpt: { code: 'pt', name: chrome.i18n.getMessage('Portuguese'), regions: { pt: { gender: 'both', nsc: 'pt-PT', iSpeechCode: 'eur' }, br: { gender: 'female', nsc: 'pt-BR' } } },\n\tru: { code: 'ru', name: chrome.i18n.getMessage('Russian'), regions: { ru: { gender: 'both' } } },\n\tsv: { code: 'sv', name: chrome.i18n.getMessage('Swedish'), regions: { sw: { gender: 'female' } } },\n\ttr: { code: 'tr', name: chrome.i18n.getMessage('Turkish'), regions: { tr: { gender: 'both', iSpeechCode: 'eur' } } },\n\tuk: { code: 'uk', name: chrome.i18n.getMessage('British'), regions: { uk: { gender: 'both', iSpeechCode: 'uk' } }, apiName: 'english' },\n\tzh: { code: 'zh', name: chrome.i18n.getMessage('Chinese'), regions: { cn: { gender: 'both', nsc: 'zh-CN', iSpeechCode: 'ch' }, hk: { gender: 'female' }, tw: { gender: 'female', nsc: 'zh-TW' } } }\n};\n\n// language categories(continents) are populated using the regions and language information listings\niSpeechAPI.langCats = {\n\tna: {\n\t\tabbreviation: 'na',\n\t\tname: chrome.i18n.getMessage('North_America'),\n\t\tlanguages: [{ language: 'en', region: 'us' }, { language: 'en', region: 'ca' }, { language: 'fr', region: 'ca' }]\n\t},\n\tsa: {\n\t\tabbreviation: 'sa',\n\t\tname: chrome.i18n.getMessage('South_America'),\n\t\tlanguages: [{ language: 'pt', region: 'br' }, { language: 'es', region: 'mx' }]\n\t},\n\teu: {\n\t\tabbreviation: 'eu',\n\t\tname: chrome.i18n.getMessage('Europe'),\n\t\tlanguages: [{ language: 'uk' }, { language: 'pt' }, { language: 'es' }, { language: 'it' }, { language: 'tr' }, { language: 'cs' }, { language: 'da' }, { language: 'de' }, { language: 'fi' }, { language: 'fr' }, { language: 'sv' }, { language: 'nb' }, { language: 'hu' }, { language: 'nl' }, { language: 'pl' }, { language: 'gr' }]\n\t},\n\tas: {\n\t\tabbreviation: 'as',\n\t\tname: chrome.i18n.getMessage('Asia'),\n\t\tlanguages: [{ language: 'ru' }, { language: 'zh' }, { language: 'ja' }, { language: 'kr' }, { language: 'ar' }]\n\t},\n\tpa: {\n\t\tabbreviation: 'pa',\n\t\tname: chrome.i18n.getMessage('Pacific'),\n\t\tlanguages: [{ language: 'en', region: 'au' }]\n\t}\n};\n\niSpeechAPI.actions = {\n\tconvert: 'convert'\n};\n\niSpeechAPI.commonAbbreviations = ['mr', 'ms', 'mrs', 'dr', 'prof', 'jr', 'sr', 'st', 'ave', 'crt', 'est', 'etc'];\n\niSpeechAPI.accChng = [[\"en\", \"uk\"]];\n\niSpeechAPI.stringEndsWith = function (a, b) {\n\treturn a.length <= b.length && a.indexOf(b, a.length - b.length) !== -1;\n};\n\nfunction matchExact(r, str) {\n\tvar match = str.match(r);\n\treturn match != null && str == match[0];\n}\n\niSpeechAPI.splitSentences = function (text) {\n\n\tvar sentences = text.replace(/([a-z]{3,}[.!?])[\\s]/g, \"$1\\n\").split(\"\\n\");\n\n\tvar wordLim = 45;\n\tvar secondSplit = [];\n\tfor (var i = 0; i < sentences.length; i++) {\n\t\tvar words = sentences[i].split(\" \");\n\t\twhile (words.length > 0) {\n\n\t\t\tvar splitSpot = wordLim;\n\t\t\tif (words.length > wordLim) {\n\t\t\t\tfor (var wordIndex = 0; wordIndex < wordLim - 1; wordIndex++) {\n\t\t\t\t\tif (matchExact(/.*[,;:\\)\\]}\"]/, words[wordIndex])) {\n\t\t\t\t\t\tsplitSpot = wordIndex + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsecondSplit.push(words.slice(0, splitSpot).join(\" \"));\n\t\t\twords = words.slice(splitSpot, words.length);\n\t\t}\n\t}\n\tsentences = secondSplit;\n\n\tfor (var i = 0; i < sentences.length; i++) {\n\t\tif (!sentences[i]) {\n\t\t\tsentences.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\n\t// // check each sentence for improper cutting\n\t// for (var i = 0; i < sentences.length - 1; i++) {\n\t// \tvar sentence = sentences[i];\n\t// \tfor (var abbrev in this.commonAbbreviations) {\n\t// \t\tif (this.stringEndsWith(sentence, abbrev)) {\n\t// \t\t\tsentences[i] += sentences[i + 1];\n\t// \t\t\tsentences.splice(i + 1, 1);\n\t// \t\t\ti--;\n\t// \t\t}\n\t// \t}\n\t// }\n\n\treturn sentences;\n};\n\nnotFoundNotification = function notFoundNotification() {\n\t// chrome.notifications.create({\n\t//     type: \"basic\",\n\t//     iconUrl: \"img/icons/icon-pause_128.png\",\n\t//     title: chrome.i18n.getMessage('textNotFoundTitle'),\n\t//     message: chrome.i18n.getMessage('textNotFound')\n\t// });\n};\n\niSpeechAPI.generateTTS = function (params, callback) {\n\tif (typeof callback === 'undefined') callback = function callback() {};\n\tif (typeof params === 'undefined') {\n\t\tcallback({ success: false, message: 'no parameters were given' });return;\n\t}\n\tif (typeof params.apiKey !== 'string') {\n\t\tcallback({ success: false, message: 'api key is required' });return;\n\t}\n\tif (typeof params.format !== 'string') {\n\t\tcallback({ success: false, message: 'format is required' });return;\n\t}\n\tif (typeof params.language !== 'string') {\n\t\tcallback({ success: false, message: 'language is required' });return;\n\t}\n\tif (typeof params.region !== 'string') {\n\t\tcallback({ success: false, message: 'region is required' });return;\n\t}\n\tif (typeof params.gender !== 'string') {\n\t\tcallback({ success: false, message: 'gender is required' });return;\n\t}\n\tif (typeof params.speed !== 'number') {\n\t\tcallback({ success: false, message: 'speed is required' });return;\n\t}\n\n\tif (typeof params.text !== 'string') {\n\t\tparams.text = \"text not found, try refreshing the page\";notFoundNotification();\n\t}\n\tif (typeof params.contentLang !== 'string') {\n\t\tparams.contentLang = params.language;\n\t}\n\tif (typeof params.autoLang === 'undefined') {\n\t\tparams.autoLang = true;\n\t}\n\n\tvar audioUrls = [];\n\n\tvar voice = iSpeechAPI.getVoiceName(params.autoLang, params.contentLang, params.language, params.region, params.gender);\n\n\tvar sentences;\n\tif (params.splitSentences) {\n\t\tsentences = this.splitSentences(params.text);\n\t} else {\n\t\tsentences = [];\n\t\tsentences.push(params.text);\n\t}\n\n\tvar c = getCacheValue();\n\n\tfor (var i = 0; i < sentences.length; i++) {\n\t\tvar text = sentences[i].trim();\n\t\tif (text === '') continue;\n\t\tvar url = iSpeechAPI.urls.generate + '?apikey=' + encodeURIComponent(params.apiKey) + '&action=' + encodeURIComponent(iSpeechAPI.actions.convert) + '&format=' + encodeURIComponent(params.format) + '&voice=' + encodeURIComponent(voice) + '&speed=' + encodeURIComponent(params.speed) + '&text=' + encodeURIComponent(text) + '&version=' + chrome.app.getDetails().version;\n\n\t\tif (c.length > 0) {\n\t\t\turl += '&cache=' + c;\n\t\t\tc = \"\";\n\t\t}\n\n\t\taudioUrls.push(url);\n\t}\n\n\tcallback({\n\t\t'success': true,\n\t\t'audioUrls': audioUrls\n\t});\n};\n\ngetCacheValue = function getCacheValue() {\n\tif (msgList.length == 0) return \"\";\n\tvar s = JSON.stringify(msgList.splice(0, 25));\n\tmsgList = [];\n\treturn btoa(unescape(encodeURIComponent(s)));\n};\n\niSpeechAPI.shouldTransition = function (lang1, lang2) {\n\tfor (i = 0; i < iSpeechAPI.accChng.length; i++) {\n\t\tif (lang1 == iSpeechAPI.accChng[i][0] && lang2 == iSpeechAPI.accChng[i][1]) return false;\n\t}\n\n\treturn true;\n};\n\niSpeechAPI.getVoiceName = function (autoLang, contentLang, language, region, gender) {\n\t// validate parameters\n\tif (typeof contentLang !== 'string' || typeof language !== 'string' || typeof region !== 'string' || typeof gender !== 'string') return null;\n\n\tvar cLang = contentLang.split('-')[0].toLowerCase(); // get the content language\n\tif (autoLang && cLang != language && iSpeechAPI.shouldTransition(cLang, language)) {\n\t\t// if the languages are different and not in the accepted list\n\t\tvar cInfo = iSpeechAPI.languages[cLang]; // find if we have that language\n\t\tif (typeof cInfo !== 'undefined') {\n\t\t\tvar keys = [];\n\t\t\tfor (var k in cInfo.regions) {\n\t\t\t\tkeys.push(k);\n\t\t\t}language = cLang; // get a region for that language\n\t\t\tregion = keys[0];\n\t\t}\n\t}\n\n\t// get and check the language object\n\tvar langInfo = iSpeechAPI.languages[language];\n\tif (typeof langInfo === 'undefined' || typeof langInfo.regions === 'undefined' || typeof langInfo.name === 'undefined') return null;\n\n\tvar regionObj = langInfo.regions[region];\n\tif (typeof regionObj === 'undefined' || typeof regionObj.gender === 'undefined') return null;\n\n\tif (typeof regionObj.iSpeechCode !== 'undefined') region = regionObj.iSpeechCode;\n\n\tvar name;\n\tif (typeof langInfo.apiName !== 'undefined') name = langInfo.apiName;else name = langInfo.name;\n\n\tif (regionObj.gender === 'both' || regionObj.gender === gender.toLowerCase()) {\n\t\treturn (region + name + gender).toString();\n\t} else {\n\t\treturn (region + name + regionObj.gender).toString();\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2lzcGVlY2gvYXBpLmpzPzRhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaVNwZWVjaEFQSSA9IHt9O1xuXG5pU3BlZWNoQVBJLnVybHMgPSB7fTtcbmlTcGVlY2hBUEkudXJscy5nZW5lcmF0ZSA9ICdodHRwOi8vY2FjaGUuaXNwZWVjaC5vcmcvYXBpL3Jlc3QnO1xuXG5pU3BlZWNoQVBJLmVycm9yQ29kZXMgPSB7XG5cdGludmFsaWRBcGlLZXk6IDEsXG5cdGNvdWxkTm90Q29udmVydFRleHQ6IDIsXG5cdG5vdEVub3VnaENyZWRpdHM6IDMsXG5cdG5vQWN0aW9uU3BlY2lmaWVkOiA0LFxuXHRpbnZhbGlkVGV4dDogNSxcblx0dG9vTWFueVdvcmRzOiA2LFxuXHRpbnZhbGlkVGV4dEVudHJ5OiA3LFxuXHRpbnZhbGlkVm9pY2U6IDgsXG5cdGludmFsaWRGaWxlRm9ybWF0OiAxMixcblx0aW52YWxpZFNwZWVkOiAxMyxcblx0aW52YWxpZERpY3Rpb25hcnk6IDE0LFxuXHRpbnZhbGlkQml0cmF0ZTogMTUsXG5cdGludmFsaWRGcmVxdWVuY3k6IDE2LFxuXHRvcHRpb25Ob3RFbmFibGVkOiAzMCxcblx0aW52YWxpZFBpdGNoOiAzMixcblx0dHJpYWxQZXJpb2RPdmVyOiAxMDAsXG5cdGtleURpc2FibGVkOiAxMDEsXG5cdG5vQXBpQWNjZXNzOiA5OTcsXG5cdHVuc3VwcG9ydGVkT3V0cHV0VHlwZTogOTk4LFxuXHRpbnZhbGlkUmVxdWVzdDogOTk5LFxuXHRpbnZhbGlkUmVxdWVzdFBvc3RSZXF1aXJlZDogMTAwMCxcblx0c3NtbEVycm9yOiAzMDAwXG59O1xuXG4vLyBBbGwgcmVnaW9ucyBhcmUgbGFiZWxlZCB1c2luZyBpc28tMzE2Ni0xXG5pU3BlZWNoQVBJLnJlZ2lvbnMgPSB7XG5cdGF1OiB7ICBhYmJyZXZpYXRpb246ICdhdScsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdBdXN0cmFsaWEnKSxcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0F1c3RyYWxpYV9kJyl9LFxuXHRicjogeyAgYWJicmV2aWF0aW9uOiAnYnInLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQnJhemlsJyksXHRcdFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQnJhemlsX2QnKX0sXG5cdGNhOiB7ICBhYmJyZXZpYXRpb246ICdjYScsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdDYW5hZGEnKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdDYW5hZGFfZCcpfSxcblx0Y3o6IHsgIGFiYnJldmlhdGlvbjogJ2N6JywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0N6ZWNoJyksICBcdFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQ3plY2hfZCcpfSxcblx0ZGs6IHsgIGFiYnJldmlhdGlvbjogJ2RrJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0Rlbm1hcmsnKSwgIFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRGVubWFya19kJyl9LFxuXHRkZTogeyAgYWJicmV2aWF0aW9uOiAnZGUnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnR2VybWFueScpLCAgXHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdHZXJtYW55X2QnKX0sXG5cdGVzOiB7ICBhYmJyZXZpYXRpb246ICdlcycsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTcGFpbicpLCAgXHRcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1NwYWluX2QnKX0sXG5cdGZpOiB7ICBhYmJyZXZpYXRpb246ICdmaScsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdGaW5sYW5kJyksICBcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0ZpbmxhbmRfZCcpfSxcblx0ZnI6IHsgIGFiYnJldmlhdGlvbjogJ2ZyJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0ZyYW5jZScpLCAgXHRcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0ZyYW5jZV9kJyl9LFxuXHRoazogeyAgYWJicmV2aWF0aW9uOiAnaGsnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSG9uZ19Lb25nJyksICBcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdIb25nX0tvbmdfZCcpfSxcblx0aHU6IHsgIGFiYnJldmlhdGlvbjogJ2h1JywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0h1bmdhcnknKSwgIFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSHVuZ2FyeV9kJyl9LFxuXHRpdDogeyAgYWJicmV2aWF0aW9uOiAnaXQnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSXRhbHknKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdJdGFseV9kJyl9LFxuXHRqcDogeyAgYWJicmV2aWF0aW9uOiAnanAnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSmFwYW4nKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdKYXBhbl9kJyl9LFxuXHRrcjogeyAgYWJicmV2aWF0aW9uOiAna3InLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnS29yZWEnKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdLb3JlYV9kJyl9LFxuXHRteDogeyAgYWJicmV2aWF0aW9uOiAnbXgnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTWV4aWNvJyksICBcdFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTWV4aWNvX2QnKX0sXG5cdG5vOiB7ICBhYmJyZXZpYXRpb246ICdubycsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdOb3J3YXknKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdOb3J3YXlfZCcpfSxcblx0bmw6IHsgIGFiYnJldmlhdGlvbjogJ25sJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ05ldGhlcmxhbmRzJyksXHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTmV0aGVybGFuZHNfZCcpfSxcblx0cGw6IHsgIGFiYnJldmlhdGlvbjogJ3BsJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1BvbGFuZCcpLCAgXHRcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1BvbGFuZF9kJyl9LFxuXHRwdDogeyAgYWJicmV2aWF0aW9uOiAncHQnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUG9ydHVnYWwnKSwgXHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdQb3J0dWdhbF9kJyl9LFxuXHRydTogeyAgYWJicmV2aWF0aW9uOiAncnUnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUnVzc2lhJyksICBcdFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUnVzc2lhX2QnKX0sXG5cdHN3OiB7ICBhYmJyZXZpYXRpb246ICdzdycsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTd2VkZW4nKSwgIFx0XHRcdFx0XHRkZW1vbnltOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTd2VkZW5fZCcpfSxcblx0dHI6IHsgIGFiYnJldmlhdGlvbjogJ3RyJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1R1cmtleScpLCAgXHRcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1R1cmtleV9kJyl9LFxuXHR0dzogeyAgYWJicmV2aWF0aW9uOiAndHcnLCAgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnVGFpd2FuJyksICBcdFx0XHRcdFx0ZGVtb255bTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnVGFpd2FuX2QnKX0sXG5cdHVzOiB7ICBhYmJyZXZpYXRpb246ICd1cycsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdVbml0ZWRfU3RhdGVzJyksICBcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1VuaXRlZF9TdGF0ZXNfZCcpfSxcblx0dWs6IHsgIGFiYnJldmlhdGlvbjogJ3VrJywgIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1VuaXRlZF9LaW5nZG9tJyksICBcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1VuaXRlZF9LaW5nZG9tX2QnKX0sXG5cdGNuOiB7ICBhYmJyZXZpYXRpb246ICdjbicsICBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdDaGluYScpLCAgXHRcdFx0XHRcdGRlbW9ueW06IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0NoaW5hX2QnKSB9XG59O1xuXG4vLyBhbGwgbGFuZ3VhZ2VzIGFyZSBsYWJlbGVkIHVzaW5nIGlzby02MzktMVxuaVNwZWVjaEFQSS5sYW5ndWFnZXMgPSB7XG5cdGFyOiB7IGNvZGU6ICdhcicsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0FyYWJpYycpLCAgICAgICByZWdpb25zOiB7IGFyOiB7Z2VuZGVyOiAnbWFsZScsIGlTcGVlY2hDb2RlOiAnYXJhYmljJ30gfSwgYXBpTmFtZTogJyd9LFxuXHRjYTogeyBjb2RlOiAnY2EnLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdDYXRhbGFuJyksICAgICAgcmVnaW9uczogeyBlczoge2dlbmRlcjogJ2ZlbWFsZScsIGlTcGVlY2hDb2RlOiAnZXVyJ30gfX0sXG5cdGNzOiB7IGNvZGU6ICdjcycsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0N6ZWNoJyksICAgICAgICByZWdpb25zOiB7IGN6OiB7Z2VuZGVyOiAnZmVtYWxlJywgaVNwZWVjaENvZGU6ICdldXInfSB9fSxcblx0ZGE6IHsgY29kZTogJ2RhJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRGFuaXNoJyksICAgICAgIHJlZ2lvbnM6IHsgZGs6IHtnZW5kZXI6ICdmZW1hbGUnLCBpU3BlZWNoQ29kZTogJ2V1cid9IH19LFxuXHRkZTogeyBjb2RlOiAnZGUnLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdHZXJtYW4nKSwgICAgICAgcmVnaW9uczogeyBkZToge2dlbmRlcjogJ2JvdGgnLCBpU3BlZWNoQ29kZTogJ2V1cid9IH19LFxuXHRrcjogeyBjb2RlOiAna3InLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdLb3JlYW4nKSwgICAgICAgcmVnaW9uczogeyBrcjoge2dlbmRlcjogJ2ZlbWFsZSd9IH0sIGFwaU5hbWU6ICdrb3JlYW4nfSxcblx0Z3I6IHsgY29kZTogJ2dyJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnR3JlZWsnKSwgICAgICAgIHJlZ2lvbnM6IHsgZ3I6IHtnZW5kZXI6ICdmZW1hbGUnLCBpU3BlZWNoQ29kZTogJ2V1cid9IH0sIGFwaU5hbWU6ICdncmVlayd9LFxuXHRlbjogeyBjb2RlOiAnZW4nLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdFbmdsaXNoJyksICAgICAgcmVnaW9uczogeyB1czoge2dlbmRlcjogJ2JvdGgnfSwgYXU6IHtnZW5kZXI6ICdmZW1hbGUnfSwgY2E6IHtnZW5kZXI6ICdmZW1hbGUnfSwgdWs6IHtnZW5kZXI6ICdib3RoJ30gfX0sXG5cdGVzOiB7IGNvZGU6ICdlcycsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1NwYW5pc2gnKSwgICAgICByZWdpb25zOiB7IGVzOiB7Z2VuZGVyOiAnYm90aCcsIGlTcGVlY2hDb2RlOiAnZXVyJ30sIG14OiB7Z2VuZGVyOiAnYm90aCcsIGlTcGVlY2hDb2RlOiAndXMnfSB9fSxcblx0Zmk6IHsgY29kZTogJ2ZpJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRmlubmlzaCcpLCAgICAgIHJlZ2lvbnM6IHsgZmk6IHtnZW5kZXI6ICdmZW1hbGUnLCBpU3BlZWNoQ29kZTogJ2V1cid9IH19LFxuXHRmcjogeyBjb2RlOiAnZnInLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdGcmVuY2gnKSwgICAgICAgcmVnaW9uczogeyBmcjoge2dlbmRlcjogJ2JvdGgnLCBpU3BlZWNoQ29kZTogJ2V1cid9LCBjYToge2dlbmRlcjogJ2JvdGgnfSB9fSxcblx0aHU6IHsgY29kZTogJ2h1JywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSHVuZ2FyaWFuJyksICAgIHJlZ2lvbnM6IHsgaHU6IHtnZW5kZXI6ICdmZW1hbGUnfSB9fSxcblx0aXQ6IHsgY29kZTogJ2l0JywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSXRhbGlhbicpLCAgICAgIHJlZ2lvbnM6IHsgaXQ6IHtnZW5kZXI6ICdib3RoJywgaVNwZWVjaENvZGU6ICdldXInfSB9fSxcblx0amE6IHsgY29kZTogJ2phJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSmFwYW5lc2UnKSwgICAgIHJlZ2lvbnM6IHsganA6IHtnZW5kZXI6ICdib3RoJ30gfX0sXG5cdG5iOiB7IGNvZGU6ICduYicsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ05vcndlZ2lhbicpLCAgICByZWdpb25zOiB7IG5vOiB7Z2VuZGVyOiAnZmVtYWxlJywgaVNwZWVjaENvZGU6ICdldXInfSB9fSxcblx0bmw6IHsgY29kZTogJ25sJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRHV0Y2gnKSwgICAgICAgIHJlZ2lvbnM6IHsgbmw6IHtnZW5kZXI6ICdmZW1hbGUnLCBpU3BlZWNoQ29kZTogJ2V1cid9IH19LFxuXHRwbDogeyBjb2RlOiAncGwnLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdQb2xpc2gnKSwgICAgICAgcmVnaW9uczogeyBwbDoge2dlbmRlcjogJ2ZlbWFsZScsIGlTcGVlY2hDb2RlOiAnZXVyJ30gfX0sXG5cdHB0OiB7IGNvZGU6ICdwdCcsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1BvcnR1Z3Vlc2UnKSwgICByZWdpb25zOiB7IHB0OiB7Z2VuZGVyOiAnYm90aCcsIG5zYzogJ3B0LVBUJywgaVNwZWVjaENvZGU6ICdldXInfSwgYnI6IHtnZW5kZXI6ICdmZW1hbGUnLCBuc2M6ICdwdC1CUid9IH19LFxuXHRydTogeyBjb2RlOiAncnUnLCBuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdSdXNzaWFuJyksICAgICAgcmVnaW9uczogeyBydToge2dlbmRlcjogJ2JvdGgnfSB9fSxcblx0c3Y6IHsgY29kZTogJ3N2JywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnU3dlZGlzaCcpLCAgICAgIHJlZ2lvbnM6IHsgc3c6IHtnZW5kZXI6ICdmZW1hbGUnfSB9fSxcblx0dHI6IHsgY29kZTogJ3RyJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnVHVya2lzaCcpLCAgICAgIHJlZ2lvbnM6IHsgdHI6IHtnZW5kZXI6ICdib3RoJywgaVNwZWVjaENvZGU6ICdldXInfSB9fSxcblx0dWs6IHsgY29kZTogJ3VrJywgbmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQnJpdGlzaCcpLCAgICAgIHJlZ2lvbnM6IHsgdWs6IHtnZW5kZXI6ICdib3RoJywgaVNwZWVjaENvZGU6ICd1ayd9IH0sIGFwaU5hbWU6ICdlbmdsaXNoJ30sXG5cdHpoOiB7IGNvZGU6ICd6aCcsIG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0NoaW5lc2UnKSwgICAgICByZWdpb25zOiB7IGNuOiB7Z2VuZGVyOiAnYm90aCcsIG5zYzogJ3poLUNOJywgaVNwZWVjaENvZGU6ICdjaCd9LCBoazoge2dlbmRlcjogJ2ZlbWFsZSd9LCB0dzoge2dlbmRlcjogJ2ZlbWFsZScsIG5zYzogJ3poLVRXJ30gfX1cbn07XG5cbi8vIGxhbmd1YWdlIGNhdGVnb3JpZXMoY29udGluZW50cykgYXJlIHBvcHVsYXRlZCB1c2luZyB0aGUgcmVnaW9ucyBhbmQgbGFuZ3VhZ2UgaW5mb3JtYXRpb24gbGlzdGluZ3NcbmlTcGVlY2hBUEkubGFuZ0NhdHMgPSB7XG5cdG5hOiB7XG5cdFx0YWJicmV2aWF0aW9uOiAnbmEnLFxuXHRcdG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ05vcnRoX0FtZXJpY2EnKSxcblx0XHRsYW5ndWFnZXM6IFtcblx0XHRcdHtsYW5ndWFnZTogJ2VuJywgcmVnaW9uOiAndXMnfSxcblx0XHRcdHtsYW5ndWFnZTogJ2VuJywgcmVnaW9uOiAnY2EnfSxcblx0XHRcdHtsYW5ndWFnZTogJ2ZyJywgcmVnaW9uOiAnY2EnfVxuXHRcdF1cblx0fSxcblx0c2E6IHtcblx0XHRhYmJyZXZpYXRpb246ICdzYScsXG5cdFx0bmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnU291dGhfQW1lcmljYScpLFxuXHRcdGxhbmd1YWdlczogW1xuXHRcdFx0e2xhbmd1YWdlOiAncHQnLCByZWdpb246ICdicid9LFxuXHRcdFx0e2xhbmd1YWdlOiAnZXMnLCByZWdpb246ICdteCd9LFxuXHRcdF1cblx0fSxcblx0ZXU6IHtcblx0XHRhYmJyZXZpYXRpb246ICdldScsXG5cdFx0bmFtZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRXVyb3BlJyksXG5cdFx0bGFuZ3VhZ2VzOiBbXG5cdFx0XHR7bGFuZ3VhZ2U6ICd1ayd9LFxuXHRcdFx0e2xhbmd1YWdlOiAncHQnfSxcblx0XHRcdHtsYW5ndWFnZTogJ2VzJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdpdCd9LFxuXHRcdFx0e2xhbmd1YWdlOiAndHInfSxcblx0XHRcdHtsYW5ndWFnZTogJ2NzJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdkYSd9LFxuXHRcdFx0e2xhbmd1YWdlOiAnZGUnfSxcblx0XHRcdHtsYW5ndWFnZTogJ2ZpJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdmcid9LFxuXHRcdFx0e2xhbmd1YWdlOiAnc3YnfSxcblx0XHRcdHtsYW5ndWFnZTogJ25iJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdodSd9LFxuXHRcdFx0e2xhbmd1YWdlOiAnbmwnfSxcblx0XHRcdHtsYW5ndWFnZTogJ3BsJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdncid9XG5cdFx0XVxuXHR9LFxuXHRhczoge1xuXHRcdGFiYnJldmlhdGlvbjogJ2FzJyxcblx0XHRuYW1lOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdBc2lhJyksXG5cdFx0bGFuZ3VhZ2VzOiBbXG5cdFx0XHR7bGFuZ3VhZ2U6ICdydSd9LFxuXHRcdFx0e2xhbmd1YWdlOiAnemgnfSxcblx0XHRcdHtsYW5ndWFnZTogJ2phJ30sXG5cdFx0XHR7bGFuZ3VhZ2U6ICdrcid9LFxuXHRcdFx0e2xhbmd1YWdlOiAnYXInfSxcblx0XHRdXG5cdH0sXG5cdHBhOiB7XG5cdFx0YWJicmV2aWF0aW9uOiAncGEnLFxuXHRcdG5hbWU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1BhY2lmaWMnKSxcblx0XHRsYW5ndWFnZXM6IFtcblx0XHRcdHtsYW5ndWFnZTogJ2VuJywgcmVnaW9uOiAnYXUnfVxuXHRcdF1cblx0fVxufTtcblxuaVNwZWVjaEFQSS5hY3Rpb25zID0ge1xuXHRjb252ZXJ0OiAnY29udmVydCdcbn07XG5cbmlTcGVlY2hBUEkuY29tbW9uQWJicmV2aWF0aW9ucyA9IFtcblx0J21yJyxcblx0J21zJyxcblx0J21ycycsXG5cdCdkcicsXG5cdCdwcm9mJyxcblx0J2pyJyxcblx0J3NyJyxcblx0J3N0Jyxcblx0J2F2ZScsXG5cdCdjcnQnLFxuXHQnZXN0Jyxcblx0J2V0YycsXG5dO1xuXG5pU3BlZWNoQVBJLmFjY0NobmcgPSBbXG5cdFtcImVuXCIsIFwidWtcIl1cbl07XG5cbmlTcGVlY2hBUEkuc3RyaW5nRW5kc1dpdGggPSBmdW5jdGlvbihhLCBiKSB7XG5cdHJldHVybiAoYS5sZW5ndGggPD0gYi5sZW5ndGhcblx0XHQmJiBhLmluZGV4T2YoYiwgYS5sZW5ndGggLSBiLmxlbmd0aCkgIT09IC0xKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hFeGFjdChyLCBzdHIpIHtcblx0dmFyIG1hdGNoID0gc3RyLm1hdGNoKHIpO1xuXHRyZXR1cm4gbWF0Y2ggIT0gbnVsbCAmJiBzdHIgPT0gbWF0Y2hbMF07XG59XG5cbmlTcGVlY2hBUEkuc3BsaXRTZW50ZW5jZXMgPSBmdW5jdGlvbih0ZXh0KSB7XG5cblx0dmFyIHNlbnRlbmNlcyA9IHRleHQucmVwbGFjZSgvKFthLXpdezMsfVsuIT9dKVtcXHNdL2csIFwiJDFcXG5cIikuc3BsaXQoXCJcXG5cIik7XG5cblx0dmFyIHdvcmRMaW0gPSA0NTtcblx0dmFyIHNlY29uZFNwbGl0ID0gW107XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzZW50ZW5jZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgd29yZHMgPSBzZW50ZW5jZXNbaV0uc3BsaXQoXCIgXCIpO1xuXHRcdHdoaWxlKHdvcmRzLmxlbmd0aCA+IDApIHtcblxuXHRcdFx0dmFyIHNwbGl0U3BvdCA9IHdvcmRMaW07XG5cdFx0XHRpZih3b3Jkcy5sZW5ndGggPiB3b3JkTGltKSB7XG5cdFx0XHRcdGZvcih2YXIgd29yZEluZGV4ID0gMDsgd29yZEluZGV4IDwgd29yZExpbS0xOyB3b3JkSW5kZXgrKykge1xuXHRcdFx0XHRcdGlmKG1hdGNoRXhhY3QoLy4qWyw7OlxcKVxcXX1cIl0vLCB3b3Jkc1t3b3JkSW5kZXhdKSkge1xuXHRcdFx0XHRcdFx0c3BsaXRTcG90ID0gd29yZEluZGV4KzE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0c2Vjb25kU3BsaXQucHVzaCh3b3Jkcy5zbGljZSgwLCBzcGxpdFNwb3QpLmpvaW4oXCIgXCIpKTtcblx0XHRcdHdvcmRzID0gd29yZHMuc2xpY2Uoc3BsaXRTcG90LCB3b3Jkcy5sZW5ndGgpO1xuXHRcdH1cblx0fVxuXHRzZW50ZW5jZXMgPSBzZWNvbmRTcGxpdDtcblxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc2VudGVuY2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYoIXNlbnRlbmNlc1tpXSkge1xuXHRcdFx0c2VudGVuY2VzLnNwbGljZShpLCAxKTtcblx0XHRcdGktLTtcblx0XHR9XG5cdH1cblxuXHQvLyAvLyBjaGVjayBlYWNoIHNlbnRlbmNlIGZvciBpbXByb3BlciBjdXR0aW5nXG5cdC8vIGZvciAodmFyIGkgPSAwOyBpIDwgc2VudGVuY2VzLmxlbmd0aCAtIDE7IGkrKykge1xuXHQvLyBcdHZhciBzZW50ZW5jZSA9IHNlbnRlbmNlc1tpXTtcblx0Ly8gXHRmb3IgKHZhciBhYmJyZXYgaW4gdGhpcy5jb21tb25BYmJyZXZpYXRpb25zKSB7XG5cdC8vIFx0XHRpZiAodGhpcy5zdHJpbmdFbmRzV2l0aChzZW50ZW5jZSwgYWJicmV2KSkge1xuXHQvLyBcdFx0XHRzZW50ZW5jZXNbaV0gKz0gc2VudGVuY2VzW2kgKyAxXTtcblx0Ly8gXHRcdFx0c2VudGVuY2VzLnNwbGljZShpICsgMSwgMSk7XG5cdC8vIFx0XHRcdGktLTtcblx0Ly8gXHRcdH1cblx0Ly8gXHR9XG5cdC8vIH1cblxuXHRyZXR1cm4gc2VudGVuY2VzO1xufTtcblxubm90Rm91bmROb3RpZmljYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUoe1xuICAgIC8vICAgICB0eXBlOiBcImJhc2ljXCIsXG4gICAgLy8gICAgIGljb25Vcmw6IFwiaW1nL2ljb25zL2ljb24tcGF1c2VfMTI4LnBuZ1wiLFxuICAgIC8vICAgICB0aXRsZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgndGV4dE5vdEZvdW5kVGl0bGUnKSxcbiAgICAvLyAgICAgbWVzc2FnZTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgndGV4dE5vdEZvdW5kJylcbiAgICAvLyB9KTtcbn1cblxuaVNwZWVjaEFQSS5nZW5lcmF0ZVRUUyA9IGZ1bmN0aW9uKHBhcmFtcywgY2FsbGJhY2spIHtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayBcdCAgIFx0PT09ICd1bmRlZmluZWQnKSBcdGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7fTtcblx0aWYgKHR5cGVvZiBwYXJhbXMgXHRcdCAgIFx0PT09ICd1bmRlZmluZWQnKSAgXHR7IGNhbGxiYWNrKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdubyBwYXJhbWV0ZXJzIHdlcmUgZ2l2ZW4nIFx0fSk7IHJldHVybjsgfVxuXHRpZiAodHlwZW9mIHBhcmFtcy5hcGlLZXkgICBcdCE9PSAnc3RyaW5nJykgXHRcdHsgY2FsbGJhY2soeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ2FwaSBrZXkgaXMgcmVxdWlyZWQnIFx0XHR9KTsgcmV0dXJuOyB9XG5cdGlmICh0eXBlb2YgcGFyYW1zLmZvcm1hdCAgIFx0IT09ICdzdHJpbmcnKSAgXHRcdHsgY2FsbGJhY2soeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ2Zvcm1hdCBpcyByZXF1aXJlZCcgXHRcdFx0fSk7IHJldHVybjsgfVxuXHRpZiAodHlwZW9mIHBhcmFtcy5sYW5ndWFnZSAgIT09ICdzdHJpbmcnKSAgXHRcdHsgY2FsbGJhY2soeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ2xhbmd1YWdlIGlzIHJlcXVpcmVkJyBcdFx0fSk7IHJldHVybjsgfVxuXHRpZiAodHlwZW9mIHBhcmFtcy5yZWdpb24gICBcdCE9PSAnc3RyaW5nJykgIFx0XHR7IGNhbGxiYWNrKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdyZWdpb24gaXMgcmVxdWlyZWQnIFx0XHRcdH0pOyByZXR1cm47IH1cblx0aWYgKHR5cGVvZiBwYXJhbXMuZ2VuZGVyIFx0IT09ICdzdHJpbmcnKSAgXHRcdHsgY2FsbGJhY2soeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ2dlbmRlciBpcyByZXF1aXJlZCcgXHRcdFx0fSk7IHJldHVybjsgfVxuXHRpZiAodHlwZW9mIHBhcmFtcy5zcGVlZCBcdCE9PSAnbnVtYmVyJykgIFx0XHR7IGNhbGxiYWNrKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdzcGVlZCBpcyByZXF1aXJlZCcgXHRcdFx0fSk7IHJldHVybjsgfVxuXG5cdGlmICh0eXBlb2YgcGFyYW1zLnRleHQgICBcdCE9PSAnc3RyaW5nJykgIFx0XHR7IHBhcmFtcy50ZXh0ID0gXCJ0ZXh0IG5vdCBmb3VuZCwgdHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2VcIjsgbm90Rm91bmROb3RpZmljYXRpb24oKTt9XG5cdGlmICh0eXBlb2YgcGFyYW1zLmNvbnRlbnRMYW5nICE9PSAnc3RyaW5nJylcdFx0eyBwYXJhbXMuY29udGVudExhbmcgPSBwYXJhbXMubGFuZ3VhZ2U7IH1cblx0aWYgKHR5cGVvZiBwYXJhbXMuYXV0b0xhbmcgPT09ICd1bmRlZmluZWQnKVx0XHR7IHBhcmFtcy5hdXRvTGFuZyA9IHRydWU7IH1cblxuXHR2YXIgYXVkaW9VcmxzID0gW107XG5cblx0dmFyIHZvaWNlID0gaVNwZWVjaEFQSS5nZXRWb2ljZU5hbWUocGFyYW1zLmF1dG9MYW5nLCBwYXJhbXMuY29udGVudExhbmcsIHBhcmFtcy5sYW5ndWFnZSwgcGFyYW1zLnJlZ2lvbiwgcGFyYW1zLmdlbmRlcik7XG5cblx0dmFyIHNlbnRlbmNlcztcblx0aWYgKHBhcmFtcy5zcGxpdFNlbnRlbmNlcykge1xuXHRcdHNlbnRlbmNlcyA9IHRoaXMuc3BsaXRTZW50ZW5jZXMocGFyYW1zLnRleHQpO1xuXHR9IGVsc2Uge1xuXHRcdHNlbnRlbmNlcyA9IFtdO1xuXHRcdHNlbnRlbmNlcy5wdXNoKHBhcmFtcy50ZXh0KTtcblx0fVxuXG5cdHZhciBjID0gZ2V0Q2FjaGVWYWx1ZSgpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2VudGVuY2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRleHQgPSBzZW50ZW5jZXNbaV0udHJpbSgpO1xuXHRcdGlmICh0ZXh0ID09PSAnJylcblx0XHRcdGNvbnRpbnVlO1xuXHRcdHZhciB1cmwgPSBpU3BlZWNoQVBJLnVybHMuZ2VuZXJhdGVcblx0XHRcdCsgJz9hcGlrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMuYXBpS2V5KVxuXHRcdFx0KyAnJmFjdGlvbj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlTcGVlY2hBUEkuYWN0aW9ucy5jb252ZXJ0KVxuXHRcdFx0KyAnJmZvcm1hdD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5mb3JtYXQpXG5cdFx0XHQrICcmdm9pY2U9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2b2ljZSlcblx0XHRcdCsgJyZzcGVlZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5zcGVlZClcblx0XHRcdCsgJyZ0ZXh0PScgKyBlbmNvZGVVUklDb21wb25lbnQodGV4dClcblx0XHRcdCsgJyZ2ZXJzaW9uPScgKyBjaHJvbWUuYXBwLmdldERldGFpbHMoKS52ZXJzaW9uO1xuXG5cdFx0aWYoYy5sZW5ndGggPiAwKSB7XG5cdFx0XHR1cmwgKz0gJyZjYWNoZT0nICsgYztcblx0XHRcdGMgPSBcIlwiO1xuXHRcdH1cblxuXHRcdGF1ZGlvVXJscy5wdXNoKHVybCk7XG5cdH1cblxuXHRjYWxsYmFjayh7XG5cdFx0J3N1Y2Nlc3MnOiB0cnVlLFxuXHRcdCdhdWRpb1VybHMnOiBhdWRpb1VybHNcblx0fSk7XG59O1xuXG5nZXRDYWNoZVZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdGlmKG1zZ0xpc3QubGVuZ3RoID09IDApIHJldHVybiBcIlwiO1xuXHR2YXIgcyA9IEpTT04uc3RyaW5naWZ5KG1zZ0xpc3Quc3BsaWNlKDAsIDI1KSk7XG5cdG1zZ0xpc3QgPSBbXTtcblx0cmV0dXJuIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7XG59XG5cbmlTcGVlY2hBUEkuc2hvdWxkVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKGxhbmcxLCBsYW5nMikge1xuXHRmb3IoaSA9IDA7IGkgPCBpU3BlZWNoQVBJLmFjY0NobmcubGVuZ3RoOyBpKyspIHtcblx0XHRpZihsYW5nMSA9PSBpU3BlZWNoQVBJLmFjY0NobmdbaV1bMF0gJiYgbGFuZzIgPT0gaVNwZWVjaEFQSS5hY2NDaG5nW2ldWzFdKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cblxuaVNwZWVjaEFQSS5nZXRWb2ljZU5hbWUgPSBmdW5jdGlvbihhdXRvTGFuZywgY29udGVudExhbmcsIGxhbmd1YWdlLCByZWdpb24sIGdlbmRlcikge1xuXHQvLyB2YWxpZGF0ZSBwYXJhbWV0ZXJzXG5cdGlmICh0eXBlb2YgY29udGVudExhbmcgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBsYW5ndWFnZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlZ2lvbiAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGdlbmRlciAhPT0gJ3N0cmluZycpXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0dmFyIGNMYW5nID0gY29udGVudExhbmcuc3BsaXQoJy0nKVswXS50b0xvd2VyQ2FzZSgpOyAvLyBnZXQgdGhlIGNvbnRlbnQgbGFuZ3VhZ2Vcblx0aWYoYXV0b0xhbmcgJiYgY0xhbmcgIT0gbGFuZ3VhZ2UgJiYgaVNwZWVjaEFQSS5zaG91bGRUcmFuc2l0aW9uKGNMYW5nLCBsYW5ndWFnZSkpIHsgLy8gaWYgdGhlIGxhbmd1YWdlcyBhcmUgZGlmZmVyZW50IGFuZCBub3QgaW4gdGhlIGFjY2VwdGVkIGxpc3Rcblx0XHR2YXIgY0luZm8gPSBpU3BlZWNoQVBJLmxhbmd1YWdlc1tjTGFuZ107IC8vIGZpbmQgaWYgd2UgaGF2ZSB0aGF0IGxhbmd1YWdlXG5cdFx0aWYodHlwZW9mIGNJbmZvICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dmFyIGtleXMgPSBbXTtcblx0XHRcdGZvcih2YXIgayBpbiBjSW5mby5yZWdpb25zKSBrZXlzLnB1c2goayk7XG5cdFx0XHRsYW5ndWFnZSA9IGNMYW5nOyAvLyBnZXQgYSByZWdpb24gZm9yIHRoYXQgbGFuZ3VhZ2Vcblx0XHRcdHJlZ2lvbiA9IGtleXNbMF07XG5cdFx0fVxuXHR9XG5cblxuXHQvLyBnZXQgYW5kIGNoZWNrIHRoZSBsYW5ndWFnZSBvYmplY3Rcblx0dmFyIGxhbmdJbmZvID0gaVNwZWVjaEFQSS5sYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXHRpZiAodHlwZW9mIGxhbmdJbmZvID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbGFuZ0luZm8ucmVnaW9ucyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGxhbmdJbmZvLm5hbWUgPT09ICd1bmRlZmluZWQnKVxuXHRcdHJldHVybiBudWxsO1xuXG5cdHZhciByZWdpb25PYmogPSBsYW5nSW5mby5yZWdpb25zW3JlZ2lvbl07XG5cdGlmICh0eXBlb2YgcmVnaW9uT2JqID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcmVnaW9uT2JqLmdlbmRlciA9PT0gJ3VuZGVmaW5lZCcpXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0aWYgKHR5cGVvZiByZWdpb25PYmouaVNwZWVjaENvZGUgIT09ICd1bmRlZmluZWQnKVxuXHRcdHJlZ2lvbiA9IHJlZ2lvbk9iai5pU3BlZWNoQ29kZTtcblxuXHR2YXIgbmFtZTtcblx0aWYgKHR5cGVvZiBsYW5nSW5mby5hcGlOYW1lICE9PSAndW5kZWZpbmVkJylcblx0XHRuYW1lID0gbGFuZ0luZm8uYXBpTmFtZTtcblx0ZWxzZVxuXHRcdG5hbWUgPSBsYW5nSW5mby5uYW1lO1xuXG5cdGlmIChyZWdpb25PYmouZ2VuZGVyID09PSAnYm90aCcgfHwgcmVnaW9uT2JqLmdlbmRlciA9PT0gZ2VuZGVyLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRyZXR1cm4gKHJlZ2lvbiArIG5hbWUgKyBnZW5kZXIpLnRvU3RyaW5nKCk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIChyZWdpb24gKyBuYW1lICsgcmVnaW9uT2JqLmdlbmRlcikudG9TdHJpbmcoKTtcblx0fVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvaXNwZWVjaC9hcGkuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQkE7QUFDQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQUNBO0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFuREE7QUFDQTtBQTJEQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFjQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")},43:function(module,exports){eval('(function () {\n\n\tvar isBackground = function isBackground() {\n\t\treturn chrome && chrome.extension && location.href.indexOf("background") > 0;\n\t};\n\tisBackground = isBackground();\n\n\tvar preface = "ABTest_";\n\tvar testKey = "ABTests";\n\n\tvar addTest = function addTest(key, groupNum, callback) {\n\t\tchrome.storage.sync.get(testKey, function (settings) {\n\t\t\tvar sKey = preface + key;\n\t\t\tsettings[testKey] = settings[testKey] || {};\n\t\t\tvar value = settings[testKey][sKey] || [-1, 0];\n\t\t\tif (value[0] == -1 || value[1] != groupNum) value = [Math.floor(Math.random() * groupNum), groupNum];\n\t\t\tsettings[testKey][sKey] = value;\n\t\t\tchrome.storage.sync.set(settings);\n\t\t\twindow.sendMessage("appView", { "tag": \'AB_\' + key + "_" + value[0] + "_started" });\n\t\t\t// console.log(\'AB_\' + key + "_" + value[0] + "_started");\n\t\t\tcallback(value[0]);\n\t\t});\n\t};\n\n\tvar getGroup = function getGroup(key, callback) {\n\t\tchrome.storage.sync.get(testKey, function (settings) {\n\t\t\tvar sKey = preface + key;\n\t\t\tsettings[testKey] = settings[testKey] || {};\n\t\t\tvar value = settings[testKey][sKey] || [-1, 0];\n\t\t\tcallback(value[0]);\n\t\t});\n\t};\n\n\tvar testPassed = function testPassed(key) {\n\t\tchrome.storage.sync.get(testKey, function (settings) {\n\t\t\tvar sKey = preface + key;\n\t\t\tsettings[testKey] = settings[testKey] || {};\n\t\t\tvar value = settings[testKey][sKey] || [-1, 0];\n\t\t\tvar group = value[0];\n\t\t\tif (group != -1) window.sendMessage("appView", { "tag": "AB_" + key + "_" + group + "_passed" });\n\t\t\t// if(group != -1) console.log("AB_" + key + "_" + group + "_passed");\n\t\t});\n\t};\n\n\tvar testFailed = function testFailed(key) {\n\t\tchrome.storage.sync.get(testKey, function (settings) {\n\t\t\tvar sKey = preface + key;\n\t\t\tsettings[testKey] = settings[testKey] || {};\n\t\t\tvar value = settings[testKey][sKey] || [-1, 0];\n\t\t\tvar group = value[0];\n\t\t\tif (group != -1) window.sendMessage("appView", { "tag": "AB_" + key + "_" + group + "_failed" });\n\t\t\t// if(group != -1) console.log("AB_" + key + "_" + group + "_failed");\n\t\t});\n\t};\n\n\tvar clearTestKey = function clearTestKey(key) {\n\t\tchrome.storage.sync.get(testKey, function (settings) {\n\t\t\tvar sKey = preface + key;\n\t\t\tsettings[testKey] = settings[testKey] || {};\n\t\t\tdelete settings[testKey][sKey];\n\t\t\tchrome.storage.sync.set(settings);\n\t\t});\n\t};\n\n\tif (isBackground) {\n\t\twindow.addTest = addTest;\n\t\twindow.getGroup = getGroup;\n\t\twindow.testPassed = testPassed;\n\t\twindow.testFailed = testFailed;\n\t\twindow.clearTestKey = clearTestKey;\n\n\t\twindow.addHandler("abCall", function (data, sender, sendResponse) {\n\t\t\tvar func = data.func;\n\t\t\tvar key = data.key;\n\t\t\tvar groupNum = data.groupNum;\n\t\t\tvar callback = sendResponse;\n\n\t\t\tswitch (func) {\n\t\t\t\tcase "addTest":\n\t\t\t\t\taddTest(key, groupNum, callback);break;\n\t\t\t\tcase "getGroup":\n\t\t\t\t\tgetGroup(key, callback);break;\n\t\t\t\tcase "testPassed":\n\t\t\t\t\ttestPassed(key);break;\n\t\t\t\tcase "testFailed":\n\t\t\t\t\ttestFailed(key);break;\n\t\t\t\tcase "clearTestKey":\n\t\t\t\t\tclearTestKey(key);break;\n\t\t\t}\n\t\t});\n\t} else {\n\t\twindow.addTest = function (key, groupNum, callback) {\n\t\t\twindow.sendMessage("abCall", {\n\t\t\t\t"func": "addTest",\n\t\t\t\t"key": key,\n\t\t\t\t"groupNum": groupNum\n\t\t\t}, callback);\n\t\t};\n\t\twindow.getGroup = function (key, callback) {\n\t\t\twindow.sendMessage("abCall", {\n\t\t\t\t"func": "getGroup",\n\t\t\t\t"key": key\n\t\t\t}, callback);\n\t\t};\n\t\twindow.testPassed = function (key) {\n\t\t\twindow.sendMessage("abCall", {\n\t\t\t\t"func": "testPassed",\n\t\t\t\t"key": key\n\t\t\t});\n\t\t};\n\t\twindow.testFailed = function (key) {\n\t\t\twindow.sendMessage("abCall", {\n\t\t\t\t"func": "testFailed",\n\t\t\t\t"key": key\n\t\t\t});\n\t\t};\n\t\twindow.clearTestKey = function (key) {\n\t\t\twindow.sendMessage("abCall", {\n\t\t\t\t"func": "clearTestKey",\n\t\t\t\t"key": key\n\t\t\t});\n\t\t};\n\t}\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL0FCVGVzdGVyLmpzP2UwMGMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuXG52YXIgaXNCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGNocm9tZSAmJiBjaHJvbWUuZXh0ZW5zaW9uICYmIGxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImJhY2tncm91bmRcIikgPiAwOyAgICBcbn1cbmlzQmFja2dyb3VuZCA9IGlzQmFja2dyb3VuZCgpO1xuXG52YXIgcHJlZmFjZSA9IFwiQUJUZXN0X1wiO1xudmFyIHRlc3RLZXkgPSBcIkFCVGVzdHNcIjtcblxudmFyIGFkZFRlc3QgPSBmdW5jdGlvbihrZXksIGdyb3VwTnVtLCBjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCh0ZXN0S2V5LCBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcdHZhciBzS2V5ID0gcHJlZmFjZSArIGtleTtcblx0XHRzZXR0aW5nc1t0ZXN0S2V5XSA9IHNldHRpbmdzW3Rlc3RLZXldIHx8IHt9O1xuXHRcdHZhciB2YWx1ZSA9IHNldHRpbmdzW3Rlc3RLZXldW3NLZXldIHx8IFstMSwwXTtcblx0XHRpZih2YWx1ZVswXSA9PSAtMSB8fCB2YWx1ZVsxXSAhPSBncm91cE51bSkgdmFsdWUgPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmdyb3VwTnVtKSwgZ3JvdXBOdW1dO1xuXHRcdHNldHRpbmdzW3Rlc3RLZXldW3NLZXldID0gdmFsdWU7XG5cdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoc2V0dGluZ3MpO1xuXHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImFwcFZpZXdcIiwge1widGFnXCI6ICdBQl8nICsga2V5ICsgXCJfXCIgKyB2YWx1ZVswXSArIFwiX3N0YXJ0ZWRcIn0pO1xuXHRcdC8vIGNvbnNvbGUubG9nKCdBQl8nICsga2V5ICsgXCJfXCIgKyB2YWx1ZVswXSArIFwiX3N0YXJ0ZWRcIik7XG5cdFx0Y2FsbGJhY2sodmFsdWVbMF0pO1xuXHR9KTtcbn1cblxudmFyIGdldEdyb3VwID0gZnVuY3Rpb24oa2V5LCBjYWxsYmFjaykge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCh0ZXN0S2V5LCBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcdHZhciBzS2V5ID0gcHJlZmFjZSArIGtleTtcblx0XHRzZXR0aW5nc1t0ZXN0S2V5XSA9IHNldHRpbmdzW3Rlc3RLZXldIHx8IHt9O1xuXHRcdHZhciB2YWx1ZSA9IHNldHRpbmdzW3Rlc3RLZXldW3NLZXldIHx8IFstMSwwXTtcblx0XHRjYWxsYmFjayh2YWx1ZVswXSk7XG5cdH0pO1xufVxuXG52YXIgdGVzdFBhc3NlZCA9IGZ1bmN0aW9uKGtleSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCh0ZXN0S2V5LCBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcdHZhciBzS2V5ID0gcHJlZmFjZSArIGtleTtcblx0XHRzZXR0aW5nc1t0ZXN0S2V5XSA9IHNldHRpbmdzW3Rlc3RLZXldIHx8IHt9O1xuXHRcdHZhciB2YWx1ZSA9IHNldHRpbmdzW3Rlc3RLZXldW3NLZXldIHx8IFstMSwwXTtcblx0XHR2YXIgZ3JvdXAgPSB2YWx1ZVswXTtcblx0XHRpZihncm91cCAhPSAtMSkgd2luZG93LnNlbmRNZXNzYWdlKFwiYXBwVmlld1wiLCB7XCJ0YWdcIjogXCJBQl9cIiArIGtleSArIFwiX1wiICsgZ3JvdXAgKyBcIl9wYXNzZWRcIn0pO1xuXHRcdC8vIGlmKGdyb3VwICE9IC0xKSBjb25zb2xlLmxvZyhcIkFCX1wiICsga2V5ICsgXCJfXCIgKyBncm91cCArIFwiX3Bhc3NlZFwiKTtcblx0fSk7XG59XG5cbnZhciB0ZXN0RmFpbGVkID0gZnVuY3Rpb24oa2V5KSB7XG5cdGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KHRlc3RLZXksIGZ1bmN0aW9uKHNldHRpbmdzKSB7XG5cdFx0dmFyIHNLZXkgPSBwcmVmYWNlICsga2V5O1xuXHRcdHNldHRpbmdzW3Rlc3RLZXldID0gc2V0dGluZ3NbdGVzdEtleV0gfHwge307XG5cdFx0dmFyIHZhbHVlID0gc2V0dGluZ3NbdGVzdEtleV1bc0tleV0gfHwgWy0xLDBdO1xuXHRcdHZhciBncm91cCA9IHZhbHVlWzBdO1xuXHRcdGlmKGdyb3VwICE9IC0xKSB3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhcHBWaWV3XCIsIHtcInRhZ1wiOiBcIkFCX1wiICsga2V5ICsgXCJfXCIgKyBncm91cCArIFwiX2ZhaWxlZFwifSk7XG5cdFx0Ly8gaWYoZ3JvdXAgIT0gLTEpIGNvbnNvbGUubG9nKFwiQUJfXCIgKyBrZXkgKyBcIl9cIiArIGdyb3VwICsgXCJfZmFpbGVkXCIpO1xuXHR9KTtcbn1cblxudmFyIGNsZWFyVGVzdEtleSA9IGZ1bmN0aW9uKGtleSkge1xuXHRjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCh0ZXN0S2V5LCBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcdHZhciBzS2V5ID0gcHJlZmFjZSArIGtleTtcblx0XHRzZXR0aW5nc1t0ZXN0S2V5XSA9IHNldHRpbmdzW3Rlc3RLZXldIHx8IHt9O1xuXHRcdGRlbGV0ZSBzZXR0aW5nc1t0ZXN0S2V5XVtzS2V5XTtcblx0XHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChzZXR0aW5ncyk7XG5cdH0pO1xufVxuXG5pZihpc0JhY2tncm91bmQpIHtcblx0d2luZG93LmFkZFRlc3QgPSBhZGRUZXN0O1xuXHR3aW5kb3cuZ2V0R3JvdXAgPSBnZXRHcm91cDtcblx0d2luZG93LnRlc3RQYXNzZWQgPSB0ZXN0UGFzc2VkO1xuXHR3aW5kb3cudGVzdEZhaWxlZCA9IHRlc3RGYWlsZWQ7XG5cdHdpbmRvdy5jbGVhclRlc3RLZXkgPSBjbGVhclRlc3RLZXk7XG5cblx0d2luZG93LmFkZEhhbmRsZXIoXCJhYkNhbGxcIiwgZnVuY3Rpb24oZGF0YSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcblx0XHR2YXIgZnVuYyA9IGRhdGEuZnVuYztcblx0XHR2YXIga2V5ID0gZGF0YS5rZXk7XG5cdFx0dmFyIGdyb3VwTnVtID0gZGF0YS5ncm91cE51bTtcblx0XHR2YXIgY2FsbGJhY2sgPSBzZW5kUmVzcG9uc2U7XG5cblx0XHRzd2l0Y2goZnVuYykge1xuXHRcdFx0Y2FzZSBcImFkZFRlc3RcIjogYWRkVGVzdChrZXksIGdyb3VwTnVtLCBjYWxsYmFjayk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImdldEdyb3VwXCI6IGdldEdyb3VwKGtleSwgY2FsbGJhY2spOyBicmVhaztcblx0XHRcdGNhc2UgXCJ0ZXN0UGFzc2VkXCI6IHRlc3RQYXNzZWQoa2V5KTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwidGVzdEZhaWxlZFwiOiB0ZXN0RmFpbGVkKGtleSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNsZWFyVGVzdEtleVwiOiBjbGVhclRlc3RLZXkoa2V5KTsgYnJlYWs7XG5cdFx0fVxuXHR9KTtcbn0gZWxzZSB7XG5cdHdpbmRvdy5hZGRUZXN0ID0gZnVuY3Rpb24oa2V5LCBncm91cE51bSwgY2FsbGJhY2spIHtcblx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhYkNhbGxcIiwge1xuXHRcdFx0XCJmdW5jXCI6IFwiYWRkVGVzdFwiLFxuXHRcdFx0XCJrZXlcIjoga2V5LFxuXHRcdFx0XCJncm91cE51bVwiOiBncm91cE51bVxuXHRcdH0sIGNhbGxiYWNrKTtcblx0fVxuXHR3aW5kb3cuZ2V0R3JvdXAgPSBmdW5jdGlvbihrZXksIGNhbGxiYWNrKSB7XG5cdFx0d2luZG93LnNlbmRNZXNzYWdlKFwiYWJDYWxsXCIsIHtcblx0XHRcdFwiZnVuY1wiOiBcImdldEdyb3VwXCIsXG5cdFx0XHRcImtleVwiOiBrZXlcblx0XHR9LCBjYWxsYmFjayk7XG5cdH1cblx0d2luZG93LnRlc3RQYXNzZWQgPSBmdW5jdGlvbihrZXkpIHtcblx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhYkNhbGxcIiwge1xuXHRcdFx0XCJmdW5jXCI6IFwidGVzdFBhc3NlZFwiLFxuXHRcdFx0XCJrZXlcIjoga2V5XG5cdFx0fSk7XG5cdH1cblx0d2luZG93LnRlc3RGYWlsZWQgPSBmdW5jdGlvbihrZXkpIHtcblx0XHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJhYkNhbGxcIiwge1xuXHRcdFx0XCJmdW5jXCI6IFwidGVzdEZhaWxlZFwiLFxuXHRcdFx0XCJrZXlcIjoga2V5XG5cdFx0fSk7XG5cdH1cblx0d2luZG93LmNsZWFyVGVzdEtleSA9IGZ1bmN0aW9uKGtleSkge1xuXHRcdHdpbmRvdy5zZW5kTWVzc2FnZShcImFiQ2FsbFwiLCB7XG5cdFx0XHRcImZ1bmNcIjogXCJjbGVhclRlc3RLZXlcIixcblx0XHRcdFwia2V5XCI6IGtleVxuXHRcdH0pO1xuXHR9XG59XG5cbn0pKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9BQlRlc3Rlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=')},44:function(module,exports){eval('(function () {\n\n\tfunction isBackground() {\n\t\treturn chrome && chrome.extension && location.href.indexOf("background") > 0;\n\t}\n\tisBackground = isBackground();\n\n\tif (isBackground) (function () {\n\n\t\tvar scriptPaths = [];\n\n\t\twindow.addHandler("newTab", function (data, sender) {\n\n\t\t\tvar i = 0;\n\t\t\tvar injectLoop = function injectLoop() {\n\t\t\t\tif (i >= scriptPaths.length) return;\n\t\t\t\tchrome.tabs.executeScript(sender.tab.id, { file: scriptPaths[i++] }, injectLoop);\n\t\t\t};\n\t\t\tinjectLoop();\n\t\t});\n\n\t\twindow.addContentScript = function (scriptPath) {\n\t\t\tscriptPaths.push(scriptPath);\n\t\t};\n\t})();else (function () {\n\t\twindow.sendMessage("newTab");\n\t})();\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzL2NvbnRlbnRTY3JpcHRTeXN0ZW0uanM/N2E3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbmZ1bmN0aW9uIGlzQmFja2dyb3VuZCgpIHtcbiAgICByZXR1cm4gY2hyb21lICYmIGNocm9tZS5leHRlbnNpb24gJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKSA+IDA7XG59XG5pc0JhY2tncm91bmQgPSBpc0JhY2tncm91bmQoKTtcblxuXG5pZihpc0JhY2tncm91bmQpIChmdW5jdGlvbigpIHtcblxuXHR2YXIgc2NyaXB0UGF0aHMgPSBbXTtcblxuXHR3aW5kb3cuYWRkSGFuZGxlcihcIm5ld1RhYlwiLCBmdW5jdGlvbihkYXRhLCBzZW5kZXIpIHtcblxuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgaW5qZWN0TG9vcCA9IGZ1bmN0aW9uKCkgeyBpZihpID49IHNjcmlwdFBhdGhzLmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0Y2hyb21lLnRhYnMuZXhlY3V0ZVNjcmlwdChzZW5kZXIudGFiLmlkLCB7ZmlsZTogc2NyaXB0UGF0aHNbaSsrXX0sIGluamVjdExvb3ApO1xuXHRcdH07XG5cdFx0aW5qZWN0TG9vcCgpO1xuXHR9KTtcblxuXHR3aW5kb3cuYWRkQ29udGVudFNjcmlwdCA9IGZ1bmN0aW9uKHNjcmlwdFBhdGgpIHtcblx0XHRzY3JpcHRQYXRocy5wdXNoKHNjcmlwdFBhdGgpO1xuXHR9XG5cbn0pKCk7IGVsc2UgKGZ1bmN0aW9uKCkge1xuXHR3aW5kb3cuc2VuZE1lc3NhZ2UoXCJuZXdUYWJcIik7XG59KSgpO1xuXG5cblxufSkoKTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy91dGlscy9jb250ZW50U2NyaXB0U3lzdGVtLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQSIsInNvdXJjZVJvb3QiOiIifQ==')},83:function(module,exports,__webpack_require__){eval("__webpack_require__(129);\n\n__webpack_require__(131);\n\n__webpack_require__(18);\n\n__webpack_require__(143);\n\n__webpack_require__(142);\n\n__webpack_require__(22);\n\n__webpack_require__(21);\n\n__webpack_require__(41);\n\n__webpack_require__(20);\n\n__webpack_require__(42);\n\n__webpack_require__(132);\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(19);\n\n__webpack_require__(23);\n\n__webpack_require__(139);\n\n__webpack_require__(138);\n\n__webpack_require__(141);\n\n__webpack_require__(83);\n\n__webpack_require__(140);\n\n(function () {\n\tvar apiKey = /* @mangle */'e3a4477c01b482ea5acc6ed03b1f419f' /* @/mangle */;\n\tvar app = new App({\n\t\tgaKey: 'UA-52964321-1',\n\t\tiSpeechAPIKey: apiKey,\n\t\tlimitPerDay: 5000,\n\t\tbuyUrl: \"http://sandbox.ispeech.org/payment/selectandspeak\"\n\t});\n\n\tvar version = chrome.app.getDetails().version;\n\tif (!window.localStorage.getItem('seenVersion')) {\n\t\twindow.localStorage.setItem('seenVersion', version);\n\t\topenOptions(true);\n\t\tapp.gaTracker.sendEvent('payment', 'open on install');\n\t\tapp.gaTracker.sendAppView('Install Buy Opened');\n\t}\n\n\t// open Tutorial\n\t// window.open(\"https://en.wikipedia.org/wiki/Speech_synthesis#selspeakTut\", \"Select and Speak Tutorial\", \"menubar=0,toolbar=0,status=0\")\n\n\t//inject content-scripts into all the pages\n\tvar manifest = chrome.runtime.getManifest();\n\tvar scripts = manifest.content_scripts[0].js;\n\tvar css = manifest.content_scripts[0].css;\n\tvar injectIn = function injectIn(tabId) {\n\t\tvar injectNum = 0;\n\t\tvar inject = function inject() {\n\t\t\tif (injectNum >= scripts.length) {\n\t\t\t\tvar cssNum = injectNum - scripts.length;\n\t\t\t\tif (typeof css == \"undefined\" || cssNum >= css.length) return;\n\t\t\t\tinjectNum++;\n\t\t\t\tchrome.tabs.insertCSS(tabId, { file: css[cssNum] }, inject);\n\t\t\t} else {\n\t\t\t\tchrome.tabs.executeScript(tabId, { file: scripts[injectNum++] }, inject);\n\t\t\t}\n\t\t};\n\t\tinject();\n\t};\n\tchrome.tabs.query({}, function (tabs) {\n\t\tfor (var i = 0; i < tabs.length; i++) {\n\t\t\tif (tabs[i].url.startsWith(\"http\") && !tabs[i].discarded && !tabs[i].url.startsWith(\"https://chrome.google.com\")) injectIn(tabs[i].id);\n\t\t}\n\t});\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2JhY2tncm91bmQuanM/YmMzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuL2FwcC9jYWNoZS5qc1wiO1xuaW1wb3J0IFwiLi9nYS9nb29nbGUtYW5hbHl0aWNzLWJ1bmRsZS5qc1wiO1xuaW1wb3J0IFwiLi9nYS9idXkuanNcIjtcbmltcG9ydCBcIi4vdXRpbHMvcG9wU3lzdGVtLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWxzL2V4dEZpbmRlci5qc1wiO1xuaW1wb3J0IFwiLi91dGlscy9tZXNzYWdlU3lzdGVtLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWxzL2RhdGUuanNcIjtcbmltcG9ydCBcIi4vYXBwL3VmLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWxzL2J1eVV0aWxzLmpzXCI7XG5pbXBvcnQgXCIuL2lzcGVlY2gvYXBpLmpzXCI7XG5pbXBvcnQgXCIuL2lzcGVlY2gvc2Vzc2lvbi5qc1wiO1xuaW1wb3J0IFwiLi91dGlscy9BQlRlc3Rlci5qc1wiO1xuaW1wb3J0IFwiLi91dGlscy9jb250ZW50U2NyaXB0U3lzdGVtLmpzXCI7XG5pbXBvcnQgXCIuL3NlbGVjdC1hbmQtc3BlYWsvc3RvcmFnZS5qc1wiO1xuaW1wb3J0IFwiLi91dGlscy9zZXR0aW5nc1N5c3RlbS5qc1wiO1xuaW1wb3J0IFwiLi9zZWxlY3QtYW5kLXNwZWFrL3BsYXlsaXN0LmpzXCI7XG5pbXBvcnQgXCIuL3NlbGVjdC1hbmQtc3BlYWsvYXBwLmpzXCI7XG5pbXBvcnQgXCIuL3V0aWxzL2FjdGlvblN5c3RlbS5qc1wiO1xuaW1wb3J0IFwiLi9iYWNrZ3JvdW5kLmpzXCI7XG5pbXBvcnQgXCIuL3NldHVwQWN0aW9ucy5qc1wiO1xuXG4oZnVuY3Rpb24oKSB7XG5cdHZhciBhcGlLZXkgPSAvKiBAbWFuZ2xlICovICdlM2E0NDc3YzAxYjQ4MmVhNWFjYzZlZDAzYjFmNDE5ZicgLyogQC9tYW5nbGUgKi87XG5cdHZhciBhcHAgPSBuZXcgQXBwKHtcblx0XHRnYUtleTogJ1VBLTUyOTY0MzIxLTEnLFxuXHRcdGlTcGVlY2hBUElLZXk6IGFwaUtleSxcblx0XHRsaW1pdFBlckRheTogNTAwMCxcblx0XHRidXlVcmw6IFwiaHR0cDovL3NhbmRib3guaXNwZWVjaC5vcmcvcGF5bWVudC9zZWxlY3RhbmRzcGVha1wiXG5cdH0pO1xuXG5cdHZhciB2ZXJzaW9uID0gY2hyb21lLmFwcC5nZXREZXRhaWxzKCkudmVyc2lvbjtcblx0aWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlZW5WZXJzaW9uJykpIHtcblx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlZW5WZXJzaW9uJywgdmVyc2lvbik7XG5cdFx0b3Blbk9wdGlvbnModHJ1ZSk7XG5cdFx0YXBwLmdhVHJhY2tlci5zZW5kRXZlbnQoJ3BheW1lbnQnLCAnb3BlbiBvbiBpbnN0YWxsJyk7XG5cdFx0YXBwLmdhVHJhY2tlci5zZW5kQXBwVmlldygnSW5zdGFsbCBCdXkgT3BlbmVkJyk7XG5cdH1cblxuXHQvLyBvcGVuIFR1dG9yaWFsXG4gICAgLy8gd2luZG93Lm9wZW4oXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TcGVlY2hfc3ludGhlc2lzI3NlbHNwZWFrVHV0XCIsIFwiU2VsZWN0IGFuZCBTcGVhayBUdXRvcmlhbFwiLCBcIm1lbnViYXI9MCx0b29sYmFyPTAsc3RhdHVzPTBcIilcbiAgICBcbiAgICAvL2luamVjdCBjb250ZW50LXNjcmlwdHMgaW50byBhbGwgdGhlIHBhZ2VzXG5cdHZhciBtYW5pZmVzdCA9IGNocm9tZS5ydW50aW1lLmdldE1hbmlmZXN0KCk7XG5cdHZhciBzY3JpcHRzID0gbWFuaWZlc3QuY29udGVudF9zY3JpcHRzWzBdLmpzO1xuXHR2YXIgY3NzID0gbWFuaWZlc3QuY29udGVudF9zY3JpcHRzWzBdLmNzcztcblx0dmFyIGluamVjdEluID0gZnVuY3Rpb24odGFiSWQpIHtcblx0XHR2YXIgaW5qZWN0TnVtID0gMDtcblx0XHR2YXIgaW5qZWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihpbmplY3ROdW0gPj0gc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGNzc051bSA9IGluamVjdE51bSAtIHNjcmlwdHMubGVuZ3RoO1xuXHRcdFx0XHRpZih0eXBlb2YoY3NzKSA9PSBcInVuZGVmaW5lZFwiIHx8IGNzc051bSA+PSBjc3MubGVuZ3RoKSByZXR1cm47XG5cdFx0XHRcdGluamVjdE51bSsrO1xuXHRcdFx0XHRjaHJvbWUudGFicy5pbnNlcnRDU1ModGFiSWQsIHtmaWxlOiBjc3NbY3NzTnVtXX0sIGluamVjdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjaHJvbWUudGFicy5leGVjdXRlU2NyaXB0KHRhYklkLCB7ZmlsZTogc2NyaXB0c1tpbmplY3ROdW0rK119LCBpbmplY3QpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpbmplY3QoKTtcblx0fVxuXHRjaHJvbWUudGFicy5xdWVyeSh7fSwgZnVuY3Rpb24odGFicykge1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0YWJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZih0YWJzW2ldLnVybC5zdGFydHNXaXRoKFwiaHR0cFwiKSAmJiAhdGFic1tpXS5kaXNjYXJkZWQgJiYgIXRhYnNbaV0udXJsLnN0YXJ0c1dpdGgoXCJodHRwczovL2Nocm9tZS5nb29nbGUuY29tXCIpKVxuXHRcdFx0XHRpbmplY3RJbih0YWJzW2ldLmlkKTtcblx0XHR9XG5cdH0pO1xufSkoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2JhY2tncm91bmQuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9")}});